<!DOCTYPE html><html lang="en"><head><style>.thumbnail img{max-width:256px; max-height:256px;}.fg{background-color:#2A3845;}.bg{background-color:#08141F;}</style><meta charset="utf-8"/><link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20fill%3D%22deepskyblue%22%20stroke%3D%22black%22%20stroke-width%3D%221%22%20d%3D%22M%207.86%2C0.86%20C%2015.01%2C0.90%2015.02%2C0.41%2015.02%2C2.61%2015.00%2C4.08%2013.52%2C4.00%2012.95%2C4.02%2012.39%2C4.03%2013.39%2C3.12%2011.06%2C3.02%208.73%2C3.03%208.98%2C2.72%209.00%2C5.20%209.02%2C8.02%2011.25%2C10.23%2015.02%2C13.17%2015.00%2C15.03%2013.03%2C15.05%2013.03%2C15.05%2013.03%2C15.05%209.14%2C10.03%208.03%2C9.98%206.92%2C9.98%205.47%2C12.46%202.93%2C15.00%200.88%2C14.84%201.00%2C13.02%201.00%2C13.02%201.00%2C13.02%207.03%2C8.97%207.00%2C5.31%207.00%2C2.58%207.12%2C3.05%204.87%2C3.01%203.02%2C3.01%203.56%2C3.98%202.98%2C4.02%202.41%2C4.05%201.09%2C4.19%201.06%2C2.56%201.04%2C0.78%200.54%2C0.87%207.86%2C0.86%20Z%20M%206.48%2C9.47M%201.65%2C2.55%22/%3E%3C/svg%3E" type="image/svg+xml"/><style>
/*
Copyright (c) 2020 by Aysenur Turk (https://codepen.io/TurkAysenur/pen/RwWKYMO)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

@import url("https://fonts.googleapis.com/css?family=DM+Sans:400,500,700|Source+Sans+Pro:300,400,600,700&display=swap");
#main-container * {
  box-sizing: border-box;
}

body {
  font-family: "Source Sans Pro", sans-serif;
  background-color:#000;
  color: #ccc8db;
}

#content{
  left:0px;
  display: flex;
  max-width:100%;
  height:100%;
  overflow: hidden;
  margin: 0 auto;
}

#left-side {
  width: 260px;
  border-right: 1px solid #272a3a;
  display: flex;
  flex-direction: column;
  overflow: auto;
}

#right-side {
  width: 280px;
  display: flex;
  flex-direction: column;
}

.main {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  background-color: #181d2f;
}

.side-title {
  font-family: "DM Sans", sans-serif;
  color: #5c5e6e;
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 20px;
  text-transform:uppercase;
}

.side-wrapper {
  padding: 30px;
}

.side-menu {
  display: flex;
  flex-direction: column;
  font-size: 15px;
  white-space: nowrap;
}
.side-menu svg {
  margin-right: 16px;
  width: 16px;
}
.side-menu a {
  text-decoration: none;
  color: #9c9cab;
  display: flex;
  align-items: center;
}
.side-menu a:hover {
  color: #fff;
}
.side-menu a:not(:last-child) {
  margin-bottom: 20px;
}

.follow-me {
  text-decoration: none;
  font-size: 14px;
  display: flex;
  align-items: center;
  margin-top: auto;
  overflow: hidden;
  color: #9c9cab;
  padding: 0 20px;
  height: 52px;
  flex-shrink: 0;
  border-top: 1px solid #272a3a;
  position: relative;
}
.follow-me svg {
  width: 16px;
  height: 16px;
  margin-right: 8px;
}

.follow-text {
  display: flex;
  align-items: center;
  transition: 0.3s;
}

.follow-me:hover .follow-text {
  transform: translateY(100%);
}
.follow-me:hover .developer {
  top: 0;
}

.developer {
  position: absolute;
  color: #fff;
  left: 0;
  top: -100%;
  display: flex;
  transition: 0.3s;
  padding: 0 20px;
  align-items: center;
  background-color: #272a3a;
  width: 100%;
  height: 100%;
}

.developer img {
  border-radius: 50%;
  width: 26px;
  height: 26px;
  object-fit: cover;
  margin-right: 10px;
}

#qry-bar{
  height: 60px;
  z-index: 3;
  position: relative;
}
#qry{
  width: 100%;
  padding: 0 54px;
  background-color: transparent;
  border:none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512'%3e%3cpath d='M508.9 478.7L360 330a201.6 201.6 0 0045.2-127.3C405.3 90.9 314.4 0 202.7 0S0 91 0 202.7s91 202.6 202.7 202.6c48.2 0 92.4-17 127.3-45.2L478.7 509c4.2 4.1 11 4.1 15 0l15.2-15.1c4.1-4.2 4.1-11 0-15zm-306.2-116c-88.3 0-160-71.8-160-160s71.7-160 160-160 160 71.7 160 160-71.8 160-160 160z' data-original='%23000000' class='active-path' data-old_color='%23000000' fill='%235C5D71'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-size: 16px;
  background-position: 25px 50%;
  color: #fff;
}
#qry::placeholder {
  color: #5c5d71;
}

#main-container{
  flex-grow: 1;
  overflow: auto;
}

#profile{
  position: relative;
  height: 170px;
}

#profile-menu{
  position: absolute;
  bottom: 0;
  padding-left:190px;
  width: 100%;
}

#profile-menu a.active, #profile-menu a:hover {
  color: #fff;
  background-color: #1b1d2e;
  border-bottom: 3px solid #1488fa;
}

.profile-avatar {
  position: absolute;
  align-items: center;
  display: flex;
  z-index: 1;
  bottom: 16px;
  left: 24px;
}

#profile-img {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  border: 3px solid #151728;
}

#profile-name {
  margin-left: 24px;
  font-size: 24px;
  color: #fff;
  font-weight: 600;
  -webkit-text-stroke:1px black;
}

.user {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.user + .user {
  margin-top: 18px;
}

.icon{
  border-radius: 50%;
  width: 45px;
  height: 45px;
  margin-right: 15px;
  object-fit: cover;
  object-position: center;
}

.username {
  font-size: 15px;
  font-family: "DM Sans", sans-serif;
}

.account-user svg{
  width: 28px;
  height: 28px;
  border-radius: 50%;
  margin: 0 10px;
}

.account-user {
  display: inline-flex;
  align-items: center;
  color: #64677a;
  font-weight: 600;
}

.account {
  height: 60px;
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 3;
  flex-shrink: 0;
}

#right-side-button {
  position: absolute;
  right: 0;
  top: 0;
  height: 100%;
  border: 0;
  width: 52px;
  background-color: #1e2031;
  border-left: 1px solid #272a3a;
  color: #fff;
  display: none;
  cursor: pointer;
}
#right-side-button:before {
  content: "";
  width: 10px;
  height: 10px;
  border-radius: 50%;
  position: absolute;
  background-color: #1b86f8;
  border: 2px solid #1e2031;
  top: 13px;
  right: 12px;
}
#right-side-button svg {
  width: 22px;
}

#left-side-button {
  display: none;
}

::-webkit-scrollbar {
  width: 10px;
  border-radius: 10px;
}

/* Track */
::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.01);
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.11);
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.1);
}
textedit{display:block;white-space:pre;}#main-container{max-width:100vw;}.selected1{background:#055;}.selected2{background:#505;}.selected3{background:#550;}p.selected1, p.selected2, p.selected3{display:inline!important;}.hidden{display:none!important;}.invisible{visibility:hidden;max-width:0px;max-height:0px;}#content{top:0px;position:absolute;}.box{border:1px solid #999;}.list{padding:2px 7px}.help p, .task-content, #text-edit{background:#fff;color:#000;font-family:monospace;line-height:1.7em;margin-bottom:1.5em;max-width:100%;overflow:auto;padding:2em 2em;white-space:pre-wrap;}#view *{width:100%;}.cmnt p{white-space:pre-line;}.del{background:#f00;border:none;}#likes{position:fixed;background:#cba;z-index:999;overflow-y:auto;}.task a{display:block;}#add-f-backup,#file2-container,#view-btns-container{outline:#f00 solid 1px;}a{color:#aff;font-weight:bold;cursor:pointer;}a:hover{color:#fff;}.db,.db a{color:pink;}.ftitle{font-weight:bold;}.time{color:#05f;}.date{color:#0af;}.date,.time{display:inline;}.w{display:inline;}.h:before{content:' x ';}.h{display:inline;}.views{color:purple;}.likes{color:green;display:inline;}.dislikes:before{content:' ';}.dislikes{color:red;display:inline;}.dir-size:after{content:' files';}.thumbnail img:hover{cursor:pointer;outline:1px dashed red;outline-offset:-1px;}.tbody .tr:hover{outline:1px dashed #a0f;outline-offset:-1px;}.media-view{max-width:100vw;max-height:100vh;}.unmake-popup{display:none;}.popup{position: fixed!important;z-index:999;background:rgba(0,0,0,0.7);text-align:center;vertical-align:middle;}.popup .unmake-popup{display:block!important;}#right-side{overflow-y:scroll;}#profile-img img, #profile-img svg{width:100%;border-radius:50%;}.table a svg{display:inline;}.profile-avatar{pointer-events:none;}.profile-avatar *{pointer-events:all;}#right-side{max-height:100vh;}.repeatness svg{width:24px;}#admin-dashboard a svg{width:48px;}#qry{font-size:24px;}#text-editor a svg{width:24px;}#text-edit{max-height:75vh;}#my-settings svg{width:24px;}.side-menu svg, #profile-menu svg, #view-btns-container svg{width:24px;}.side-title svg{width:48px;height:48px;}#profile-menu a svg{width:48px;height:48px;padding-left:10px;}.table a svg{width:24px;}
.xdsoft_datetimepicker {
	box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.506);
	background: #fff;
	border-bottom: 1px solid #bbb;
	border-left: 1px solid #ccc;
	border-right: 1px solid #ccc;
	border-top: 1px solid #ccc;
	color: #333;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	padding: 8px;
	padding-left: 0;
	padding-top: 2px;
	position: absolute;
	z-index: 9999;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
	display: none;
}
.xdsoft_datetimepicker.xdsoft_rtl {
	padding: 8px 0 8px 8px;
}

.xdsoft_datetimepicker iframe {
	position: absolute;
	left: 0;
	top: 0;
	width: 75px;
	height: 210px;
	background: transparent;
	border: none;
}

/*For IE8 or lower*/
.xdsoft_datetimepicker button {
	border: none !important;
}

.xdsoft_noselect {
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	-o-user-select: none;
	user-select: none;
}

.xdsoft_noselect::selection { background: transparent }
.xdsoft_noselect::-moz-selection { background: transparent }

.xdsoft_datetimepicker.xdsoft_inline {
	display: inline-block;
	position: static;
	box-shadow: none;
}

.xdsoft_datetimepicker * {
	-moz-box-sizing: border-box;
	box-sizing: border-box;
	padding: 0;
	margin: 0;
}

.xdsoft_datetimepicker .xdsoft_datepicker, .xdsoft_datetimepicker .xdsoft_timepicker {
	display: none;
}

.xdsoft_datetimepicker .xdsoft_datepicker.active, .xdsoft_datetimepicker .xdsoft_timepicker.active {
	display: block;
}

.xdsoft_datetimepicker .xdsoft_datepicker {
	width: 224px;
	float: left;
	margin-left: 8px;
}
.xdsoft_datetimepicker.xdsoft_rtl .xdsoft_datepicker {
	float: right;
	margin-right: 8px;
	margin-left: 0;
}

.xdsoft_datetimepicker.xdsoft_showweeks .xdsoft_datepicker {
	width: 256px;
}

.xdsoft_datetimepicker .xdsoft_timepicker {
	width: 58px;
	float: left;
	text-align: center;
	margin-left: 8px;
	margin-top: 0;
}
.xdsoft_datetimepicker.xdsoft_rtl .xdsoft_timepicker {
	float: right;
	margin-right: 8px;
	margin-left: 0;
}

.xdsoft_datetimepicker .xdsoft_datepicker.active+.xdsoft_timepicker {
	margin-top: 8px;
	margin-bottom: 3px
}

.xdsoft_datetimepicker .xdsoft_monthpicker {
	position: relative;
	text-align: center;
}

.xdsoft_datetimepicker .xdsoft_label i,
.xdsoft_datetimepicker .xdsoft_prev,
.xdsoft_datetimepicker .xdsoft_next,
.xdsoft_datetimepicker .xdsoft_today_button {
	background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0NBRjI1NjM0M0UwMTFFNDk4NkFGMzJFQkQzQjEwRUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0NBRjI1NjQ0M0UwMTFFNDk4NkFGMzJFQkQzQjEwRUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQ0FGMjU2MTQzRTAxMUU0OTg2QUYzMkVCRDNCMTBFQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0FGMjU2MjQzRTAxMUU0OTg2QUYzMkVCRDNCMTBFQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoNEP54AAAIOSURBVHja7Jq9TsMwEMcxrZD4WpBYeKUCe+kTMCACHZh4BFfHO/AAIHZGFhYkBBsSEqxsLCAgXKhbXYOTxh9pfJVP+qutnZ5s/5Lz2Y5I03QhWji2GIcgAokWgfCxNvcOCCGKqiSqhUp0laHOne05vdEyGMfkdxJDVjgwDlEQgYQBgx+ULJaWSXXS6r/ER5FBVR8VfGftTKcITNs+a1XpcFoExREIDF14AVIFxgQUS+h520cdud6wNkC0UBw6BCO/HoCYwBhD8QCkQ/x1mwDyD4plh4D6DDV0TAGyo4HcawLIBBSLDkHeH0Mg2yVP3l4TQMZQDDsEOl/MgHQqhMNuE0D+oBh0CIr8MAKyazBH9WyBuKxDWgbXfjNf32TZ1KWm/Ap1oSk/R53UtQ5xTh3LUlMmT8gt6g51Q9p+SobxgJQ/qmsfZhWywGFSl0yBjCLJCMgXail3b7+rumdVJ2YRss4cN+r6qAHDkPWjPjdJCF4n9RmAD/V9A/Wp4NQassDjwlB6XBiCxcJQWmZZb8THFilfy/lfrTvLghq2TqTHrRMTKNJ0sIhdo15RT+RpyWwFdY96UZ/LdQKBGjcXpcc1AlSFEfLmouD+1knuxBDUVrvOBmoOC/rEcN7OQxKVeJTCiAdUzUJhA2Oez9QTkp72OTVcxDcXY8iKNkxGAJXmJCOQwOa6dhyXsOa6XwEGAKdeb5ET3rQdAAAAAElFTkSuQmCC);
}

.xdsoft_datetimepicker .xdsoft_label i {
	opacity: 0.5;
	background-position: -92px -19px;
	display: inline-block;
	width: 9px;
	height: 20px;
	vertical-align: middle;
}

.xdsoft_datetimepicker .xdsoft_prev {
	float: left;
	background-position: -20px 0;
}
.xdsoft_datetimepicker .xdsoft_today_button {
	float: left;
	background-position: -70px 0;
	margin-left: 5px;
}

.xdsoft_datetimepicker .xdsoft_next {
	float: right;
	background-position: 0 0;
}

.xdsoft_datetimepicker .xdsoft_next,
.xdsoft_datetimepicker .xdsoft_prev ,
.xdsoft_datetimepicker .xdsoft_today_button {
	background-color: transparent;
	background-repeat: no-repeat;
	border: 0 none;
	cursor: pointer;
	display: block;
	height: 30px;
	opacity: 0.5;
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
	outline: medium none;
	overflow: hidden;
	padding: 0;
	position: relative;
	text-indent: 100%;
	white-space: nowrap;
	width: 20px;
	min-width: 0;
}

.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_prev,
.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_next {
	float: none;
	background-position: -40px -15px;
	height: 15px;
	width: 30px;
	display: block;
	margin-left: 14px;
	margin-top: 7px;
}
.xdsoft_datetimepicker.xdsoft_rtl .xdsoft_timepicker .xdsoft_prev,
.xdsoft_datetimepicker.xdsoft_rtl .xdsoft_timepicker .xdsoft_next {
	float: none;
	margin-left: 0;
	margin-right: 14px;
}

.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_prev {
	background-position: -40px 0;
	margin-bottom: 7px;
	margin-top: 0;
}

.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box {
	height: 151px;
	overflow: hidden;
	border-bottom: 1px solid #ddd;
}

.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box >div >div {
	background: #f5f5f5;
	border-top: 1px solid #ddd;
	color: #666;
	font-size: 12px;
	text-align: center;
	border-collapse: collapse;
	cursor: pointer;
	border-bottom-width: 0;
	height: 25px;
	line-height: 25px;
}

.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box >div > div:first-child {
	border-top-width: 0;
}

.xdsoft_datetimepicker .xdsoft_today_button:hover,
.xdsoft_datetimepicker .xdsoft_next:hover,
.xdsoft_datetimepicker .xdsoft_prev:hover {
	opacity: 1;
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
}

.xdsoft_datetimepicker .xdsoft_label {
	display: inline;
	position: relative;
	z-index: 9999;
	margin: 0;
	padding: 5px 3px;
	font-size: 14px;
	line-height: 20px;
	font-weight: bold;
	background-color: #fff;
	float: left;
	width: 182px;
	text-align: center;
	cursor: pointer;
}

.xdsoft_datetimepicker .xdsoft_label:hover>span {
	text-decoration: underline;
}

.xdsoft_datetimepicker .xdsoft_label:hover i {
	opacity: 1.0;
}

.xdsoft_datetimepicker .xdsoft_label > .xdsoft_select {
	border: 1px solid #ccc;
	position: absolute;
	right: 0;
	top: 30px;
	z-index: 101;
	display: none;
	background: #fff;
	max-height: 160px;
	overflow-y: hidden;
}

.xdsoft_datetimepicker .xdsoft_label > .xdsoft_select.xdsoft_monthselect{ right: -7px }
.xdsoft_datetimepicker .xdsoft_label > .xdsoft_select.xdsoft_yearselect{ right: 2px }
.xdsoft_datetimepicker .xdsoft_label > .xdsoft_select > div > .xdsoft_option:hover {
	color: #fff;
	background: #ff8000;
}

.xdsoft_datetimepicker .xdsoft_label > .xdsoft_select > div > .xdsoft_option {
	padding: 2px 10px 2px 5px;
	text-decoration: none !important;
}

.xdsoft_datetimepicker .xdsoft_label > .xdsoft_select > div > .xdsoft_option.xdsoft_current {
	background: #33aaff;
	box-shadow: #178fe5 0 1px 3px 0 inset;
	color: #fff;
	font-weight: 700;
}

.xdsoft_datetimepicker .xdsoft_month {
	width: 100px;
	text-align: right;
}

.xdsoft_datetimepicker .xdsoft_calendar {
	clear: both;
}

.xdsoft_datetimepicker .xdsoft_year{
	width: 48px;
	margin-left: 5px;
}

.xdsoft_datetimepicker .xdsoft_calendar table {
	border-collapse: collapse;
	width: 100%;

}

.xdsoft_datetimepicker .xdsoft_calendar td > div {
	padding-right: 5px;
}

.xdsoft_datetimepicker .xdsoft_calendar th {
	height: 25px;
}

.xdsoft_datetimepicker .xdsoft_calendar td,.xdsoft_datetimepicker .xdsoft_calendar th {
	width: 14.2857142%;
	background: #f5f5f5;
	border: 1px solid #ddd;
	color: #666;
	font-size: 12px;
	text-align: right;
	vertical-align: middle;
	padding: 0;
	border-collapse: collapse;
	cursor: pointer;
	height: 25px;
}
.xdsoft_datetimepicker.xdsoft_showweeks .xdsoft_calendar td,.xdsoft_datetimepicker.xdsoft_showweeks .xdsoft_calendar th {
	width: 12.5%;
}

.xdsoft_datetimepicker .xdsoft_calendar th {
	background: #f1f1f1;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_today {
	color: #33aaff;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_highlighted_default {
	background: #ffe9d2;
	box-shadow: #ffb871 0 1px 4px 0 inset;
	color: #000;
}
.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_highlighted_mint {
	background: #c1ffc9;
	box-shadow: #00dd1c 0 1px 4px 0 inset;
	color: #000;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_default,
.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_current,
.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box >div >div.xdsoft_current {
	background: #33aaff;
	box-shadow: #178fe5 0 1px 3px 0 inset;
	color: #fff;
	font-weight: 700;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_other_month,
.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_disabled,
.xdsoft_datetimepicker .xdsoft_time_box >div >div.xdsoft_disabled {
	opacity: 0.5;
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
	cursor: default;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_other_month.xdsoft_disabled {
	opacity: 0.2;
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
}

.xdsoft_datetimepicker .xdsoft_calendar td:hover,
.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box >div >div:hover {
	color: #fff !important;
	background: #ff8000 !important;
	box-shadow: none !important;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_current.xdsoft_disabled:hover,
.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box>div>div.xdsoft_current.xdsoft_disabled:hover {
	background: #33aaff !important;
	box-shadow: #178fe5 0 1px 3px 0 inset !important;
	color: #fff !important;
}

.xdsoft_datetimepicker .xdsoft_calendar td.xdsoft_disabled:hover,
.xdsoft_datetimepicker .xdsoft_timepicker .xdsoft_time_box >div >div.xdsoft_disabled:hover {
	color: inherit	!important;
	background: inherit !important;
	box-shadow: inherit !important;
}

.xdsoft_datetimepicker .xdsoft_calendar th {
	font-weight: 700;
	text-align: center;
	color: #999;
	cursor: default;
}

.xdsoft_datetimepicker .xdsoft_copyright {
	color: #ccc !important;
	font-size: 10px;
	clear: both;
	float: none;
	margin-left: 8px;
}

.xdsoft_datetimepicker .xdsoft_copyright a { color: #eee !important }
.xdsoft_datetimepicker .xdsoft_copyright a:hover { color: #aaa !important }

.xdsoft_time_box {
	position: relative;
	border: 1px solid #ccc;
}
.xdsoft_scrollbar >.xdsoft_scroller {
	background: #ccc !important;
	height: 20px;
	border-radius: 3px;
}
.xdsoft_scrollbar {
	position: absolute;
	width: 7px;
	right: 0;
	top: 0;
	bottom: 0;
	cursor: pointer;
}
.xdsoft_datetimepicker.xdsoft_rtl .xdsoft_scrollbar {
	left: 0;
	right: auto;
}
.xdsoft_scroller_box {
	position: relative;
}

.xdsoft_datetimepicker.xdsoft_dark {
	box-shadow: 0 5px 15px -5px rgba(255, 255, 255, 0.506);
	background: #000;
	border-bottom: 1px solid #444;
	border-left: 1px solid #333;
	border-right: 1px solid #333;
	border-top: 1px solid #333;
	color: #ccc;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_timepicker .xdsoft_time_box {
	border-bottom: 1px solid #222;
}
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_timepicker .xdsoft_time_box >div >div {
	background: #0a0a0a;
	border-top: 1px solid #222;
	color: #999;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_label {
	background-color: #000;
}
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_label > .xdsoft_select {
	border: 1px solid #333;
	background: #000;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_label > .xdsoft_select > div > .xdsoft_option:hover {
	color: #000;
	background: #007fff;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_label > .xdsoft_select > div > .xdsoft_option.xdsoft_current {
	background: #cc5500;
	box-shadow: #b03e00 0 1px 3px 0 inset;
	color: #000;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_label i,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_prev,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_next,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_today_button {
	background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUExQUUzOTA0M0UyMTFFNDlBM0FFQTJENTExRDVBODYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUExQUUzOTE0M0UyMTFFNDlBM0FFQTJENTExRDVBODYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQTFBRTM4RTQzRTIxMUU0OUEzQUVBMkQ1MTFENUE4NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQTFBRTM4RjQzRTIxMUU0OUEzQUVBMkQ1MTFENUE4NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp0VxGEAAAIASURBVHja7JrNSgMxEMebtgh+3MSLr1T1Xn2CHoSKB08+QmR8Bx9A8e7RixdB9CKCoNdexIugxFlJa7rNZneTbLIpM/CnNLsdMvNjM8l0mRCiQ9Ye61IKCAgZAUnH+mU3MMZaHYChBnJUDzWOFZdVfc5+ZFLbrWDeXPwbxIqrLLfaeS0hEBVGIRQCEiZoHQwtlGSByCCdYBl8g8egTTAWoKQMRBRBcZxYlhzhKegqMOageErsCHVkk3hXIFooDgHB1KkHIHVgzKB4ADJQ/A1jAFmAYhkQqA5TOBtocrKrgXwQA8gcFIuAIO8sQSA7hidvPwaQGZSaAYHOUWJABhWWw2EMIH9QagQERU4SArJXo0ZZL18uvaxejXt/Em8xjVBXmvFr1KVm/AJ10tRe2XnraNqaJvKE3KHuUbfK1E+VHB0q40/y3sdQSxY4FHWeKJCunP8UyDdqJZenT3ntVV5jIYCAh20vT7ioP8tpf6E2lfEMwERe+whV1MHjwZB7PBiCxcGQWwKZKD62lfGNnP/1poFAA60T7rF1UgcKd2id3KDeUS+oLWV8DfWAepOfq00CgQabi9zjcgJVYVD7PVzQUAUGAQkbNJTBICDhgwYTjDYD6XeW08ZKh+A4pYkzenOxXUbvZcWz7E8ykRMnIHGX1XPl+1m2vPYpL+2qdb8CDAARlKFEz/ZVkAAAAABJRU5ErkJggg==);
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar th {
	background: #0a0a0a;
	border: 1px solid #222;
	color: #999;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar th {
	background: #0e0e0e;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td.xdsoft_today {
	color: #cc5500;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td.xdsoft_highlighted_default {
	background: #ffe9d2;
	box-shadow: #ffb871 0 1px 4px 0 inset;
	color:#000;
}
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td.xdsoft_highlighted_mint {
	background: #c1ffc9;
	box-shadow: #00dd1c 0 1px 4px 0 inset;
	color:#000;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td.xdsoft_default,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td.xdsoft_current,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_timepicker .xdsoft_time_box >div >div.xdsoft_current {
	background: #cc5500;
	box-shadow: #b03e00 0 1px 3px 0 inset;
	color: #000;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar td:hover,
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_timepicker .xdsoft_time_box >div >div:hover {
	color: #000 !important;
	background: #007fff !important;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_calendar th {
	color: #666;
}

.xdsoft_datetimepicker.xdsoft_dark .xdsoft_copyright { color: #333 !important }
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_copyright a { color: #111 !important }
.xdsoft_datetimepicker.xdsoft_dark .xdsoft_copyright a:hover { color: #555 !important }

.xdsoft_dark .xdsoft_time_box {
	border: 1px solid #333;
}

.xdsoft_dark .xdsoft_scrollbar >.xdsoft_scroller {
	background: #333 !important;
}
.xdsoft_datetimepicker .xdsoft_save_selected {
    display: block;
    border: 1px solid #dddddd !important;
    margin-top: 5px;
    width: 100%;
    color: #454551;
    font-size: 13px;
}
.xdsoft_datetimepicker .blue-gradient-button {
	font-family: "museo-sans", "Book Antiqua", sans-serif;
	font-size: 12px;
	font-weight: 300;
	color: #82878c;
	height: 28px;
	position: relative;
	padding: 4px 17px 4px 33px;
	border: 1px solid #d7d8da;
	background: -moz-linear-gradient(top, #fff 0%, #f4f8fa 73%);
	/* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #fff), color-stop(73%, #f4f8fa));
	/* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top, #fff 0%, #f4f8fa 73%);
	/* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top, #fff 0%, #f4f8fa 73%);
	/* Opera 11.10+ */
	background: -ms-linear-gradient(top, #fff 0%, #f4f8fa 73%);
	/* IE10+ */
	background: linear-gradient(to bottom, #fff 0%, #f4f8fa 73%);
	/* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fff', endColorstr='#f4f8fa',GradientType=0 );
/* IE6-9 */
}
.xdsoft_datetimepicker .blue-gradient-button:hover, .xdsoft_datetimepicker .blue-gradient-button:focus, .xdsoft_datetimepicker .blue-gradient-button:hover span, .xdsoft_datetimepicker .blue-gradient-button:focus span {
  color: #454551;
  background: -moz-linear-gradient(top, #f4f8fa 0%, #FFF 73%);
  /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f4f8fa), color-stop(73%, #FFF));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #f4f8fa 0%, #FFF 73%);
  /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top, #f4f8fa 0%, #FFF 73%);
  /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #f4f8fa 0%, #FFF 73%);
  /* IE10+ */
  background: linear-gradient(to bottom, #f4f8fa 0%, #FFF 73%);
  /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f4f8fa', endColorstr='#FFF',GradientType=0 );
  /* IE6-9 */
}
@media screen and (max-width:895px){#profile-img{width:120px;}#left-side{position:absolute;}#profile-menu svg{width:36px!important;}}@media screen and (min-width:896px) and (max-width:1160px){.replies{padding-left:3vw;}}@media screen and (min-width:1161px){.replies{padding-left:50px;}}@media screen and (min-width:896px){#profile-img-etc{width:150px!important;height:150px;}#main-container{min-width:50pc;}.select2-search__field{min-width:20pc;}#view *{min-height:50vh;}#view object, #view iframe{min-width:60vw;}#verified{width:16px;}.select2{min-width:20em;}.del{border-radius:5px;}#likes{top:10%;bottom:10%;min-width:20%;}#likes a{margin-left:05%;}#add-f-backup,#file2-container,#view-btns-container{padding:10px;outline-offset:-5px;}.popup{left:25vw;top:25vh;width:50vw;height:50vh;}#profile-menu a svg{width:48px;height:48px;padding-left:10px;}.table a svg{width:24px;}#profile-img-etc{width:150px!important;height:150px;}}.tbl-blocks .tbody{max-height:75vh;overflow-y:scroll;}.tbl-blocks .tbody .tr{display:inline-block;overflow:hidden;}.tbl-blocks .tbody .tr{width:256px;}.tbl-blocks .thead{display:table;}.tbl-blocks .thead .tr{display:table-row;}.tbl-blocks .thead .td{display:table-cell;}.tbl-blocks .thead button{display:block;}.tbl-blocks .table{padding:10px;border:#136 solid 1px;}.tbl-table .thead{display:table-header-group;}.tbl-table .tbody{display:table-row-group;}.tbl-table .th{display:table-cell;}.tbl-table .tr{display:table-row;}.tbl-table .td{display:table-cell;}</style><link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" /><link href="https://bgrins.github.com/spectrum/spectrum.css" rel="stylesheet"/></head><body>
<div id="content" class="bg">
  <div id="left-side" class="bg">
    <div class="side-wrapper">
      <div class="side-title">SITEMAP</div>
      <div class="side-menu">
<a onclick="$Ad()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><ellipse cx="12" cy="6" rx="8" ry="3"></ellipse><path d="M4 6v6a8 3 0 0 0 16 0v-6"/><path d="M4 12v6a8 3 0 0 0 16 0v-6"/></svg>Tasks</a><br/><a onclick="$Jd()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><circle cx="12" cy="12" r="3"/></svg></a><br/><a onclick="$rc(prompt('/directory/path/'),1)">Filesystem Dir</a><br/><a onclick="$hg('help')"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><line x1="12" y1="8" x2="12.01" y2="8"/><polyline points="11 12 12 12 12 16 13 16"/></svg></a><br/><a onclick="$Hd()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="9" y1="6" x2="20" y2="6"/><line x1="9" y1="12" x2="20" y2="12"/><line x1="9" y1="18" x2="20" y2="18"/><line x1="5" y1="6" x2="5" y2="6.01"/><line x1="5" y1="12" x2="5" y2="12.01"/><line x1="5" y1="18" x2="5" y2="18.01"/></svg></a><br/><a onclick="$yd()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/><line x1="9" y1="9" x2="10" y2="9"/><line x1="9" y1="13" x2="15" y2="13"/><line x1="9" y1="17" x2="15" y2="17"/></svg></a><br/><a onclick="$Ce()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4"/><line x1="9" y1="12" x2="15" y2="12"/><line x1="12" y1="9" x2="12" y2="15"/></svg></a><br/><a onclick="$fb()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/><line x1="12" y1="11" x2="12" y2="17"/><line x1="9" y1="14" x2="15" y2="14"/></svg></a><br/><a onclick="$zc()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="9" y1="13" x2="15" y2="13"/></svg></a><br/><a onclick="$Qc()">+Devices</a><br/>
      </div>
    </div>
    <div class="side-wrapper">
<div class="side-title"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="12 8 12 12 14 14"/><path d="M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"/></svg></div>
      <div id="recent-pages" class="side-menu">
      </div>
    </div>
    <a href="https://twitter.com/AysnrTrkk" class="follow-me" target="_blank">
      <span class="follow-text">
        <!-- The following SVG icon is licensed with the following license:
Copyright (c) 2020 by Aysenur Turk (https://codepen.io/TurkAysenur/pen/RwWKYMO)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->
        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
        CSS/HTML largely based on work by...
     </span>
      <span class="developer">
        <img src="https://pbs.twimg.com/profile_images/1253782473953157124/x56UURmt_400x400.jpg" />
        Aysenur Turk — @AysnrTrkk
      </span>
    </a>
  </div>
  <div class="main">
    <div id="qry-bar" class="bg">
      <input id="qry" type="text" placeholder="Search"/>
    </div>
    <div id="main-container" class="fg">
      <div id="profile">
        <div class="profile-avatar">
<div id="profile-img"><img id="profile-img-etc" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20fill%3D%22deepskyblue%22%20stroke%3D%22black%22%20stroke-width%3D%221%22%20d%3D%22M%207.86%2C0.86%20C%2015.01%2C0.90%2015.02%2C0.41%2015.02%2C2.61%2015.00%2C4.08%2013.52%2C4.00%2012.95%2C4.02%2012.39%2C4.03%2013.39%2C3.12%2011.06%2C3.02%208.73%2C3.03%208.98%2C2.72%209.00%2C5.20%209.02%2C8.02%2011.25%2C10.23%2015.02%2C13.17%2015.00%2C15.03%2013.03%2C15.05%2013.03%2C15.05%2013.03%2C15.05%209.14%2C10.03%208.03%2C9.98%206.92%2C9.98%205.47%2C12.46%202.93%2C15.00%200.88%2C14.84%201.00%2C13.02%201.00%2C13.02%201.00%2C13.02%207.03%2C8.97%207.00%2C5.31%207.00%2C2.58%207.12%2C3.05%204.87%2C3.01%203.02%2C3.01%203.56%2C3.98%202.98%2C4.02%202.41%2C4.05%201.09%2C4.19%201.06%2C2.56%201.04%2C0.78%200.54%2C0.87%207.86%2C0.86%20Z%20M%206.48%2C9.47M%201.65%2C2.55%22/%3E%3C/svg%3E"/><div id="profile-img-qry" class="hidden"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></div><div id="profile-img-d"   class="hidden"<!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"/></svg></div></div><div id="profile-name" onclick="$od()"></div>
        </div>
<div id="profile-menu" class="bg"><a onclick="$hg('left-side')"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"><path d="m22+1.5 -20 10.5+20+10z"/></svg></a><a onclick="$rc()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"/></svg></a><a onclick="$yc()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 4h3l2 2h5a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2"/><path d="M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2h2"/></svg></a><a onclick="$ze()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4"/><circle cx="9" cy="9" r="2"/></svg></a><a onclick="$Ae()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="11.747252464294434" cy="5.703297138214111" r="2"/><path d="M14.08750473007342,0.8021979322366519 L22.234023885414672,8.94871838243239 a1.357753336429596,1.357753336429596 0 0 1 0,1.810337781906128 L16.803010539696288,16.1900695100569 a1.357753336429596,1.357753336429596 0 0 1 -1.810337781906128,0 L6.846153602448908,8.043549491479325 v-3.620675563812256 a3.620675563812256,3.620675563812256 0 0 1 3.620675563812256,-3.620675563812256 h3.620675563812256"/><path d="M20.90069341659546,37.83516550064087 L29.047210216522217,45.981688022613525 a1.3577532768249512,1.3577532768249512 0 0 1 0,1.810337781906128 L23.616197109222412,53.22303628921509 a1.3577532768249512,1.3577532768249512 0 0 1 -1.810337781906128,0 L13.65934133529663,45.07651376724243 v-3.620675563812256 a3.620675563812256,3.620675563812256 0 0 1 3.620675563812256,-3.620675563812256 h3.620675563812256"/><path d="M15.721429705619812,13.04724296927452 L3.9620240926742554,20.39687141776085" transform="rotate(-102.407, 9.84173, 16.7221)"/><path d="M14.197789192199707,21.890103101730343L21.890096426010132,14.197795867919922"/><path d="M5.406580924987793,8.153840184211731L5.406580924987793,12.549444317817688"/><path d="M7.054932475090026,5.956038117408752L5.406580924987793,8.153840184211731"/><path d="M21.890096987810765,15.296696845401298 L21.89009709618284,15.296696964610588"/></svg></a><a onclick="$p()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"/><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3-3l3-3"/></svg></a><a onclick="$yf()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/></svg></a><a onclick="$bb()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M15.595745086669922,2.4680850505828857 v3.659574508666992 a0.914893627166748,0.914893627166748 0 0 0 0.914893627166748,0.914893627166748 h3.659574508666992"/><path d="M18.306989058852196,19.024316668510437 h-9.316109657287598 a1.8632218837738037,1.8632218837738037 0 0 1 -1.8632218837738037,-1.8632218837738037 v-13.042552947998047 a1.8632218837738037,1.8632218837738037 0 0 1 1.8632218837738037,-1.8632218837738037 h6.521276473999023 l4.658054828643799,4.658054828643799 v10.247720718383789 a1.8632218837738037,1.8632218837738037 0 0 1 -1.8632218837738037,1.8632218837738037 z"/><path d="M6.893617451190949,4.868085026741028L3.27659609913826,4.868085026741028"/><path d="M4.021276950836182,4.761702059099264 L4.021276950836182,22.314895039482963"/><path d="M3.914893984794617,21.570213168859482L18.808511316776276,21.463830187916756"/><path d="M18.063830450177193,19.229787588119507L18.063830450177193,21.676596149802208"/></svg></a><a onclick="$hg('right-side')"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"><path d="m2+1.5 20 10.5-20+10z"/></svg></a></div></div></td></tr><div id="my-settings" class="hidden"><table><tr><th>Setting</th><th>Value</th></tr><tr><td>Use RegEx?</td><td><p id="setting-use_regex"></p></td><td><a data-id="0" onclick="$jc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>Time to sleep while viewing inanimate media</td><td><p id="setting-sleep_on_inanimate_media"></p></td><td><a data-id="0" onclick="$gc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>Time to sleep after media error</td><td><p id="setting-sleep_after_media_err"></p></td><td><a data-id="0" onclick="$hc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide thumbnail column?</td><td><p id="setting-tbl_f_hide_col_thumbnail"></p></td><td><a data-id="thumbnail" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide fname column?</td><td><p id="setting-tbl_f_hide_col_fname"></p></td><td><a data-id="fname" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide ftitle column?</td><td><p id="setting-tbl_f_hide_col_ftitle"></p></td><td><a data-id="ftitle" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide tags column?</td><td><p id="setting-tbl_f_hide_col_tags"></p></td><td><a data-id="tags" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide dateadded column?</td><td><p id="setting-tbl_f_hide_col_dateadded"></p></td><td><a data-id="dateadded" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide date_origin column?</td><td><p id="setting-tbl_f_hide_col_date_origin"></p></td><td><a data-id="date_origin" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide file_size column?</td><td><p id="setting-tbl_f_hide_col_file_size"></p></td><td><a data-id="file_size" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide duration column?</td><td><p id="setting-tbl_f_hide_col_duration"></p></td><td><a data-id="duration" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide w column?</td><td><p id="setting-tbl_f_hide_col_w"></p></td><td><a data-id="w" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide h column?</td><td><p id="setting-tbl_f_hide_col_h"></p></td><td><a data-id="h" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide views column?</td><td><p id="setting-tbl_f_hide_col_views"></p></td><td><a data-id="views" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide likes column?</td><td><p id="setting-tbl_f_hide_col_likes"></p></td><td><a data-id="likes" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide dislikes column?</td><td><p id="setting-tbl_f_hide_col_dislikes"></p></td><td><a data-id="dislikes" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>File Table: Hide fps column?</td><td><p id="setting-tbl_f_hide_col_fps"></p></td><td><a data-id="fps" onclick="$kc(this.dataset.id)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></td></tr><tr><td>fg</td><td><input type="color" class="css-colour-picker" data-for="fg"/><tr><td>bg</td><td><input type="color" class="css-colour-picker" data-for="bg"/></table></div><div id="admin-dashboard" class="hidden"><a onclick="$Kd()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2"/><line x1="12" y1="10" x2="12" y2="16"/><line x1="9" y1="13" x2="15" y2="13"/></svg></a><div id="record-fs-dir" class="hidden"><h3>Recursively add all files in a directory to the database, up to a specified maximum depth</h3><div id="tagselect-record-fs-dir-container" class="tagselect-container"><select class="tagselect" id="tagselect-record-fs-dir" multiple="multiple"></select></div><button onclick="$Ld()">Go (Opens Prompts)</button></div></br><a onclick="$Md()">Generate thumbnails</a></br><select class="userselect" id="select-user-for-edit"></select><div id="tagselect-useredit-container" class="tagselect-container"><select class="tagselect" id="tagselect-useredit" multiple="multiple"></select></div><a onclick="$Ud()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="9" cy="7" r="4"/><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"/><path d="M16 11h6m-3 -3v6"/></svg></a><a onclick="$Rd('edit-user-permissions')">Edit User Permissions Table</a><div id="edit-user-permissions" class="hidden"><div id="edit-user-permissions-tbl" class="table"><div class="thead"><div class="tr"><div class="td th">Permission</div><div class="td th">Granted?</div><div class='td'>Edit</div></div></div><div class="tbody"><div class='tr'><div class='td'>stream_files</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>exec_qry</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>exec_safe_sql_cmds</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>exec_unsafe_sql_cmds</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>exec_safe_tasks</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>exec_unsafe_tasks</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>edit_tasks</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>link_tags</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>unlink_tags</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>edit_tags</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>merge_files</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>backup_files</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>add_files</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>create_files</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>edit_names</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>add_eras</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>record_local_fs</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div><div class='tr'><div class='td'>edit_users</div><div class='td'></div><div class='td'><a onclick="$Qd(this)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3"/><path d="M9 15h3l8.5 -8.5a1.5 1.5 0 0 0 -3 -3l-8.5 8.5v3"/><line x1="16" y1="5" x2="19" y2="8"/></svg></a></div></div></div></div></div></br><a onclick="$Rd('edit-user-tag-bl')">Edit User Tag Blacklist</a><div id="edit-user-tag-bl" class="hidden"><p>User will not be able to see any files, directories, etc., which are tagged by an encompassed tag</p><h3 id="edit-user-tag-bl-username"></h3><div id="edit-user-tag-bl-tbl" class="table"><div class="thead"><div class="tr"><div class="td th">Tag</div><div class='td'><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="4" y="4" rx="2"/><path d="M10 10l4 4m0 -4l-4 4"/></svg></div></div></div><div class="tbody"></div></div><a onclick="$Td()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></a></div></br><a onclick="$Yf(this.parentNode)"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"/><path d="M7 12h14l-3 -3m0 6l3 -3"/></svg></a></div><div id="qry-help" class="hidden help"><h2>How to Query</h2><button onclick="$$f('qry-help')">Hide</button><p>
USAGE
	[TABLE_ALIAS] [[FILTERS]] [[OPTIONS]]

INPUT DATA TYPES
	RANGE
		An integer range is of the form [MIN]-[MAX]
		MIN must be a non-negative integer
		MAX must be either a non-negative integer, or "?" (without the quotation marks)
	
	NAME
		A string surrounded by double quotes, with all double quotes within itself escaped
		EXAMPLES
			"Foo"
			"Bar"
			"Ree Gee"
			"Jeremy \"Stark\" Smith"
			"[.]mp4$"
	
	NAME_LIST
		A list of NAMEs
		If there is just one NAME in the list, it is interpreted as a regexp.
		EXAMPLES
			"English (Language)" "French (Language)"
				A list of two strings that is interpreted as an array of literal strings
			"[^ ]+ \(Language\)$"
				A list of one string that is interpreted as a regexp
	
	TABLE_ALIAS
		file        f
		dir         d
		dir         d! (matching only against the basename)
		device      D
			Only available for one sub-filter - "D exists".
		tag         t  (matching against child tags too)
		tag         t!
		external_db x
			Only available as a sub-filter, for files.
	
	ATTRIBUTE
		Different tables may have different valid attributes.
		Each attribute has a "kind" of relation too - either one-to-many, or many-to-many
		VALID ATTRIBUTES
			[ATTRIBUTE_KIND] attributes
				[ATTRIBUTE_NAME]            [VALID_TABLES]
			many-to-one attributes
				name                          all except D and e
				title                         f
				description                   f
				dir                           f
				mime                          f
				size                          all except x, D and e
				duration                      f
				md5                           f
				sha                           f
				time_origin                   f
				time_recorded                 f
				width                         f
				height                        f
				fps                           f
				views                         f
				likes                         f
				dislikes                      f
			many-to-many options:
				dct (perceptual hash)         f
				audio (perceptual hash)       f
				tag                           f
				parent (direct ancestor)      t
				parenty (any ancestory)       t
				child                         t
				childy                        t

FILTERS
Each may be preceded by "not" (without the quotation marks) to invert the filter
Each must be separated by a logical operator - thus far the only implemented ones are "and" and "or" (use without the quotation marks)
	[TABLE_ALIAS] [NAME_LIST]
		Entries have relations to entries of one of these names in this table
	D exists
		Only available for file and directory tables.
		Filters for files/dirs that reside on a device that the server can access with an fopen call (i.e. files that are both local and readable)
	value [RANGE] [NAME_LIST]
		Entries have a variable named one of the listed names, which has a value in the specified range
	attr [ATTRIBUTE] [OPERATOR] [STRING_OR_INTEGER]
		A filter that operates directly on the columns of the primary table.
		If it is a string, STRING_OR_INTEGER must be surrounded by double quotes, with any contained double quotes escaped. Else it must be a positive integer
		OPERATOR must be one of
			Integers only: ">", "<"
			Strings only:  "r" (regexp)
			Any:           "="
		SHORTHAND
			A NAME on its own, without even specifying "attr", is interpreted as shorthand for
				attr name r [NAME]
		EXAMPLES
			f attr name r "[Pp]attern"
				Filter for files whose names match the regexp
			f attr id < 99
			f attr size < 1000000
				Search for files under 1MB in size
			f attr dir < 1000
				Note that dir is an integer - it is not translated to a string with this filter
			f "^A"
				Shorthand for
					f attr name r "^A"
				Lists all files beginning with "A"
			t parent = "Country"
				Filter for tags where one immediate ancestor is the tag "Country"
			t parenty = "Continent"
				Filter for tags where any ancestor is the tag "Continent"
	backups [RANGE]
		Filter for files with a number of backups in this range
	same [ATTRIBUTE] [RANGE]
		This filter is NOT to be preceded by a logical operator
		Only for the file table
		Filters results for files sharing an attribute, that attribute having a number (in the given range) of files associated with it.
		The order in which this filter is applied matters
			For many-to-one attributes (such as name, dir, mime, size, duration, md5, sha)
				All other filters declared before this filter apply WITH this filter
				All other filters declared after this filter apply AFTER this filter
			For many-to-many attributes (such as dct)
				It is a bit different
		WARNING
			 Using the name attribute might take a VERY long time to execute without other filters
		EXAMPLES
			many-to-one
				f "foo" same dir 2-?
					Finds files matching the regexp "foo", so long as they share a directory with another file matching that regexp.
				f same dir 2-? "foo"
					Finds files matching the regexp "foo", so long as there is another file in its directory
			many-to-many
				f "foo" same dct 2-?
					Finds files whose DCT hashes overlap with those of files with names matching the regexp "foo"
				f same dct 2-? "foo"
					Finds files matching the regexp "foo", so long as there is another file with overlapping DCT hashes
				f same dct 101-?
					List files who have a DCT hash that at least 100 other files also have
				f same dct 1-1
					List files who have a unique DCT hash

OPTIONS
	order [MODE] [ATTRIBUTE]
		MODE must be one of a (ascending) or d (descending)
		Order results by the ATTRIBUTE
		For many-to-many attributes, files with multiple matching attributes will appear multiple times
		ATTRIBUTE must be one of
			many-to-one options:
				name
			one-to-one options:
				id
				size (for tags/dirs, it is the number of files associated with it)
			file table additional options: Any of the attributes listed under the "same" filter
	order-by-value [MODE] [[NAMES]]
		MODE must be one of a (ascending) or d (descending)
		NAMES must be a list of NAMEs (like a NAME_LIST, except a list of length 1 will not be interpreted as a regexp)
		Order results by the named variables, in that order.
		The order is left-to-right, the value being a chain of IFNULLs
	limit [INTEGER]
	offset [INTEGER]

KNOWN BUGS
	At least one filter must be included

EXAMPLES
	f t "Music" t "English (Language)" "French (Language)" "German (Language)" and value 90-100 "Musicness" "Score" and attr name r "[.]webm$" limit 100
		List 100 WEBM files tagged Music and also tagged one of: English, French or German language, having either a musicness or score of between 90 and 100
	f attr name r "\\\\.mp4" and d "^/" limit 100
		List 100 MP4 files on the server
	f d "^https://www[.]youtube[.]com/" order-by-value d "Musicness" "Score"
		List files from https://youtube.com/ in descending order of 'value', where the 'value' is either the file's "Musicness" or - if that is unavailable - the file's "Score"
	f d "^http" and not t "Music"
		List remote (over HTTP/HTTPS) files which are not tagged "Music"
	f not t "!!ROOT TAG||" and not "[.](json|xml)$"
		List files which are not tagged with anything, ignoring JSON and XML files.
	f mime "^image/"
		List files with image mimetypes
	f ( t "Music" and t "Video" ) or ( t "Music" and mime "^video/" )
		List music videos
	f attr name r "[.](png|jpe?g)" same dct 60-? limit 1000
		The command I used to locate all my neural style transfer renders
	f "[.](mp4)" same dct 10-? limit 1000
		Equivalent to
			f attr name r "[.](mp4)" same dct 10-? limit 1000
		The command I used to locate videos by a Youtuber (using the same video intro in his videos)
	f attr name r "[.](mp4|MP4|mkv|MKV|avi|AVI|webm|WEBM)$" same dct 2-? and attr name r "[.](png|jpe?g|PNG|JPE?G|gif|GIF|bmp|BMP)$"
		Find files which are probably screenshots of movies
	f same size 2-? limit 100 order d size
		Find files that are probably duplicates, based only on their file sizes.
	f d "^https://www.youtube.com/watch\?v=" same dct 2-? same size 2-? limit 100
		Find files which have the same DCT hash and same size as a file from youtube.
	d "." order d size
		List the directories with the most files (non-recursive)
	t "." order d size
		List the tags associated with the most files (not counting descendant tags)
	f attr tag r "Foobar"
		Equivalent to
			f t "Foobar"
	f attr tag = "Foobar"
		Equivalent to
			f t "^Foobar$"
	t attr parent = "Country" order d size
		List the Country tags in order of decreasing numbers of files they are associated with
	f t! "Uploader: " and not t "Youtube Channel" and d "^http" and d "youtube" limit 100
		List Youtube files directly tagged with "Uploader: <SOMETHING>", where those tags are not recognised as Youtube Channels.
		Useful for fixing tag mistakes.
	f attr title r "Podcast" and not eras 1-?
		Look for videos with "Podcast" in the title, which have not got any associated eras
	e t "Advert"
		Look for eras tagged "Advert"
</p></div><div id="help" class="help"><a onclick="$hg('credits')">Show credits</a><div id="credits" class="hidden help"><p>
This site is an implementation of the <a href="https://github.com/NotCompsky/tagem">tagem</a> project. All elements are copyright Adam Gray, subject to <a href="https://github.com/NotCompsky/tagem/blob/master/LICENSE">the GPLv3 license</a>, with the exceptions listed below.

The HTML that is included inline:
	The layout of this site's HTML is based on <a href="https://codepen.io/TurkAysenur/details/RwWKYMO">Responsive Social Platform</a> by Aysenur Turk
	Almost all SVG icons are sourced or derived from <a href="https://github.com/tabler/tabler-icons">tabler-icons</a> by Paweł Kuna
		The exceptions are the two triangle icons by myself, and the search icon by Aysenur Turk

The JavaScript libraries that are included inline:
	<a href="https://github.com/xdan/datetimepicker">datetimepicker</a>
		For the date-time picker dialog
	<a href="https://github.com/kartik-v/php-date-formatter">PHP-Date-Formatter</a> by Kartik Visweswaran
		A dependency of datetimepicker
		This also includes some CSS

Other JavaScript libraries taht are used but not included inline:
	JQuery
	<a href="https://github.com/select2/select2">Select2</a>
		For fancier dropdown menus
	<a href="https://github.com/ccampbell/mousetrap">MouseTrap</a>
		For intercepting key events
</p></div></br><a onclick="$hg('filter-syntax.html')">Show filter-syntax.html</a><div id="filter-syntax.html" class="hidden help"><p>
Date Query
	USAGE
		[DATE]
		[DATE] - [DATE]
			Second date should be the largest
	DATE
		yyyy
		yyyy/mm
		yyyy/mm/dd
	EXAMPLES
		2020
		2020/03
		2018-2020
		2016/05-2020/06
</p></div></br><a onclick="$hg('keyboard-shortcuts')">Show keyboard-shortcuts</a><div id="keyboard-shortcuts" class="hidden help"><p>
Keyboard Shortcuts
	b        Toggle the 'add backup file' dialog
	e        Add era vertex (start or end)
	m        Merge selected files
	p        View selected files as a playlist
	q        Make a qry
	v        Toggle the 'add file2 variable to file' dialog
</p></div></br><a onclick="$hg('examples')">Show examples</a><div id="examples" class="hidden help"><p>
Suppose you have a screenshot of a Twitter post. You can get the link to the original post - for instance, by using <a href="https://github.com/NotCompsky/utils/blob/master/bash/find-tweet">find-tweet</a>. You can then go to that file, click "Update src", and change the source to the Twitter post's URL. This will keep the screenshot as a 'backup' of the post.

Suppose you wish to record some snippets of C++ code. You can open the text editor, paste the code into the main content section, name the file, tag it 'C++', then select a remote directory. ANY remote directory can be used, however I would suggest creating a 'directory' named "Code Snippets" - specifically ommitting the protocol and other unnecessary parts - specifically for code snippets like these. When this 'file' is saved, it creates a record in the database, with the contents as the 'file' description - no content is written to an <i>actual</i> file aside from the database.


</p></div></br></div><div id="tasks-container"><h1>Tasks</h1><div id="tasks"></div></div><div id="tagging"><div id="file-info"><div id="view"><video class="media-view" id="view-video" controls><source onerror="$m()">Browser does not support videos</source></video><audio class="media-view" id="view-audio" controls><source onerror="$m()">Browser does not support audio</source></audio><img class="media-view" id="view-img" onerror="$m()"/><iframe class="media-view" id="view-iframe" frameborder="0" scrolling="no" allow="autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen onerror="$m()">Browser does not support iframes</iframe><object class="media-view" id="view-object" onerror="$m()">Browser does not support object elements</object><div class="media-view" id="view-yt-player"><div id="yt-player"></div></div></div><br/><button id="add-era" class="file-era" onclick="$fd()">+Era</button><div id="autoplay-container" class="toggle-container"><b class="toggle-name">Autoplay</b><input id="autoplay" type="checkbox" class="toggle-input" onclick="console.log()"/></div><button id="next-f-in-playlist" onclick="$k()">Next</button><a class="repeatness" onclick="$u()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"/><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3-3l3-3"/><line x1="17" y1="7" x2="7" y2="17"/></svg></a><a class="repeatness" onclick="$s()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"/><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3-3l3-3"/></svg></a><a class="repeatness" onclick="$r()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"/><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3-3l3-3"/><path d="M11 11l1 -1v4"/></svg></a><button onclick="$db()">+Backups</button><div id="view-btns-container"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="2"/><path d="M2 12l1.5 2a11 11 0 0 0 17 0l1.5 -2"/><path d="M2 12l1.5 -2a11 11 0 0 1 17 0l1.5 2"/></svg><div id="view-btns"></div></div><button onclick="$Af()">Update src</button><div id="posts-container"><div id="db-links"></div><div id="post-container"><a id="post-user" class="user"></a><time id="post-time"></time><div id="post-text"></div><br/><a onclick="$We()">Likes</a><div id="likes"><a onclick="$$f('likes')">Hide</a><div id="likes-ls"></div></div><br/><div id="cmnts-container"><br/><a onclick="$hg('cmnts')">Show/Hide Comments</a><div id="cmnts"></div></div></div></div></div><div id="file2-container"><button onclick="$hg('file2')">+Value</button><div id="file2"><h3>Assign Value</h3><select id="file2-select"></select><input class="file2-value" id="file2-value"/><input class="file2-value" id="file2-value-dt"/><button onclick="$rf()">Update DB</button></div></div><div id="tagselect-self-p-container" class="tagselect-container"><select class="tagselect" id="tagselect-self-p" multiple="multiple"></select><button id="tagselect-self-p-btn" onclick="$ve()">Add Parent Tags</button></div><div id="tagselect-self-c-container" class="tagselect-container"><select class="tagselect" id="tagselect-self-c" multiple="multiple"></select><button id="tagselect-self-c-btn" onclick="$ue()">Add Child Tags</button></div><div id="user-info"><h3 id="user-fullname"></h3><img id="verified" src="https://freeiconshop.com/wp-content/uploads/edd/checkmark-flat.png"/><a id="n-followers"></a><a id="n-following"></a><a onclick="$Se($yb,$Ab,'u')">Authored Posts</a><a onclick="$Se($yb,$Ab,'l')">Liked Posts</a><a onclick="$Se($yb,$Ab,'c')">Commented Posts</a></div><div id="dirselect-container"><select id="dirselect"></select></div><div id="orig-src-dialog"><input id="orig-src-input" type="text" placeholder="URL of original file"/><button onclick="$Cf()">Update database</button><button onclick="$Bf()">Hide</button></div><div id="add-t-dialog"><input id="add-t-input" type="text" placeholder="New Tag Name"/><button class="inline" onclick="$td('t')">+</button><div id="add-t-queue" contenteditable="true"></div><button onclick="$qd('t')">Add to database</button></div><div id="add-f-dialog"><input id="add-f-input" type="text" placeholder="File URL, e.g. https://www.youtube.com/watch?v=dQw4w9WgXcQ"/><button class="inline" onclick="$td('f')">+</button><div id="add-f-queue" contenteditable="true"></div><button onclick="$qd('f')">Add to database</button></div><div id="add-d-dialog"><input id="add-d-input" type="text" placeholder="'Directory' URL, i.e. a prefix of file URLS, e.g. https://www.youtube.com/watch?v="/><button class="inline" onclick="$td('d')">+</button><div id="add-d-queue" contenteditable="true"></div><button onclick="$qd('d')">Add to database</button></div><div id="add-D-dialog"><input id="add-D-input" type="text" placeholder="'Device' URL, e.g. https://youtube.com/"/><button class="inline" onclick="$td('D')">+</button><div id="add-D-queue" contenteditable="true"></div><button onclick="$qd('D')">Add to database</button></div><div id="add-f-backup-toggle-container"><div id="add-f-backup-toggle-container" class="toggle-container"><b class="toggle-name">Download Locally?</b><input id="add-f-backup-toggle" type="checkbox" class="toggle-input" onclick="$cb()"/></div></div><div id="add-f-backup-ytdl-container" class="toggle-container"><b class="toggle-name">YouTube-DL?</b><input id="add-f-backup-ytdl" type="checkbox" class="toggle-input" onclick="console.log()"/></div><div id="add-f-backup" class="hidden"><b>Either select a local directory, if downloading the backup locally, or else type in the full URL of the backup (which can also be local, but will not trigger a download)</b></br>If the backup is into a local directory, AND you have still provided a backup URL, the file will be downloaded from that URL rather than from the main file's URL.</br>You may wish to use a different URL to download the file, if you wish to still link the web page that links to the file. For instance, the link to the file itself may be temporary.</br><input id="add-f-backup-url" placeholder="Backup file's URL..."/><a onclick="$eb()">Send backup request</a></div><table id="eras-info" class="file-era file-meta"><thead><tr><th>ID</th><th>Start</th><th>End</th><th>Tags</th></tr></thead><tbody id="eras-info-tbody" class="tbody"></tbody></table><table class="file-meta"><tr><td>Added</td><td><time id="t-added"></time></td></tr><tr><td>Origin</td><td><time id="t-origin"></time></td></tr></table><div id="descr"></div><div id="tagselect-era-container" class="popup hidden"><div id="tagselect-era-container" class="tagselect-container"><select class="tagselect" id="tagselect-era" multiple="multiple"></select><button id="tagselect-era-btn" onclick="$gd()">Add to Era</button></div><button onclick="$hd()">Close</button></div><div id="tagselect-eras-container" class="tagselect-container"><select class="tagselect" id="tagselect-eras" multiple="multiple"></select><button id="tagselect-eras-btn" onclick="$ee('e',$ld(), '#tagselect-eras',$kd)">Add to Eras</button></div><div id="tagselect-dirs-container" class="tagselect-container"><select class="tagselect" id="tagselect-dirs" multiple="multiple"></select><button id="tagselect-dirs-btn" onclick="$ee('d',$Lb(), '#tagselect-dirs',$Nb)">Add to Dirs</button></div><div id="tagselect-files-container" class="tagselect-container"><select class="tagselect" id="tagselect-files" multiple="multiple"></select><button id="tagselect-files-btn" onclick="$ee('f',$Jb(), '#tagselect-files',$Mb)">Add to Files</button></div></div><div id="text-editor"><h2 contenteditable="true">Edit file name here...</h2><a onclick="$zd()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"/><circle cx="12" cy="14" r="2"/><polyline points="14 4 14 8 8 8 8 4"/></svg></a><div id="text-edit" contenteditable="true">Write text here...</div></div><div id="selection-help" class="hidden"><h3>Selection Types</h3><p class="selected1">Primary</p> is used for assigning tags<br/><p class="selected2">Secondary</p> is used only to select duplicates of the primary file for merging</div><div class="table" id="t"><div id="t-action-btns" class="action-btns"><a onclick="$hg('selection-help')"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><line x1="12" y1="8" x2="12.01" y2="8"/><polyline points="11 12 12 12 12 16 13 16"/></svg></a><button onclick="$S('t',-1)" class="next-page">&#9666;</button><button onclick="$S('t',1)" class="next-page">&#9656;</button><button onclick="$Ef('t',[1],[]);">Filter</button></div><div class="thead"><div class="tr"><div class="td header thumbnail">Thumb</div><div class="td header ">Name</div><div class="td header ">#Files</div></div><div class="tr"><div class="td thumbnail"></div><div class="td "><input type="text" placeholder="regexp"/></div><div class="td "></div></div><div class="tr"><div class="td thumbnail"></div><div class="td sort "><a>Sort</a></div><div class="td sort "><a>Sort</a></div></div><div class="tr"><div class="td hide thumbnail"><a>Hide</a></div><div class="td hide "><a>Hide</a></div><div class="td hide "><a>Hide</a></div></div></div><div class="tbody"></div></div><div class="table" id="d"><div id="d-action-btns" class="action-btns"><a onclick="$hg('selection-help')"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><line x1="12" y1="8" x2="12.01" y2="8"/><polyline points="11 12 12 12 12 16 13 16"/></svg></a><button onclick="$S('d',-1)" class="next-page">&#9666;</button><button onclick="$S('d',1)" class="next-page">&#9656;</button><button onclick="$Ef('d',[0,1],[]);">Filter</button></div><div class="thead"><div class="tr"><div class="td header ">Name</div><div class="td header ">Device</div><div class="td header ">#Files</div><div class="td header ">Tags</div></div><div class="tr"><div class="td "><input type="text" placeholder="regexp"/></div><div class="td "><input type="text" placeholder="regexp"/></div><div class="td "></div><div class="td "><input type="text" placeholder="regexp"/></div></div><div class="tr"><div class="td sort "><a>Sort</a></div><div class="td sort "><a>Sort</a></div><div class="td sort "><a>Sort</a></div><div class="td sort "><a>Sort</a></div></div><div class="tr"><div class="td hide "><a>Hide</a></div><div class="td hide "><a>Hide</a></div><div class="td hide "><a>Hide</a></div><div class="td hide "><a>Hide</a></div></div></div><div class="tbody"></div></div><div class="table" id="f"><div id="f-action-btns" class="action-btns"><a onclick="$hg('selection-help')"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><line x1="12" y1="8" x2="12.01" y2="8"/><polyline points="11 12 12 12 12 16 13 16"/></svg></a><button onclick="$S('f',-1)" class="next-page">&#9666;</button><button onclick="$S('f',1)" class="next-page">&#9656;</button><button onclick="$Ef('f',[1,2,3],[4]);">Filter</button><button id="-btn" onclick="$wd()">Thumb Size</button><button id="select-all-btn" onclick="$Gf('#f .tbody .tr:not(.hidden)')">Select All</button><button id="deselect-all-btn" onclick="$Hf('#f .tbody .tr', 1);$Hf('#f .tbody .tr', 2);$Hf('#f .tbody .tr', 3);">Deselect All</button><button id="merge-files-btn" onclick="$X()">Merge Files</button><button id="backup-files-btn" onclick="$db()">Backup</button><button id="add-file2-btn" onclick="$hg('file2-container')">Add/Update Value</button><button id="view-as-playlist-btn" onclick="$o()">View as Playlist</button></div><div class="thead"><div class="tr"><div class="td header thumbnail">Thumb</div><div class="td header fname">Name</div><div class="td header ftitle">Title</div><div class="td header db">In Databases</div><div class="td header tags">Tags</div><div class="td header file_size">Size (Range)</div><div class="td header dateadded">Date Added</div><div class="td header date_origin">Origin Date</div><div class="td header duration">Duration</div><div class="td header w">Width</div><div class="td header h">Height</div><div class="td header views">Views</div><div class="td header likes">Likes</div><div class="td header dislikes">Dislikes</div><div class="td header fps">FPS</div></div><div class="tr"><div class="td thumbnail"></div><div class="td fname"><input type="text" placeholder="regexp"/></div><div class="td ftitle"><input type="text" placeholder="regexp"/></div><div class="td db"><input type="text" placeholder="regexp"/></div><div class="td tags"><input type="text" placeholder="regexp"/></div><div class="td file_size"></div><div class="td dateadded"></div><div class="td date_origin"></div><div class="td duration"></div><div class="td w"></div><div class="td h"></div><div class="td views"></div><div class="td likes"></div><div class="td dislikes"></div><div class="td fps"></div></div><div class="tr"><div class="td thumbnail"></div><div class="td sort fname"><a>Sort</a></div><div class="td sort ftitle"><a>Sort</a></div><div class="td sort db"><a>Sort</a></div><div class="td sort tags"><a>Sort</a></div><div class="td sort file_size"><a>Sort</a></div><div class="td sort dateadded"><a>Sort</a></div><div class="td sort date_origin"><a>Sort</a></div><div class="td sort duration"><a>Sort</a></div><div class="td sort w"><a>Sort</a></div><div class="td sort h"><a>Sort</a></div><div class="td sort views"><a>Sort</a></div><div class="td sort likes"><a>Sort</a></div><div class="td sort dislikes"><a>Sort</a></div><div class="td sort fps"><a>Sort</a></div></div><div class="tr"><div class="td hide thumbnail"><a>Hide</a></div><div class="td hide fname"><a>Hide</a></div><div class="td hide ftitle"><a>Hide</a></div><div class="td hide db"><a>Hide</a></div><div class="td hide tags"><a>Hide</a></div><div class="td hide file_size"><a>Hide</a></div><div class="td hide dateadded"><a>Hide</a></div><div class="td hide date_origin"><a>Hide</a></div><div class="td hide duration"><a>Hide</a></div><div class="td hide w"><a>Hide</a></div><div class="td hide h"><a>Hide</a></div><div class="td hide views"><a>Hide</a></div><div class="td hide likes"><a>Hide</a></div><div class="td hide dislikes"><a>Hide</a></div><div class="td hide fps"><a>Hide</a></div></div></div><div class="tbody"></div></div>
    </div>
  </div>
  <div id="right-side" class="bg">
    <div class="account bg">
      <span class="account-user"><p id="username"></p>
<!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"/></svg><a onclick="$hg('my-settings')"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><circle cx="12" cy="12" r="3"/></svg></a><a onclick="$Dd()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"/><path d="M20 12h-13l3 -3m0 6l-3 -3"/></svg></a><a onclick="$Ed()"><!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"/><path d="M7 12h14l-3 -3m0 6l3 -3"/></svg></a>
      </span>
    </div>
<div id="values-container" class="side-wrapper"><div class="side-title">values</div><div id="values"></div></div><div id="parents-container" class="side-wrapper"><div class="side-title">parents</div><div id="parents"></div></div><div id="children-container" class="side-wrapper"><div class="side-title">children</div><div id="children"></div></div><div id="tags-container" class="side-wrapper"><div class="side-title">tags</div><div id="tags"></div></div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.0.min.js"></script><script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script><script src="https://rawgit.com/ccampbell/mousetrap/master/mousetrap.js"></script><script src="https://bgrins.github.com/spectrum/spectrum.js"></script><script type="text/javascript">function $a(s){if(s==="")return [];return s.split(",");}function $b(s){return s.split(",");}function $c(){return ($j!==undefined)}const $e=new Array(5);const $g=['img','video','audio','iframe','object'];const $h=['load','ended','ended','load','load'];const $i=[$l, $k, $k, $l, $l];var $j;function $k(){if((!$c())||$q===0)return;$Db.jump_to_t = undefined;if($q!==2)$j.push($j.shift());$yf($j[0]);}async function $l(){await $Qb($Yc('sleep_for_inanimate_media'));$k();}async function $m(){if($c()){await $Qb($Yc('sleep_on_media_err'));$k();}}function $n(){if(!$c())$q = 0;for(let i of [0,1,2])$dg($A('repeatness')[i],(i===$q));}function $o(file_ids_csv){if(file_ids_csv===undefined)file_ids_csv = $Z(true);if(file_ids_csv===""){$j = undefined;return;}$j = $b(file_ids_csv);$q = ($j.length===1)?2:1;$z('autoplay').checked = true;for(var i=0; i<5; ++i)$e[i] = $z('view-'+$g[i]).addEventListener($h[i], $i[i]);$yf($j[0]);}function $p(){if($c())return;$o($Jb(true));}var $q=0;function $r(){$q = 0;$n();$p(); }function $s(){$q = 2;$n();$p();}function $u(){$q = 1;$n();$p();}const $v=Mousetrap.bind;const $w=Mousetrap.unbind;const $y=document;const $z=$y.getElementById.bind($y);const $A=$y.getElementsByClassName.bind($y);const $B=$y.getElementsByTagName.bind($y);const $C=$y.querySelector.bind($y);const $E=confirm;const $F=prompt;const $G=window;const $H=parseInt;function $I(s,fn,x){for(let e of $A(s))fn(e,x);}const $J=$I;function $K(id){return $z(id).getElementsByClassName('tbody')[0];}function $L(id){$z(id).focus();}function $M(s){return s.replace(/[.*+?^${}()|[\]\\]/g, '\\\\$&');}var $N;var $O;var $Q;var $R;function $S(tbl_id,direction){switch(tbl_id){case 'f':$U(null,null,null,$R+direction);break;}}function $T(datas){$Jb = $Z;let s = "";const [a,data,tags] = (datas.length!==0)?datas:["0",[],{}];if(a==="0"){if($tb==="0"){$Rc("ERROR: Directory ID has not been set.");}}else{$tb=a;}for (let [thumb, id, name, title, sz, t_added_to_db, t_origin, duration, w, h, views, likes, dislikes, fps, ext_db_n_post_ids, tag_ids, era_start, era_end] of data){let era = "";if(era_end!==0){duration = era_end - era_start;era = "@" + era_start;if (era_end !== 0)era += "-" + era_end;}s += "<div class='tr' data-id='" + id + "' data-era='" + era + "'>";s += '<div class="td thumbnail" onclick="$yf(this.parentNode.dataset.id+this.parentNode.dataset.era)">';s += '<img src="' + thumb + '" onerror="$ib(this)"></img>';s += '</div>';s += "<div class='td fname'>" + $Ee(name) + "</div>"; s += "<div class='td ftitle'>" + $Ee(title) + "</div>";s += "<div class='td db'>" + ext_db_n_post_ids.replace(/:[0-9]+/,'') + "</div>"; s += "<div class='td tags'>" + tag_ids + "</div>"; s += "<div class='td file_size' data-n=" + sz + ">" + $$b(parseInt(sz)) + "</div>"; s += "<div class='td dateadded' data-n=" + t_added_to_db + ">" + $Nf(t_added_to_db) + "</div>";s += "<div class='td date_origin' data-n=" + t_origin + ">" + $Nf(t_origin) + "</div>";s += "<div class='td duration' data-n=" + duration + ">" + $Of(duration) + "</div>";s += "<div class='td w' data-n=" + w + ">" + w + "</div>";s += "<div class='td h' data-n=" + h + ">" + h + "</div>";s += "<div class='td views' data-n=" + views + ">" + $cc(views) + "</div>";s += "<div class='td likes' data-n=" + likes + ">" + $cc(likes) + "</div>";s += "<div class='td dislikes' data-n=" + dislikes + ">" + $cc(dislikes) + "</div>";s += "<div class='td fps' data-n=" + fps + ">" + fps + "</div>";s += "</div>";}$dg($z('f').getElementsByClassName('next-page')[0], ($R!==0));$dg($z('f').getElementsByClassName('next-page')[1], (data.length===$nb));$K("f").innerHTML = s;$Df('x', "f", '$Me', 3);$Df(tags,"f", '$ze', 4);$lc();}function $U(path,params,post_data,page_n){$R=parseInt(page_n);if((params!==null)&&(post_data!==null))return $Rc("ERROR: At most one of (params, post_data) can be non-null");if(path!==null){$N=path;$O=params;$Q=post_data;}$Dc(($Q===null)?"GET":"POST","/tagem-eg/a/f/"+$N+'/'+$R+(($O===null)?"":("/"+$O)),$Q,$T);}function $V(ids){$U("id",ids.join(","),null,0);}function $W(nodes){if($tb===0){$Rc("Cannot add files to DB unless their directory ID is set");return;}if(nodes.length===0)return;$Jc("/f/record/"+$tb,nodes.map(x => '"'+x.getElementsByClassName('fname')[0].innerText.replace('"','\"')+'"').join(','),function(data){for(let node of nodes){node.dataset.id = data[node.getElementsByClassName('fname')[0].innerText];}$Rc("Files newly registered.\nPlease now repeat your command.");});}function $X(){const master_file_ids = $a($Z());const dupl_file_ids   = $a($Y());if(master_file_ids.length !== 1){$Rc("There must be exactly one master file (use left mouse button to select them)");return;}if(dupl_file_ids.length === 0){$Rc("No duplicate files selected (use middle mouse button to select them)");return;}const master_f_id = master_file_ids[0];if(dupl_file_ids.includes(master_f_id)){$Rc("File cannot be selected as both master and duplicate");return;}$Nc("/f/merge/"+master_f_id+"/"+dupl_file_ids.join(","),function(){$Hf('#f .tbody .tr', 1);$("#f .tbody .tr.selected2").remove();});}function $Y(){return $("#f .tbody .tr.selected2").map((i, el) => el.dataset.id).get().join(",");}function $Z(and_eras){let file_ids = "";let files_wo_ids = [];for(let node of $K('f').getElementsByClassName('selected1')){if(node.dataset.id==="0")files_wo_ids.push(node); else file_ids += "," + node.dataset.id + ((and_eras===true)?node.dataset.era:"");}if(files_wo_ids.length!==0){$W(files_wo_ids);return "";}return file_ids.substr(1);}function $_(ids, tags){$fe('f',ids,tags,4);}function $ab(var_name){$U('$',var_name,null,0);$fg(['f','tagselect-files-container','tagselect-files-btn','merge-files-btn','backup-files-btn','view-as-playlist-btn']);$Vd('Files assigned ' + var_name);}function $bb(){$fg(['f','tagselect-files-container','tagselect-files-btn','merge-files-btn','backup-files-btn','view-as-playlist-btn']);$Mb = $_;$Jb = $Z;$Vd("Files");}function $cb(){const b = $z('add-f-backup-toggle').checked;for(let x of ['dirselect-container','add-f-backup-ytdl']){$cg(x,b);}$z('add-f-backup-ytdl').checked = false;}function $db(){$z('add-f-backup-toggle').checked = false;$('#dirselect').val(null).trigger("change");$$f('add-f-backup-ytdl');if($gg('add-f-backup')){$$f('add-f-backup-toggle-container');$$f('add-f-backup');$$f('add-f-backup-ytdl-container');} else {$_f('add-f-backup-toggle-container');$_f('add-f-backup');$_f('add-f-backup-url');$_f('add-f-backup-ytdl-container');}}function $eb(){const file_ids = $Jb(); if(file_ids.length === ""){$Rc("No files selected");return;}const _dir_id = $z("dirselect").value;let url = $z("add-f-backup-url").value;const is_ytdl = $z("add-f-backup-ytdl").checked;if(_dir_id===""){$Rc("No directory selected");return;}if(url !== ""){if((!url.startsWith('http')) && (!url.startsWith('/'))){$Rc("Non-empty URL does not start with http or /");return;}}if(is_ytdl)url = "ytdl/" + url;$Nc("/f/backup/" + file_ids + "/" + _dir_id + "/" + url,function(){$$f('dirselect-container');$$f('add-f-backup');});}function $fb(){$z('add-f-backup-toggle').checked = false;$fg(['tagselect-files-container','add-f-backup-toggle-container','add-f-dialog','add-f-backup-ytdl-container']);$$f('add-f-backup-url');$('#dirselect').val(null).trigger('change');}function $gb(s){return "data:image/svg+xml;charset=utf-8,"+s;}function $hb(node,s){node.src=$gb(s);}function $ib(node){$hb(node, `<!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 0 0 1 1h4"/><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"/></svg>`);}function $jb(node){$hb(node, `<!--The following icon is subject to the following license:
Copyright (c) 2020 Paweł Kuna
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.--><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4"/><circle cx="9" cy="9" r="2"/></svg>`);}function $kb(){$_f('qry-help');}function $lb(s){if(s==="")return $kb();$Gc("/q/", s+" ", function(data){switch(s[0]){case 'e': $T(data); $id(); break;case 'f': $T(data); $bb(); break;case 'd': $wc(data); $yc(); break;case 't': $ge(data); $Ae(); break;}$Je('?'+s);$Vd('?'+s);$Wd('qry');},$kb);}function $mb(){$z("qry").addEventListener("keyup", function(e){e.preventDefault();if (e.keyCode === 13){ $lb(this.value);}});}const $nb=100;const $ob="1";var $pb;var $qb;var $rb;var $sb;var $tb;var $ub;var $vb;var $wb;var $xb;var $yb;var $zb;var $Ab;var $Bb;var t;var f;var d;var D;var P;var t2p;var x;var mt;var f2;var $Cb;var $Db;var $Eb;const $Fb=["blocks","table"];const $Gb={"f2":"#file2-select","t":".tagselect","d":"#dirselect","D":"#deviceselect","P":"#protocolselect","$Ob":".userselect"};const $Hb={"f2":0,"t":0,"d":0,"D":0,"P":0,"$Ob":0};const $Ib="data:,";var $Jb;var $Kb;var $Lb;var $Mb;var $Nb;var $Ob;function $Pb(s){return ($z(s)!==null);}function $Qb(ms){return new Promise(resolve => setTimeout(resolve, ms));}function $Rb(var_name){let s = "";const col = $Hb[var_name];$($Gb[var_name]).select2({placeholder: $pd(var_name) + (($Eb)?" regexp":""),allowClear:true,ajax:{transport: function (params, success, failure){let arr = Object.entries($G[var_name]); if(params.data.q !== undefined){const pattern = ($Eb) ? new RegExp(params.data.q) : params.data.q;arr = arr.filter(x => x[1][0].search(pattern)>=0);}if(arr.length > 50){arr = arr.slice(0, 50);arr.unshift(['0', ['Truncated to 50 results']]);}success(arr);},processResults: function(data){return{results: data.map(([id,tpl]) => ({id:id, text:((col===null)?tpl:tpl[col])}))};}}}); }function $Sb(var_name){let s = "";const col = $Hb[var_name];$($Gb[var_name]).select2({minimumInputLength:1,placeholder: $pd(var_name) + (($Eb)?" regexp":""),allowClear:true,ajax:{url: function(params){return '/tagem-eg/a/select2/regex/' + var_name + '/' + params.term.substr(0,2)},dataType:"json",data:function(params){return ($Eb) ? {'q': params.term} : {'q': $M(params.term)}},processResults:function(data){return{results:Object.entries(data).map(([id,name]) => ({id:id, text:name}))};}}});}function $Tb(var_name, url, fn){$Lc(url + '?' + (new Date().getTime()), function(data){console.log("Cache busting", var_name);$G[var_name] = data;if(fn !== undefined)fn();$Rb(var_name);});}function $Ub(var_name, url, fn){if ($G[var_name] !== undefined){fn();return;}$Lc(url, function(data){const additions = $Yc(var_name + '_adds');if (additions !== undefined){$$c(data, JSON.parse(additions));}const dels = $Yc(var_name + '_dels');if (dels !== undefined){$_c(data, JSON.parse(dels));}$G[var_name] = data;fn();});}function $Vb(fn,id,x){return "<a onclick='"+fn+"(\""+id+"\")'>"+((x instanceof Array)?x[0]:x)+"</a> ";}function $Wb(data, node, fn_name){let s = "";if (data instanceof Array)data = Object.fromEntries(data.entries()); for (var tagid of $a(node.textContent)){s += $Vb(fn_name,tagid,data[tagid]);}node.innerHTML = s;}function $Xb(data){return Object.fromEntries(Object.entries(data).map(([k, v]) => [v, k]));}function $Yb(keys, vals){const arr = [];for (const key of keys){for (const val of vals){arr.push([key, val]);}}return arr;}const $Zb=['','K','M','G','T','P'];function $$b(n){if(n===null)return "N/A";let i = 0;while(n > 1024){++i;n /= 1024;}return n.toFixed(1) + ' ' + $Zb[i] + 'iB';}function $_b(n, unit, magnitude){return n*(magnitude**$Zb.indexOf(unit))}function $ac(s){const [_, n, unit, ibi_or_iga] = new RegExp('^([0-9]+(?:\.[0-9]+)?)(|[KMGTP])(i)?B$').exec(s);return $_b(parseFloat(n), unit, (ibi_or_iga===undefined)?1000:1024)}const $bc=['','K','M','B','T'];function $cc(n){if(n===null)return "N/A";let i = 0;while(n > 1024){++i;n /= 1024;}return n.toFixed(1) + $bc[i];}function $dc(key,_default,fn){let b = $Yc(key);if(b === undefined)b = _default;$ic(key,b);if(fn!==undefined)fn(key,b);return b;}function $ec(key,_default){$dc("tbl_f_hide_col_"+key,_default,$ic);}function $fc(key,val){$Xc(key,val,3600);$z('setting-'+key).textContent = val}function $gc(){const n = $He();$fc('sleep_on_inanimate_media',n,3600);}function $hc(){const n = $He();$fc('sleep_after_media_err',n,3600);}function $ic(id,B){const b = ((B===true)||(B==="1"));$Xc(id, b?'1':'0', 3600);$z('setting-'+id).textContent = b?"1":"0";}function $jc(){const b = $E("Use RegEx?\nSay no if you don't know what they are");$Eb = (b===true);$ic('use_regex',$Eb);}function $kc(s){const b = $E("Hide the "+s+" column on the file table?");$ic("tbl_f_hide_col_"+s,b);$I(s,$dg,!b);}function $lc(){for(let s of ["thumbnail","fname","ftitle","tags","dateadded","date_origin","file_size","duration","w","h","views","likes","dislikes","fps"]){const b = $Yc("tbl_f_hide_col_"+s);$I(s,$dg,!(b==="1"));}}const $mc={"fg":1, "bg":2};function $nc(name,val){if(val===undefined)return;$Xc("css_colour_"+name, val, 3600);const c = $y.styleSheets[0];c.deleteRule($mc[name]),c.insertRule('.' + name + '{background-color:'+val+';}', $mc[name]);}function $oc(e){const x = e.target;$nc(x.dataset.for,x.value);}function $pc(){$Vd($ub);}function $qc(dir_id,rel,arr){$z(rel).innerHTML = arr.filter(x => x[0]!==dir_id).map(([id,name]) => "<a onclick=\"$rc('" + id + "',0)\">" + $Ee(name) + "</a>").join("<br/>");}function $rc(_dir_id_or_path, is_not_in_db, page){if(_dir_id_or_path===null)return;if(_dir_id_or_path==="")_dir_id_or_path=$tb;if(page===undefined)page = 0;let ls = ['f','f-action-btns','tags-container','parents-container','children-container','tagselect-dirs-container','tagselect-files-container','tagselect-files-btn'];if(!is_not_in_db){ls.push('merge-files-btn');ls.push('backup-files-btn');ls.push('view-as-playlist-btn');}$fg(ls);$Mb = $_;$Nb = $uc;$Jb = $Z;$Lb = $tc;if (_dir_id_or_path !== undefined){if(is_not_in_db){$tb = "0"; $U(':', null, _dir_id_or_path,page);$Je(':'+page+'/'+_dir_id_or_path);}else{$tb = _dir_id_or_path;$Lc("/tagem-eg/a/d/i/"+$tb, function(data){$ub = data[0];$qc($tb,"parents",data[1]);$qc($tb,"children",data[2]);$qe(data[3], "tags", "$je", 'd');$pc();});$U('d', $tb, null, page);$Je('d'+page+'/'+$tb);}}else{$Je('d'+page+'/'+$tb);}if(is_not_in_db){$Vd(_dir_id_or_path);}else if(_dir_id_or_path===undefined){$pc();}$Wd('d');}function $sc(){return $Le('d');}function $tc(){return $tb;}function $uc(ids, tags){$re(tags, 'tags', 'd')}function $vc(ids, tags){$fe('d',ids,tags,3);}function $wc(data){let s = "";$Lb = $sc;for (const [id, name, device, tag_ids, size] of data[0]){s += "<div class='tr' data-id='" + id + "'>";s += "<div class='td'>";s += "<a onclick='$rc(this.parentNode.parentNode.dataset.id,0)'>" + $Ee(name) + "</a>";s += "</div>";s += "<div class='td'>";s += "<a onclick='$Xe(" + device + ")'>Device</a>";s += "</div>";s += "<div class='td dir-size'>" + size + "</div>";s += "<div class='td'>" + tag_ids + "</div>";s += "</div>";}$K("d").innerHTML = s;}function $xc(ids){$Lc("/tagem-eg/a/d/id/0/"+ids.join(","),$wc);}function $yc(){$fg(['d']);$Nb = $vc;$Lb = $sc;}function $zc(){$fg(['tagselect-files-container', 'add-d-dialog']);}function $Ac(mthd,resp_type,url,fn){$.ajax({type:mthd,dataType:resp_type,url:url,success:fn,error:$Vc});}function $Bc(mthd,url,fn){$Ac(mthd,"json",url,fn);}function $Cc(mthd,url,resp_type,data,succ,err){$.ajax({type:mthd,data:data,dataType:resp_type,url:url,success:succ,error:err});}function $Dc(mthd,url,data,fn){$Cc(mthd,url,"json",data,fn,$Vc);}function $Ec(url,fn){$Bc("POST",url,fn);}function $Fc(url,resp_type,data,succ,err){$Cc("POST",url,resp_type,data,succ,err);}function $Gc(url,data,succ,err){$Fc(url,"json",data,succ,err);}function $Hc(url,resp_type,data,fn){$Fc(url,resp_type,data,fn,$Vc);}function $Ic(url,data,fn){$Hc(url,"text",data,fn);}function $Jc(url,data,fn){$Hc(url,"json",data,fn);}function $Kc(url,data){$Ic(url,data,$Sc);}function $Lc(url,fn){$Bc("GET",url,fn);}function $Mc(url,fn){$Ac("GET","text",url,fn);}function $Nc(url,fn){$Ac("POST","text",url,fn);}function $Oc(url,fn){$Ac("POST","json",url,fn);}function $Pc(url){$Nc(url,$Sc);}function $Qc(){$fg(['tagselect-files-container', 'add-D-dialog']);}function $Rc(s){alert(s);}function $Sc(){$Rc("Success");}function $Tc(){$Rc("Not authorised.\nPlease log in first.");}function $Uc(title, text){$Rc(title + "\n" + text);}function $Vc(r,title,text){$Uc(r.statusText, text + "\nfor url: " + this.url);}function $Wc(s){console.log("WARNING", s);}function $Xc(name, value, lifetime){document.cookie = name + '=' + value + ';max-age=' + lifetime + ';path=/;samesite=strict;';}function $Yc(name){const regexp = new RegExp('(?:^|;) ?' + name + "=([^;]+)");const x = regexp.exec(document.cookie);if (x === null)return undefined;return x[1];}function $Zc(name){document.cookie = name + '=;max-age=-1;';}function $$c(dict, d2){for (const [key, value] of Object.entries(d2)){dict[key] = value;}}function $_c(dict, keys){for (const key of keys){delete dict[key];}}function $ad(var_name, dict, url, fn){if (dict instanceof Array){$G[var_name] = Array.prototype.concat($G[var_name], dict);} else {$$c($G[var_name], dict);}const cookie_name = var_name + '_adds';const cookie_val = $Yc(cookie_name);if (cookie_val !== undefined){if (dict instanceof Array){dict = Array.prototype.concat(dict, JSON.parse(cookie_val));} else {$$c(dict, JSON.parse(cookie_val));}}const str = JSON.stringify(dict);if (str.length > 4000){$Tb(var_name, url, fn);$Zc(cookie_name);return;}$Xc(cookie_name, str, 3600*24);fn();}function $bd(var_name, keys, url, fn){if ($G[var_name] instanceof Array){$G[var_name] = $G[var_name].filter(x => !keys.includes(x));} else {$_c($G[var_name], keys);}const cookie_name = var_name + '_dels';const cookie_val = $Yc(cookie_name);if (cookie_val !== undefined){keys = Array.prototype.concat(keys, JSON.parse(cookie_val));}const str = JSON.stringify(keys);if (str.length > 4000){$Lc(url + '?' + (new Date().getTime()), function(data){console.log("Cache busting", var_name);$G[var_name] = data;fn();});$Zc(cookie_name);return;}$Xc(cookie_name, str, 3600*24);fn();}function $cd(parent_var_name, s){return Object.entries($G[parent_var_name]).map(([id, tpl]) => [id, tpl[0]]).filter(x => s.startsWith(x[1])).sort(function(a,b){return b[1].length-a[1].length;})[0];}var $dd=null;var $ed=null;function $fd(){const t = ($Ye.currentTime || $Ye.getCurrentTime());if(t===undefined)return;const T = ($Ye.duration || $Ye.getDuration());if($dd===null){$dd = t;}else{$ed = t;$_f("tagselect-era-container");}}function $gd(){if(($dd===null)||($ed===null))return $Rc("Error: era_start==="+era_start+" and era_end==="+era_end);const tags = $('#tagselect-era').select2('data');$Nc("/e/add/"+$rb+"/"+$dd+"-"+$ed+"/"+tags.map(x => x.id).join(","),function(){$z('eras-info-tbody').innerHTML += $jd([0,$dd,$ed,tags.map(x => "<a onclick='$ze(\'" + x.id + "\')'>" + x.text + "</a>")]);$hd();});}function $hd(){$dd = $ed = null;$$f('tagselect-era-container');}function $id(){$fg(['f','view-as-playlist-btn']);$Vd("Eras");}function $jd(era){const [id,start,end,era_tag_ids] = era;let _s = "";_s += "<tr class='tr' data-id='" + id + "' data-start='" + start + "' data-end='" + end + "'>";_s += "<td class='td'>" + id + "</td>";_s += "<td class='td'><a onclick=\"$yf('"+$rb+"@"+start+"-"+end+"')\">" + $Of(start) + "</a></td>";_s += "<td class='td'><a onclick=\"$yf('"+$rb+"@"+end+"')\">" + $Of(end) + "</a></td>";_s += "<td class='td'>" + era_tag_ids + "</td>";_s += "</tr>";return _s;}function $kd(ids,t_dict){for(x of $z('eras-info-tbody')){if(!ids.includes(x.dataset.id))continue;x.getElementsByClassName('td')[3].innerHTML += "and some new tags";}}function $ld(){let ids = "";for(let node of $K('eras-info').getElementsByClassName('selected1')){if(node.dataset.id==="0"){$Rc("Can only tag eras with non-zero IDs.\nSome eras have ID of zero, probably because they are newly added eras.");return "";}else ids += "," + node.dataset.id}return ids.substr(1);}function $md(){const fid = $$e(false);let csv = "";for(let node of $K('eras-info').getElementsByClassName('selected1')){csv += "," + fid + "@" + node.dataset.start + "-" + node.dataset.end;}return (csv==="") ? fid : csv.substr(1);}function $nd(){switch($pb){case "f":return "/f/title/";default:return null;}}function $od(){const url = $nd();if(url===null)return;const s = $F("New title");if((s==="")||(s===null))return;$Ic(url+$rb,s,function(){$Vd(s);});}function $pd(obj_type){switch(obj_type){case 'f':return 'file';case 'd':return 'directory';case 'D':return 'device';case 'P':return 'protocol';case 't':return 'tag';}}function $qd(obj_type){const queue = $z('add-'+obj_type+'-queue');if(obj_type==='t'){const tag_names = [];queue.innerText.replace(/(?:^|\n)([^\n]+)/g, function(group0, group1){tag_names.push(group1);});if(tag_names.length===0)return;const tagselect = $('#tagselect-self-p');const parent_ids = tagselect.val();if(parent_ids.length === 0)return;$Ic("/t/add/"+parent_ids.join(",")+"/", tag_names.join("\n"), function(){tagselect.val("").change();queue.innerHTML = ""; $Rc("Success");});return;}const urls = [...queue.innerText.matchAll(/[^\n]+/g)];if(urls.length===0){$Rc("No URLs");return;}const tagselect = $('#tagselect-files');const tag_ids = tagselect.val();if(tag_ids.length === 0){$Rc("No tags");return;}const backup_dir_id = $rd();if(backup_dir_id===""){$Rc("Backup requested, but no directory selected");return;}$Ic("/" + obj_type + "/add/" + tag_ids.join(",")+"/" + backup_dir_id + "/" + $sd(), urls.join("\n"),function(){tagselect.val("").change();queue.innerHTML = ""; $Rc("Success");if((obj_type!=='f')&&(obj_type!=='d'))$Tb(obj_type, '/tagem-eg/a/'+obj_type+'.json');});}function $rd(){const x = $z("add-f-backup-toggle");if($eg(x)||(!x.checked))return "0";return $('#dirselect').val();}function $sd(){return $z('add-f-backup-ytdl').checked ? 1 : 0;}function $td(obj_type){const inp = $z('add-' + obj_type + '-input');const x = inp.value;if(x === ""){$Rc("Enter a tag or URL");return;}$z('add-' + obj_type + '-queue').innerText += "\n" + x;inp.value = "";}function $ud(){$fg([]);const uname = $Yc("username");$z('username').innerText = (uname === undefined)?"GUEST":uname;$be();$Sb('d');$Sb('t');$Rb('$Ob');$($y.body).on("change","#select-user-for-edit",$Pd);let node = document.createElement('script');node.src = "https://www.youtube.com/iframe_api";let firstScriptTag = $B('script')[0];firstScriptTag.parentNode.insertBefore(node, firstScriptTag);let css = $Yc("css");if(css===undefined)css = $Fb[0];$Gd(css);$Eb = $dc("use_regex",false);$ec('thumbnail',false);$ec('fname',false);$ec('ftitle',false);$ec('tags',false);$ec('dateadded',true);$ec('date_origin',false);$ec('file_size',false);$ec('duration',false);$ec('w',true);$ec('h',true);$ec('views',true);$ec('likes',true);$ec('dislikes',true);$ec('fps',true);$nc("fg",$Yc("css_colour_fg"));$nc("bg",$Yc("css_colour_bg"));for(let [key,val] of [['sleep_on_inanimate_media',2],['sleep_after_media_err',2]]){const val2 = $Yc(key);$fc(key,((val2===undefined)?val:val2));}let w = $Yc("w");if(w===undefined)w=256;$vd(w);$If("f");$If("t");$If("eras-info");$mb();for(node of $B('input')){node.addEventListener('focusin',  $de);node.addEventListener('focusout', $ce);}$ce();for(node of $A('css-colour-picker'))node.addEventListener("change",$oc);}function $vd(n){$Xc("w", n, 3600);const c = $y.styleSheets[0];c.deleteRule(0),c.insertRule('.thumbnail img{max-width:'+n+'px; max-height:'+n+'px;}', 0);}function $wd(){$vd(parseInt($F("Width")));}var $xd=false;function $yd(){$fg(['text-editor','text-edit','dirselect-container','tagselect-files-container']);}function $zd(){const title = $z('text-editor').getElementsByTagName('h2')[0].innerText.replace(/\n$/,'');if(title===""){$Rc("Must name file");return;}if(/[\r\n\/\\]/.test(title)){$Rc("File name must not contain newline, carriage return, or slashes of any kind");return;}const tagselect = $('#tagselect-files');const tag_ids = tagselect.val();if(tag_ids.length === 0){$Rc("Must tag file");return;}const dir_inp = $z("dirselect");const _dir_id = dir_inp.value;if(_dir_id === null){$Rc("Must assign file to directory");return;}const _dir_name = dir_inp.textContent;if(!_dir_name.startsWith("/")){const b = $E("Directory is not local.\nThe contents will be saved into the description field.\nStill continue?");if(b!==true)return;}$Kc("/f/save/"+(($xd)?$rb:0)+"/"+_dir_id+"/"+tag_ids.join(","),title+"\n"+$z('text-edit').innerText);}function $Ad(){$fg(['tasks-container']);$.get({url:"/tagem-eg/a/exec.json",success:function(data){let _s = "";for(const [id,name,descr,content] of data){_s += `\t<div class='task'><h3 class='task-name'>` + name + `</h3><p class='task-descr'>` + descr + `</p><a onclick='$hg("task-content` + id + `")'>Content</a><textedit id='task-content` + id + `' class='hidden task-content' contenteditable='true'></textedit><a onclick="$Cd(` + id + `)">Submit edit</a><a onclick='$Bd(` + id + `)'>Exec</a></div>`;}$z('tasks').innerHTML = _s;for(const [id,name,descr,content] of data){$z('task-content'+id).innerText = content;}},error:$Tc});}function $Bd(task_id){$Pc("/task/exec/"+task_id);}function $Cd(task_id){$Kc("/task/edit/"+task_id,$z('task-content'+task_id).innerText);}function $Dd(){const uname = $F("Username");if((uname==="")||(uname===null))return;$Xc("username", uname, 3600*24); $z('username').innerText = uname;$be();}function $Ed(){if(!$Fd())return;$Zc("username");$z('username').innerText = "GUEST";$be();}function $Fd(){return ($Yc("username")!==undefined);}function $Gd(s){for(let e of $A('table')){for(let c of $Fb)e.classList.remove('tbl-'+c);e.classList.add('tbl-'+s);}$Xc("css", s, 3600);}function $Hd(){let i = $Fb.indexOf($Yc("css")) + 1;if(i===$Fb.length)i=0;$Gd($Fb[i]);}var $Id;function $Jd(){if(!$Fd())return;$fg(['admin-dashboard']);$Lc("/a/users.json",function(data){[$Ob, $Id] = data;});}function $Kd(){$hg('record-fs-dir');}function $Ld(){const s = $F("/path/of/directory");if((s==="")||(s===null))return;const max_depth = $Ge("Maximum depth - 0 being 'no limit'");if (max_depth === null)return;let tag_ids = $('#tagselect-record-fs-dir').val().join(",");if (tag_ids === "")tag_ids = "0";$Ic("/record-local-dir/"+max_depth+"/"+tag_ids,s,function(){$$f('record-fs-dir');});}function $Md(){$Pc("/gen-thumbs/");}function $Nd(){return $z('select-user-for-edit').value;}function $Od(id,name){return "<div class='tr' data-id='"+id+"'><div class='td username'>"+name+"</div><div class='td' onclick='$Sd(this.parentNode)'>Edit</div></div>";}function $Pd(){const [name,vals,bl] = $Ob[$Nd()];$z("edit-user-permissions-username").innerText = name;let s = "";const ls = $K("edit-user-permissions-tbl").getElementsByClassName("tr");const vals_ls = vals.split(",");for(let i=0, n=vals_ls.length;  i<n;  ++i){ls[i].getElementsByClassName('td')[1].textContent = (vals_ls[i]==="1")?"TRUE":"FALSE";}s = "";for(let id of $a(bl)){s += $Od(id,$Id[id][0]);}$K("edit-user-tag-bl-tbl").innerHTML = s;}function $Qd(e){const par = e.parentNode.parentNode;const field_name = par.childNodes[0].textContent;const b = $E("Allow "+$Ob[$Nd()][0]+" access to "+field_name+"?");$Kc("/user/permission/"+$Nd()+"/"+(b?"1":"0"), field_name);par.childNodes[1].textContent = b?"TRUE":"FALSE";}function $Rd(id){if($gg(id)){$$f(id);return;}$_f(id);}function $Sd(e){$Pc("/user/bl/t-/"+$Nd()+"/"+e.dataset.id);e.remove();}function $Td(){const ls = $('#tagselect-useredit').val();if(ls.length===0)return;$Nc("/user/bl/t+/"+$Nd()+"/"+ls.join(","), function(){let s = "";for(let x of $('#tagselect-useredit').select2('data'))s += $Od(x.id,x.text);$K("edit-user-tag-bl-tbl").innerHTML += s;$('#tagselect-useredit').val(null).trigger('change');});}function $Ud(){const name = $F("User name");if((name===null)||(name===""))return;$Kc("/user/+",name);}function $Vd(s){$y.title=s;$z('profile-name').innerText = s;}function $Wd(url){if(url==='d'){$_f('profile-img-d');$$f('profile-img-qry');$$f('profile-img-etc');return;}if(url==='qry'){$$f('profile-img-d');$_f('profile-img-qry');$$f('profile-img-etc');return;}$$f('profile-img-d');$$f('profile-img-qry');$_f('profile-img-etc');$z('profile-img-etc').src = url;}const $Xd=function(){};var $Yd=$Xd;function $Zd(){$Yd();}function onYouTubeIframeAPIReady(){$Db = new YT.Player('yt-player', {height: '390',width: '640',events:{'onError': $m,'onReady': $Zd,'onStateChange':$ef}});$ae();}function $$d(S){const s = decodeURI(S);let _x = s.substr(2);const c = s.substr(1,1);const _xs = /([^\/]+)\/(.*)$/.exec(_x);switch(c){case "f": $yf(_x); break;case "F": $o(_x); break;case "t": $ze(_xs[2],_xs[1]);  break;case "x":$yb = _xs[1];_x = _x2.substr(1);switch(_xs[2][0]){case "u": $Ve($yb, _x); break;}break;case "$": $ab(_x); break;case "d":case ":":$rc(_xs[2], (c===":"), _xs[1]);break;case '?':$lb(_x);break;default:$xc(["388260,390915,390926,390939,390943,390952,390954,390957,4123,4213,4229,4230,4231,4276,4288,4309"]);$yc();$Be(["brrr"]);$Ae();$V(["brrr"]);$bb();; }}function $_d(id){const [name,min,max,conversion] = f2[id];const inp = $z('file2-value');$cg('file2-value-dt', (conversion===2));$cg('file2-value', (conversion!==2));switch(conversion){case 0: inp.type = "text";inp.pattern = "\d+";inp.placeholder = "12345";inp.min = min;inp.max = max;break;case 2: break;default:$Rc("Not implemented yet");}}function $ae(){if(D === undefined || P === undefined || t2p === undefined || x === undefined || mt === undefined || f2 === undefined || $Db === undefined)return;$Lf();$$d($G.location.hash);$('#file2-select').on('select2:selecting', function(e){$_d(e.params.args.data.id);});$('#file2-value-dt').datetimepicker();}function $be(){$Tb('D', '/tagem-eg/a/D.json', $ae);$Tb('P', '/tagem-eg/a/P.json', $ae);$Tb('t2p', '/tagem-eg/a/t2p.json', $ae);$Tb('x', '/tagem-eg/a/x.json', $ae);$Tb('mt', '/tagem-eg/a/mt.json', $ae);$Tb('f2', '/tagem-eg/a/f2.json', function(){$Cb = Object.entries(f2).sort(x => x[0]).reverse();$Cb.unshift(null); $ae();});}function $ce(){$v('e', $fd);$v('p', $o);$v('v', e => $hg('file2-container'));$v('b', $db);$v('m', $X);$v('q', e => $L('qry'));}function $de(){$w('e');$w('p');$w('v');$w('b');$w('m');$w('q');}function $ee(alias, ids, selector, fn){const tagselect = $(selector);const tags = tagselect.select2('data');if(ids==="")return;if(!$Fd())return $Tc();$Nc("/" + alias + "/t/" + ids + "/" + tags.map(x => x.id).join(","),function(){tagselect.val("").change(); fn(ids, tags);});}function $fe(alias, ids, tags, col){for(let node of $z(alias).getElementsByClassName('tr')){if(!ids.includes(node.dataset.id))continue;let _s = "";for(tag of tags)_s += $Vb("$ze",tag.id,tag.text);node.getElementsByClassName('td')[col].innerHTML += _s;}}function $ge(data){$_f('tagselect-self-p');let s = "";for (const [id, name, thumb, size] of data){s += "<div class='tr' data-id=\"" + id + "\">";s += "<div class='td thumb' onclick='$ze(\"" + id + "\",0)'>";s += "<img class='thumb' src='" + thumb + "' onerror='$jb(this)'/>";s += "</div>";s += "<div class='td'>";s += $Ee(name);s += "</div>";s += "<div class='td dir-size'>" + size + "</div>";s += "</div>";}$K('t').innerHTML = s;}function $he(arr){if (arr.length===0){$K('t').innerHTML = "";return;}$Dc("GET","/tagem-eg/a/t/id/0/"+arr.join(","),null,$ge);}function $ie(alias){switch(alias){case 'f':return $rb;case 'd':return $tb;case 't':return $qb;}}function $je(node,alias,relation,fn){if(!$Fd())return $Tc();if(relation===undefined)relation='t';$Nc("/"+alias+"/"+relation+"-/"+$ie(alias)+"/"+node.parentNode.dataset.id,function(){node.parentNode.classList.add("hidden");if(fn!==undefined)fn(node.parentNode.id);});}function $ke(node,relation){$je(node,'t',relation,function(id){$le( ((relation==="c")?id:$qb), ((relation==="c")?$qb:id) );});}function $le(t,p){let i;for(i=0, n=t2p.length;  i < n;  ++i){const tpl = t2p[i];if(!((tpl[0]==t)&&(tpl[1]==p)))continue;break;}t2p[i] = [0,0];}function $me(node){$ke(node,'p');}function $ne(node){$ke(node,'c');}function $oe(id, name, thumb, fn_name, alias){return "<div class='tag' data-id=\"" + id + "\">"+ "<img src='" + ((thumb===null)?$Ib:thumb) + "' class='icon'/>"+ "<a onclick='$ze(\"" + id + "\")'>" + $Ee(name) + "</a>"+ "<button class=\"del\" onclick=\"" + fn_name + "(this,'" + alias + "')\">-</button>"+ "</div>";}function $pe(url,node_id,fn_name,alias){if(url==="id/0/"){$z(node_id).innerHTML = "";return;}$Dc("GET","/tagem-eg/a/t/"+url,null,function(data){let s = "";for (const [id, name, thumb, size] of data){s += $oe(id, name, thumb, fn_name, alias);}$z(node_id).innerHTML = s;});}function $qe(tag_ids, node_id, fn_name, alias){if(tag_ids.length===0){$z(node_id).innerHTML = "";return;}$pe("id/0/"+tag_ids.join(","),node_id,fn_name,alias);}function $re(tags, node_id, fn_name, alias){const arr = tags.map(x => $oe(x.id, x.text, null, null, fn_name, alias));$z(node_id).innerHTML += arr.join("");}function $se(_tag_id){const url = (false)? "id/0/" + t2p.filter(x => (x[0] == _tag_id)).map(x => x[1]).join(","): "p/"+_tag_id;$pe(url,"parents","$me");}function $te(_tag_id){const url = (false)? "id/0/" + t2p.filter(x => (x[1] == _tag_id)).map(x => x[0]).join(","): "c/"+_tag_id;$pe(url,"children","$me");}function $ue(fn){const tagselect = $('#tagselect-self-c');$Nc("/t/c/" + $Kb() + "/" + tagselect.val().join(","),function(){const ls = $b($Kb());$ad('t2p', $Yb(tagselect.val(), ls), '/tagem-eg/a/t2p.json', function(){if($Kb!==$xe)return;$te(ls);});tagselect.val("").change(); });}function $ve(fn){const tagselect = $('#tagselect-self-p');$Nc("/t/p/" + $Kb() + "/" + tagselect.val().join(","),function(){const ls = $b($Kb());$ad('t2p', $Yb(ls, tagselect.val()), '/tagem-eg/a/t2p.json', function(){if($Kb!==$xe)return;$se(ls);});tagselect.val("").change(); });}function $we(){const url = prompt("New Thumbnail URL", "");if(url==="" || url===null)return;$Nc("/t/thumb/" + $qb + "/" + url,function(){$Wd(url);});}function $xe(){return $qb;}function $ye(){let file_ids = "";for(let node of $K('t').getElementsByClassName('selected1')){file_ids += "," + node.dataset.id}return file_ids.substr(1);}function $ze(_tag_id,page){$fg(['parents-container','children-container','f','tagselect-files-container','tagselect-files-btn','tagselect-self-p-container','tagselect-self-p-btn','tagselect-self-c-container','tagselect-self-c-btn','merge-files-btn','backup-files-btn','view-as-playlist-btn']);$z('profile-img').onclick = $we;$Mb = $_;$Jb = $Z;$Kb = $xe;if (_tag_id !== undefined){$qb = _tag_id;$U('t', $qb, null, (page===undefined)?0:page);}$Lc("/tagem-eg/a/t/id/0/"+$qb,function(data){const [id, name,thumb,size] = data[0];$Vd(name);$Wd(thumb);$Je('t0/'+$qb);});$se($qb);$te($qb);}function $Ae(){$fg(['t','f-action-btns','tagselect-self-p-container','tagselect-self-p-btn']);$Ke();$Kb = $ye;}function $Be(ids){$Lc("/tagem-eg/a/t/id/0/"+ids.join(","),$ge);}function $Ce(){$fg(['tagselect-self-p-container','add-t-dialog']);}var $De=$y.createElement('div');function $Ee(s){$De.textContent = s;return $De.innerHTML;}function $Fe(s, ls){while(true){const x = $F(s + "\nOptions:\n" + ls.join("\n"));if(ls.includes(x))return x;}}function $Ge(S){while(true){const s = $F(S);if(s===null)return null;const n = $H(s);if(!isNaN(n))return n;}}function $He(){return $Ge("Integer");}function $Ie(s){if((s==="")||($y.title===""))return;const x = $z('recent-pages');for(node of x.childNodes){if(node.innerText===$y.title)return;}if(x.childNodes.length===10)x.removeChild(x.childNodes[9]);x.innerHTML = "<a onclick='$$d(\""+s+"\")'>" + $y.title + "</a>" + x.innerHTML; }function $Je(s){const S = "#" + s;$Ie(S);$pb = s[0];if(S!=history.state)history.pushState(S, "", S);}function $Ke(){$Je("");}function $Le(tbl){let ids = "";for(let node of $K(tbl).getElementsByClassName('selected1')){ids += "," + node.dataset.id}return ids.substr(1);}function $Me(id){$lb('f x "' + x[id] + '"');}function $Ne(id, name, post_id){return "<a class='db-link' onclick='$Te(" + id + ",\"" + post_id + "\")'>View post on " + name + "</a>"; }function $Oe(db_and_post_ids){let s = "";for (var i = 0;  i < db_and_post_ids.length;  ++i){s += $Ne(db_and_post_ids[i][0], x[db_and_post_ids[i][0]], db_and_post_ids[i][1]) + "<br/>";}$z("db-links").innerHTML = s;}function $Pe(s){return Object.entries(x).filter(x => x[1]==s)[0][0];}function $Qe(_db_id, ls){let tree = {"0":["0",0,""]};for (const [cmnt_id, parent_id, user_id, timestamp, username, cmnt_content] of ls){const _s = '' +'<div id="c' + cmnt_id + '" class="cmnt">' +'<div class="head">' +'<a class="user" onclick="$Ve(' + _db_id + ',\'' + user_id + '\')">' + username + '</a>' + '<time data-t="' + timestamp + '">' + $Nf(timestamp) + '</time>' +'<button class="del" onclick="$Ue(' + _db_id + ',\'' + cmnt_id + '\')">Del</button>' +'</div>' +'<p>' +cmnt_content +'</p>' +'<div class=\'replies\'>';tree[cmnt_id] = [parent_id, 0, _s];if(tree[parent_id]===undefined){console.log("tree[",parent_id,"] undefined");continue;}++tree[parent_id][1];}let s = "";bigloopboi:while(true){for(const [key, [parent,n_children,_s]] of Object.entries(tree)){if(n_children !== 0)continue;if(tree[parent]===undefined){tree[0][2] += _s + '</div></div>';}else{tree[parent][2] += _s + '</div></div>';--tree[parent][1];}if(key === "0")break bigloopboi;delete tree[key];}}$z('cmnts').innerHTML = tree[0][2];$_f("cmnts");}function $Re(_db_id, tpl){const [user, t, n_likes, username, txt] = tpl;$z('post-user').onclick = function(){$Ve(_db_id, user)};$z('post-user').innerText = username;$z('post-time').innerHTML = $Nf(t);$z('post-text').innerText = txt;}function $Se(_db_id, _user_id, _type){$Lc('/tagem-eg/a/x/u/p/'+_type+'/'+_db_id+'/'+_user_id, function(file_ids){if(file_ids.length === 0)return;$U('id', file_ids.join(","), null, 0);for(let _ of ['f','f-action-btns','tagselect-files-container','tagselect-files-btn','merge-files-btn','backup-files-btn','view-as-playlist-btn'])$_f(_);$Jb = $Z;});}function $Te(_db_id, _post_id){$Lc("/tagem-eg/a/x/p/i/"+_db_id+"/"+_post_id, function(data){$Re(_db_id, data[0]);$Qe(_db_id, data[1]);$yb = _db_id;$zb = _post_id;$$f('likes');$_f('post-container');});}function $Ue(_db_id, cmnt_id){$Nc("/x/c/rm/"+_db_id+"/"+cmnt_id, function(){$z('c'+cmnt_id).classList.add('hidden');});}function $Ve(_db_id, _user_id){$fg(['tags-container','user-info']);$Je('x' + $yb + '/u' + $Ab);if (_db_id !== undefined){$Ab = _user_id;$yb = _db_id;$Lc("/tagem-eg/a/x/u/i/"+$yb+"/"+_user_id,function(data){$Wd($Ib);$z('user-fullname').textContent = data[1];if (data[2])$_f('verified'); else $$f('verified');$z('n-followers').textContent = data[3] + ' followers';$qe($a(data[4]), "tags", 'x/u');$Bb = data[0];$Vd($Bb);});} else {$Vd($Bb);}}function $We(){if ($rb === undefined)return;$Lc("/tagem-eg/a/x/p/l/"+$yb+"/"+$zb, function(data){let _s = "";for(const [id,name] of data){_s += '<a class="user" onclick="$Ve(' + $yb + ',\'' + id + '\')">' + name + '</a>';}$z('likes-ls').innerHTML = _s;$_f('likes');});}function $Xe(id){$Rc("TODO");}var $Ye=null;var $Ze;function $$e(and_era){return (and_era) ? $md() : $rb;}function $_e(ids, tags){$re(tags, 'tags', 'f')}function $af(except){for(let type of ['img','video','audio','iframe','object','yt-player']){if(type === except){$_f('view-'+type);const node = $z('view-'+type).getElementsByTagName('source')[0];if(node !== undefined)node.removeAttribute('src');continue;}$$f('view-'+type);if (type === 'yt-player')$hf(); }if(except !== null)$_f('view-'+except);}function $bf(type, src, _mimetype){$af(type);const x = $z('view-'+type);$Ye = x;x.src = src;}function $cf(type, src, _mimetype){$af(type);$Ye = $z('view-'+type);const player = $Ye.getElementsByTagName('source')[0];player.type = _mimetype;player.src = src;player.parentNode.load();player.parentNode.play();}var $df;function $ef(e){clearTimeout($df);if (e.data == YT.PlayerState.PLAYING){if($Db.jump_to_t!==undefined){$Db.seekTo($Db.jump_to_t);$Db.jump_to_t = undefined;}const T = $Db.next_video_when_reach_t;const t = $Db.getCurrentTime();if ((T!==undefined) && (t < T)){const t_remaining = (T - t) / $Db.getPlaybackRate();$df = setTimeout($jf,  t_remaining * 1000);}return;}if ((e.data == YT.PlayerState.ENDED) && (!$c()))$k();}function $ff(){$Db.loadVideoById($Zd.my_idstr);$Zd = $Xd;}function $gf(idstr){if($Db.loadVideoById!==undefined)$Db.loadVideoById(idstr); else{$Zd.my_idstr = idstr;$Yd = $ff;}$af('yt-player');}function $hf(){if($Db.pauseVideo!==undefined)$Db.pauseVideo();}function $jf(){$Db.next_video_when_reach_t = undefined;if($c())$k();  else $hf();}function $kf(x,e,fn){x.removeEventListener(e,fn);}function $lf(_dir_id, _mimetype, _file_name){const [_dir_name, _device_id] = d[(_dir_id === "") ? $tb : _dir_id];$bg('file-era');$_f('tagselect-eras-container');if(_device_id === $ob){$Ye = $Db;return $gf(_file_name);}$hf();const embed_pre = D[_device_id][2];if (embed_pre === ""){const _src_end = (_dir_id === "") ? "" : "/" + _dir_id;const src = (_dir_name.startsWith("http")) ? (_dir_name + _file_name) : ("/S/f/" + $rb + _src_end);const _mimetype_str = mt[_mimetype];switch(_mimetype_str.substring(0, _mimetype_str.indexOf('/'))){case 'image':$bf('img', src, null);break;case 'audio':$cf('audio', src, _mimetype_str);break;case 'video':$cf('video', src, _mimetype_str);break;case 'text':$Mc(src,function(data){const x = $z('text-edit');x.innerText = data;$Zf(x);});break;case '':$bf('iframe', src, null);break;default:$bf('object', src, _mimetype_str);}if(!$c()){for(var i=0; i<5; ++i)$kf($z('view-'+$g[i]), $h[i], $e[i]);}} else {$bf('iframe', embed_pre+_file_name+D[_device_id][3], null);}}function $mf(){$rc($tb,0);}function $nf(_dir_id, _mimetype){$lf(_dir_id, _mimetype, $sb);}function $of(){$af(null);$Ye = null;}function $pf(){return $z('autoplay').checked;}function $qf(name, value){return "<div class='value'><div class='value-name'><a onclick='$ab(\"" + name + "\")'>" + name + "</a></div>" + value + "</div>";}function $rf(){const select = $('#file2-select');const f2_id = select.val();if(f2_id === "")return;const _file_ids = $Jb();if(_file_ids==="")return;const input = $C('.file2-value:not(.hidden)');let value = input.value;if(value==="")return;if(input.type === "datetime-local")value = $Sf(value);$Nc("/f/f2/"+_file_ids+"/"+value+"/"+f2[f2_id][0],function(){select.val("").change(); input.value = "";if($gg('values'))$z('values').innerHTML += $qf(f2[f2_id][0], value);});}function $sf(){$fg(['file2-container','values-container','tags-container','file-info','tagselect-files-container','tagselect-files-btn','descr'],['file-meta']);if($pf())$_f('tagselect-eras-container'); else $ag('file-era');if($c())$_f('next-f-in-playlist');$n();}function $tf(){if(this.currentTime >= this.next_video_when_reach_t){if(!$c())this.pause(); else $k(); this.removeEventListener("timeupdate", $tf);}}function $uf(t){$Ye.next_video_when_reach_t = t;if($Ye===$Db)return;$Ye.addEventListener("timeupdate", $tf);}function $vf(e){if(e===undefined)return;const [a,b] = e.split("-");if ($Ye.currentTime!==undefined)$Ye.currentTime = a; else{$Ye.jump_to_t = a;if($Ye.seekTo!==undefined)$Ye.seekTo(a);}$uf(b);}function $wf(){if($Ye.play!==undefined)$Ye.play(); else $Ye.playVideo();}function $xf(){return ($Ye!==null)&&(($Ye===$Db)||($Ye.play!==undefined))}function $yf(_file_id_and_t){const [_file_id, _t] = (_file_id_and_t===undefined)?[null,null]:_file_id_and_t.split("@");if(_file_id==0){$Rc("Cannot view file of ID 0");return;}$$f('add-f-backup');$Mb = $_e;$Jb = $$e;$Je(($c())? ('F' + $j.join(",")): ('f' + ((_file_id_and_t===undefined)?$rb:_file_id_and_t)));if (_file_id !== null){if((_file_id === $rb)&&($xf())){$vf(_t);$sf();$wf();}else{$of();$rb = _file_id;$Lc("/tagem-eg/a/f/i/"+$rb,function(data){const [[thumb, _dir_id, name, title, sz, t_added_to_db, t_origin, duration, w, h, views, likes, dislikes, fps, ext_db_n_post_ids, tag_ids, mime, description, file2_values_csv], eras, backups, _d, t_dict] = data;$Wd(thumb);$tb = _dir_id;d = _d;$sb = name;$Ze = (title==="")?$sb:title;$Oe($a(ext_db_n_post_ids).map(x => x.split(":")));let _vals = "";const file2_values = $a(file2_values_csv);for(var i=0, len=file2_values.length;  i<len;  ++i){if(file2_values[i] !== "0")_vals += $qf($Cb[i][1][0], file2_values[i]);}$z('values').innerHTML = _vals;$xb = (tag_ids==="") ? [] : $a(tag_ids);$qe($xb, "tags", "$je", "f");$wb = mime;$Vd($Ze);$Qf(t_added_to_db);$Rf(t_origin);let _s = $zf("",$wb,name);for(const [dir,fname,mime] of backups){_s += $zf(dir,mime,fname);}if ($pf()){$nf('',$wb);$vf(_t);}$z("view-btns").innerHTML = _s;$sf();$z('descr').textContent = description;$z('eras-info-tbody').innerHTML = eras.map(x=>$jd(x)).join("");$Df(t_dict,"eras-info", '$ze', 3);});}} else {$sf();$Vd($Ze);}}function $zf(id,mime,fname){return '<a onclick="$rc(\'' + id + '\',0)">' + d[(id==="")?$tb:id][0] + '</a><a class="view-btn" onclick="$nf(\'' + id + '\',\'' + mime + '\')">' + fname + '</a></br>';}function $Af(){$_f('orig-src-dialog');}function $Bf(){$$f('orig-src-dialog');}function $Cf(){const inp = $z("orig-src-input");const url = inp.value;$Ic("/f/orig/" + $rb,url,$Bf);}function $Df(x, id, fn_name, col){const y = $z(id).getElementsByClassName('tbody')[0];const data=(typeof x === "string")?$G[x]:x;if (col === undefined){$Wb(data, y, fn_name);} else {for(let x of y.getElementsByClassName('tr'))$Wb(data, x.getElementsByClassName('td')[col], fn_name);}}function $Ef(tbl_id, name_col_ids, tags_col_ids){const tbl = $z(tbl_id);const filters = tbl.getElementsByClassName('thead')[0].getElementsByClassName('tr')[1].getElementsByClassName('td');const name_regexps = [];for (const name_col_id of name_col_ids){const s = filters[name_col_id].getElementsByTagName('input')[0].value;name_regexps.push([(s === '') ? undefined : new RegExp(s),  name_col_id]);}const tags_regexps = [];for (const tags_col_id of tags_col_ids){const s = filters[tags_col_id].getElementsByTagName('input')[0].value;tags_regexps.push([(s === '') ? undefined : new RegExp(s),  tags_col_id]);}row_loop: for (const row of tbl.getElementsByClassName('tbody')[0].getElementsByClassName('tr')){const cols = row.getElementsByClassName('td');const cl = row.classList;for (const [name_regexp, name_col_id] of name_regexps){if (name_regexp !== undefined){const name = cols[name_col_id].innerText;if (!(name_regexp.test(name))){cl.add('hidden');cl.remove('selected1');cl.remove('selected2');cl.remove('selected3');continue row_loop;}}}for (const [tags_regexp, tags_col_id] of tags_regexps){if (tags_regexp !== undefined){const name = cols[tags_col_id].innerText;if (!(tags_regexp.test(name))){cl.add('hidden');cl.remove('selected1');cl.remove('selected2');cl.remove('selected3');continue row_loop;}}}cl.remove('hidden');}}function $Ff(tr, which){tr.classList.toggle("selected" + which);}function $Gf(selector){$(selector).addClass("selected1");}function $Hf(selector, which){$(selector).removeClass("selected" + which);}function $If(id){$K(id).addEventListener("mouseup", function(e){var tgt = e.target;while (tgt !== this  &&  !tgt.classList.contains("tr")) {tgt = tgt.parentNode;}if (tgt === this)return;$Ff(tgt, e.which); });}function $Jf(tr, idx){const node = tr.children[idx];return node.dataset.n || node.textContent}function $Kf(idx, asc){return (a, b) => ((v1, v2) => v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v1 - v2 : v1.toString().localeCompare(v2))($Jf(asc ? a : b, idx), $Jf(asc ? b : a, idx));}function $Lf(){$(".thead .sort").each(function(i,el){el.addEventListener("click", function(){const tbl = el.parentNode.parentNode.parentNode.getElementsByClassName("tbody")[0]; Array.from(tbl.querySelectorAll('.tr')).sort($Kf(Array.from(el.parentNode.children).indexOf(el), this.asc = !this.asc)).forEach(tr => tbl.appendChild(tr) );})});$(".thead .hide").each(function(i,el){el.addEventListener("click", function(){const tbl = el.parentNode.parentNode.parentNode.getElementsByClassName("tbody")[0]; Array.from(tbl.querySelectorAll('.tr')).forEach(tr => tr.childNodes[Array.from(el.parentNode.children).indexOf(el)].classList.toggle('invisible'));});});}function $Mf(t){try{return new Date(t*1000).toISOString().slice(-24, -5).split("T");}catch(e){return null;}}function $Nf(t){try{const ls = $Mf(t);return "<div class='date'>"+ls[0]+"</div><div class='time'>"+ls[1]+"</div>";}catch(e){return "N/A";}}function $Of(t){try{const ls = $Mf(t);return "<div class='time'>"+ls[1]+"</div>";}catch(e){return "N/A";}}function $Pf(id,t){$z(id).innerHTML=$Nf(t);}function $Qf(t){$Pf('t-added', t);}function $Rf(t){$Pf('t-origin', t);}function $Sf(dt){return Date.parse(dt);}function $Tf(x){x.classList.add("popup");}function $Uf(id){$Tf($z(id));}function $Vf(x){x.classList.remove("popup");}function $Wf(id){$Vf($z(id));}function $Xf(e){$Vf(e.target.parentNode);}function $Yf(x){x.classList.add("hidden");}function $Zf(x){x.classList.remove("hidden");}function $$f(id){$Yf($z(id));}function $_f(id){$Zf($z(id));}function $ag(s){$J(s, $Yf);}function $bg(s){$J(s, $Zf);}function $cg(id,b){$dg($z(id),b);}function $dg(node,b){if(b)node.classList.remove("hidden"); else node.classList.add("hidden");}function $eg(node){return node.classList.contains("hidden");}function $fg(ids,classes){if(!ids.includes('file-info'))$j = undefined; $z('profile-img').removeAttribute('onclick');$ag('help');for(const id of ['admin-dashboard','text-editor','text-edit','add-f-backup-ytdl-container','add-f-backup-toggle-container','add-f-backup','f','d','t','merge-files-btn','backup-files-btn','view-as-playlist-btn','tasks-container','file-info','next-f-in-playlist','user-info','post-container','file2-container','file2','descr','values-container','tags-container','parents-container','children-container','dirselect-container','tagselect-files-container','tagselect-files-btn','tagselect-era-container','tagselect-eras-container','tagselect-dirs-container','tagselect-self-p-container','tagselect-self-p-btn','tagselect-self-c-container','tagselect-self-c-btn','add-t-dialog','add-f-dialog','add-d-dialog','add-D-dialog','orig-src-dialog']){if(ids.includes(id))$_f(id); else $$f(id);}for(const c of ['repeatness','file-meta']){if((classes===undefined)||(!classes.includes(c)))$ag(c); else $bg(c);}}function $gg(id){return (!$z(id).classList.contains('hidden'));}function $hg(id){$z(id).classList.toggle("hidden");}window.addEventListener('popstate',  e => $$d(e.state));
/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2020
 * @version 1.3.6
 *
 * Date formatter utility library that allows formatting date/time variables or Date objects using PHP DateTime format.
 * This library is a standalone javascript library and does not depend on other libraries or plugins like jQuery. The
 * library also adds support for Universal Module Definition (UMD).
 * 
 * @see http://php.net/manual/en/function.date.php
 *
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.DateFormatter=e()}("undefined"!=typeof self?self:this,function(){var t,e;return e={DAY:864e5,HOUR:3600,defaults:{dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(t){var e=t%10,n={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(t%100/10)&&n[e]?n[e]:"th"}},separators:/[ \-+\/.:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},getInt:function(t,e){return parseInt(t,e?e:10)},compare:function(t,e){return"string"==typeof t&&"string"==typeof e&&t.toLowerCase()===e.toLowerCase()},lpad:function(t,n,r){var a=t.toString();return r=r||"0",a.length<n?e.lpad(r+a,n):a},merge:function(t){var n,r;for(t=t||{},n=1;n<arguments.length;n++)if(r=arguments[n])for(var a in r)r.hasOwnProperty(a)&&("object"==typeof r[a]?e.merge(t[a],r[a]):t[a]=r[a]);return t},getIndex:function(t,e){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return n;return-1}},t=function(t){var n=this,r=e.merge(e.defaults,t);n.dateSettings=r.dateSettings,n.separators=r.separators,n.validParts=r.validParts,n.intParts=r.intParts,n.tzParts=r.tzParts,n.tzClip=r.tzClip},t.prototype={constructor:t,getMonth:function(t){var n,r=this;return n=e.getIndex(t,r.dateSettings.monthsShort)+1,0===n&&(n=e.getIndex(t,r.dateSettings.months)+1),n},parseDate:function(t,n){var r,a,u,i,o,s,c,f,l,d,g=this,h=!1,m=!1,p=g.dateSettings,y={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!t)return null;if(t instanceof Date)return t;if("U"===n)return u=e.getInt(t),u?new Date(1e3*u):t;switch(typeof t){case"number":return new Date(t);case"string":break;default:return null}if(r=n.match(g.validParts),!r||0===r.length)throw new Error("Invalid date format definition.");for(u=r.length-1;u>=0;u--)"S"===r[u]&&r.splice(u,1);for(a=t.replace(g.separators,"\x00").split("\x00"),u=0;u<a.length;u++)switch(i=a[u],o=e.getInt(i),r[u]){case"y":case"Y":if(!o)return null;l=i.length,y.year=2===l?e.getInt((70>o?"20":"19")+i):o,h=!0;break;case"m":case"n":case"M":case"F":if(isNaN(o)){if(s=g.getMonth(i),!(s>0))return null;y.month=s}else{if(!(o>=1&&12>=o))return null;y.month=o}h=!0;break;case"d":case"j":if(!(o>=1&&31>=o))return null;y.day=o,h=!0;break;case"g":case"h":if(c=r.indexOf("a")>-1?r.indexOf("a"):r.indexOf("A")>-1?r.indexOf("A"):-1,d=a[c],-1!==c)f=e.compare(d,p.meridiem[0])?0:e.compare(d,p.meridiem[1])?12:-1,o>=1&&12>=o&&-1!==f?y.hour=o%12===0?f:o+f:o>=0&&23>=o&&(y.hour=o);else{if(!(o>=0&&23>=o))return null;y.hour=o}m=!0;break;case"G":case"H":if(!(o>=0&&23>=o))return null;y.hour=o,m=!0;break;case"i":if(!(o>=0&&59>=o))return null;y.min=o,m=!0;break;case"s":if(!(o>=0&&59>=o))return null;y.sec=o,m=!0}if(h===!0){var D=y.year||0,v=y.month?y.month-1:0,S=y.day||1;y.date=new Date(D,v,S,y.hour,y.min,y.sec,0)}else{if(m!==!0)return null;y.date=new Date(0,0,0,y.hour,y.min,y.sec,0)}return y.date},guessDate:function(t,n){if("string"!=typeof t)return t;var r,a,u,i,o,s,c=this,f=t.replace(c.separators,"\x00").split("\x00"),l=/^[djmn]/g,d=n.match(c.validParts),g=new Date,h=0;if(!l.test(d[0]))return t;for(u=0;u<f.length;u++){if(h=2,o=f[u],s=e.getInt(o.substr(0,2)),isNaN(s))return null;switch(u){case 0:"m"===d[0]||"n"===d[0]?g.setMonth(s-1):g.setDate(s);break;case 1:"m"===d[0]||"n"===d[0]?g.setDate(s):g.setMonth(s-1);break;case 2:if(a=g.getFullYear(),r=o.length,h=4>r?r:4,a=e.getInt(4>r?a.toString().substr(0,4-r)+o:o.substr(0,4)),!a)return null;g.setFullYear(a);break;case 3:g.setHours(s);break;case 4:g.setMinutes(s);break;case 5:g.setSeconds(s)}i=o.substr(h),i.length>0&&f.splice(u+1,0,i)}return g},parseFormat:function(t,n){var r,a=this,u=a.dateSettings,i=/\\?(.?)/gi,o=function(t,e){return r[t]?r[t]():e};return r={d:function(){return e.lpad(r.j(),2)},D:function(){return u.daysShort[r.w()]},j:function(){return n.getDate()},l:function(){return u.days[r.w()]},N:function(){return r.w()||7},w:function(){return n.getDay()},z:function(){var t=new Date(r.Y(),r.n()-1,r.j()),n=new Date(r.Y(),0,1);return Math.round((t-n)/e.DAY)},W:function(){var t=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),n=new Date(t.getFullYear(),0,4);return e.lpad(1+Math.round((t-n)/e.DAY/7),2)},F:function(){return u.months[n.getMonth()]},m:function(){return e.lpad(r.n(),2)},M:function(){return u.monthsShort[n.getMonth()]},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var t=r.Y();return t%4===0&&t%100!==0||t%400===0?1:0},o:function(){var t=r.n(),e=r.W(),n=r.Y();return n+(12===t&&9>e?1:1===t&&e>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return r.A().toLowerCase()},A:function(){var t=r.G()<12?0:1;return u.meridiem[t]},B:function(){var t=n.getUTCHours()*e.HOUR,r=60*n.getUTCMinutes(),a=n.getUTCSeconds();return e.lpad(Math.floor((t+r+a+e.HOUR)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return e.lpad(r.g(),2)},H:function(){return e.lpad(r.G(),2)},i:function(){return e.lpad(n.getMinutes(),2)},s:function(){return e.lpad(n.getSeconds(),2)},u:function(){return e.lpad(1e3*n.getMilliseconds(),6)},e:function(){var t=/\((.*)\)/.exec(String(n))[1];return t||"Coordinated Universal Time"},I:function(){var t=new Date(r.Y(),0),e=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),a=Date.UTC(r.Y(),6);return t-e!==n-a?1:0},O:function(){var t=n.getTimezoneOffset(),r=Math.abs(t);return(t>0?"-":"+")+e.lpad(100*Math.floor(r/60)+r%60,4)},P:function(){var t=r.O();return t.substr(0,3)+":"+t.substr(3,2)},T:function(){var t=(String(n).match(a.tzParts)||[""]).pop().replace(a.tzClip,"");return t||"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,o)},r:function(){return"D, d M Y H:i:s O".replace(i,o)},U:function(){return n.getTime()/1e3||0}},o(t,t)},formatDate:function(t,n){var r,a,u,i,o,s=this,c="",f="\\";if("string"==typeof t&&(t=s.parseDate(t,n),!t))return null;if(t instanceof Date){for(u=n.length,r=0;u>r;r++)o=n.charAt(r),"S"!==o&&o!==f&&(r>0&&n.charAt(r-1)===f?c+=o:(i=s.parseFormat(o,t),r!==u-1&&s.intParts.test(o)&&"S"===n.charAt(r+1)&&(a=e.getInt(i)||0,i+=s.dateSettings.ordinal(a)),c+=i));return c}return""}},t});
/**
 * @preserve jQuery DateTimePicker
 * @homepage http://xdsoft.net/jqplugins/datetimepicker/
 * @author Chupurnov Valeriy (<chupurnov@gmail.com>)
 */

/**
 * @param {jQuery} $
 */
var datetimepickerFactory = function ($) {
	'use strict';

	var default_options  = {
		i18n: {
			ar: { // Arabic
				months: [
					"كانون الثاني", "شباط", "آذار", "نيسان", "مايو", "حزيران", "تموز", "آب", "أيلول", "تشرين الأول", "تشرين الثاني", "كانون الأول"
				],
				dayOfWeekShort: [
					"ن", "ث", "ع", "خ", "ج", "س", "ح"
				],
				dayOfWeek: ["الأحد", "الاثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت", "الأحد"]
			},
			ro: { // Romanian
				months: [
					"Ianuarie", "Februarie", "Martie", "Aprilie", "Mai", "Iunie", "Iulie", "August", "Septembrie", "Octombrie", "Noiembrie", "Decembrie"
				],
				dayOfWeekShort: [
					"Du", "Lu", "Ma", "Mi", "Jo", "Vi", "Sâ"
				],
				dayOfWeek: ["Duminică", "Luni", "Marţi", "Miercuri", "Joi", "Vineri", "Sâmbătă"]
			},
			id: { // Indonesian
				months: [
					"Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"
				],
				dayOfWeekShort: [
					"Min", "Sen", "Sel", "Rab", "Kam", "Jum", "Sab"
				],
				dayOfWeek: ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"]
			},
			is: { // Icelandic
				months: [
					"Janúar", "Febrúar", "Mars", "Apríl", "Maí", "Júní", "Júlí", "Ágúst", "September", "Október", "Nóvember", "Desember"
				],
				dayOfWeekShort: [
					"Sun", "Mán", "Þrið", "Mið", "Fim", "Fös", "Lau"
				],
				dayOfWeek: ["Sunnudagur", "Mánudagur", "Þriðjudagur", "Miðvikudagur", "Fimmtudagur", "Föstudagur", "Laugardagur"]
			},
			bg: { // Bulgarian
				months: [
					"Януари", "Февруари", "Март", "Април", "Май", "Юни", "Юли", "Август", "Септември", "Октомври", "Ноември", "Декември"
				],
				dayOfWeekShort: [
					"Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"
				],
				dayOfWeek: ["Неделя", "Понеделник", "Вторник", "Сряда", "Четвъртък", "Петък", "Събота"]
			},
			fa: { // Persian/Farsi
				months: [
					'فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور', 'مهر', 'آبان', 'آذر', 'دی', 'بهمن', 'اسفند'
				],
				dayOfWeekShort: [
					'یکشنبه', 'دوشنبه', 'سه شنبه', 'چهارشنبه', 'پنجشنبه', 'جمعه', 'شنبه'
				],
				dayOfWeek: ["یک‌شنبه", "دوشنبه", "سه‌شنبه", "چهارشنبه", "پنج‌شنبه", "جمعه", "شنبه", "یک‌شنبه"]
			},
			ru: { // Russian
				months: [
					'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'
				],
				dayOfWeekShort: [
					"Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"
				],
				dayOfWeek: ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"]
			},
			uk: { // Ukrainian
				months: [
					'Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень', 'Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'
				],
				dayOfWeekShort: [
					"Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"
				],
				dayOfWeek: ["Неділя", "Понеділок", "Вівторок", "Середа", "Четвер", "П'ятниця", "Субота"]
			},
			en: { // English
				months: [
					"January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
				],
				dayOfWeekShort: [
					"Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"
				],
				dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
			},
			el: { // Ελληνικά
				months: [
					"Ιανουάριος", "Φεβρουάριος", "Μάρτιος", "Απρίλιος", "Μάιος", "Ιούνιος", "Ιούλιος", "Αύγουστος", "Σεπτέμβριος", "Οκτώβριος", "Νοέμβριος", "Δεκέμβριος"
				],
				dayOfWeekShort: [
					"Κυρ", "Δευ", "Τρι", "Τετ", "Πεμ", "Παρ", "Σαβ"
				],
				dayOfWeek: ["Κυριακή", "Δευτέρα", "Τρίτη", "Τετάρτη", "Πέμπτη", "Παρασκευή", "Σάββατο"]
			},
			de: { // German
				months: [
					'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'
				],
				dayOfWeekShort: [
					"So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"
				],
				dayOfWeek: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"]
			},
			nl: { // Dutch
				months: [
					"januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december"
				],
				dayOfWeekShort: [
					"zo", "ma", "di", "wo", "do", "vr", "za"
				],
				dayOfWeek: ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"]
			},
			tr: { // Turkish
				months: [
					"Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"
				],
				dayOfWeekShort: [
					"Paz", "Pts", "Sal", "Çar", "Per", "Cum", "Cts"
				],
				dayOfWeek: ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi"]
			},
			fr: { //French
				months: [
					"Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"
				],
				dayOfWeekShort: [
					"Dim", "Lun", "Mar", "Mer", "Jeu", "Ven", "Sam"
				],
				dayOfWeek: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"]
			},
			es: { // Spanish
				months: [
					"Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"
				],
				dayOfWeekShort: [
					"Dom", "Lun", "Mar", "Mié", "Jue", "Vie", "Sáb"
				],
				dayOfWeek: ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"]
			},
			th: { // Thai
				months: [
					'มกราคม', 'กุมภาพันธ์', 'มีนาคม', 'เมษายน', 'พฤษภาคม', 'มิถุนายน', 'กรกฎาคม', 'สิงหาคม', 'กันยายน', 'ตุลาคม', 'พฤศจิกายน', 'ธันวาคม'
				],
				dayOfWeekShort: [
					'อา.', 'จ.', 'อ.', 'พ.', 'พฤ.', 'ศ.', 'ส.'
				],
				dayOfWeek: ["อาทิตย์", "จันทร์", "อังคาร", "พุธ", "พฤหัส", "ศุกร์", "เสาร์", "อาทิตย์"]
			},
			pl: { // Polish
				months: [
					"styczeń", "luty", "marzec", "kwiecień", "maj", "czerwiec", "lipiec", "sierpień", "wrzesień", "październik", "listopad", "grudzień"
				],
				dayOfWeekShort: [
					"nd", "pn", "wt", "śr", "cz", "pt", "sb"
				],
				dayOfWeek: ["niedziela", "poniedziałek", "wtorek", "środa", "czwartek", "piątek", "sobota"]
			},
			pt: { // Portuguese
				months: [
					"Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
				],
				dayOfWeekShort: [
					"Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sab"
				],
				dayOfWeek: ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"]
			},
			ch: { // Simplified Chinese
				months: [
					"一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"
				],
				dayOfWeekShort: [
					"日", "一", "二", "三", "四", "五", "六"
				]
			},
			se: { // Swedish
				months: [
					"Januari", "Februari", "Mars", "April", "Maj", "Juni", "Juli", "Augusti", "September",  "Oktober", "November", "December"
				],
				dayOfWeekShort: [
					"Sön", "Mån", "Tis", "Ons", "Tor", "Fre", "Lör"
				]
			},
			km: { // Khmer (ភាសាខ្មែរ)
				months: [
					"មករា​", "កុម្ភៈ", "មិនា​", "មេសា​", "ឧសភា​", "មិថុនា​", "កក្កដា​", "សីហា​", "កញ្ញា​", "តុលា​", "វិច្ឆិកា", "ធ្នូ​"
				],
				dayOfWeekShort: ["អាទិ​", "ច័ន្ទ​", "អង្គារ​", "ពុធ​", "ព្រហ​​", "សុក្រ​", "សៅរ៍"],
				dayOfWeek: ["អាទិត្យ​", "ច័ន្ទ​", "អង្គារ​", "ពុធ​", "ព្រហស្បតិ៍​", "សុក្រ​", "សៅរ៍"]
			},
			kr: { // Korean
				months: [
					"1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월"
				],
				dayOfWeekShort: [
					"일", "월", "화", "수", "목", "금", "토"
				],
				dayOfWeek: ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"]
			},
			it: { // Italian
				months: [
					"Gennaio", "Febbraio", "Marzo", "Aprile", "Maggio", "Giugno", "Luglio", "Agosto", "Settembre", "Ottobre", "Novembre", "Dicembre"
				],
				dayOfWeekShort: [
					"Dom", "Lun", "Mar", "Mer", "Gio", "Ven", "Sab"
				],
				dayOfWeek: ["Domenica", "Lunedì", "Martedì", "Mercoledì", "Giovedì", "Venerdì", "Sabato"]
			},
			da: { // Dansk
				months: [
					"Januar", "Februar", "Marts", "April", "Maj", "Juni", "Juli", "August", "September", "Oktober", "November", "December"
				],
				dayOfWeekShort: [
					"Søn", "Man", "Tir", "Ons", "Tor", "Fre", "Lør"
				],
				dayOfWeek: ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"]
			},
			no: { // Norwegian
				months: [
					"Januar", "Februar", "Mars", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Desember"
				],
				dayOfWeekShort: [
					"Søn", "Man", "Tir", "Ons", "Tor", "Fre", "Lør"
				],
				dayOfWeek: ['Søndag', 'Mandag', 'Tirsdag', 'Onsdag', 'Torsdag', 'Fredag', 'Lørdag']
			},
			ja: { // Japanese
				months: [
					"1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"
				],
				dayOfWeekShort: [
					"日", "月", "火", "水", "木", "金", "土"
				],
				dayOfWeek: ["日曜", "月曜", "火曜", "水曜", "木曜", "金曜", "土曜"]
			},
			vi: { // Vietnamese
				months: [
					"Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"
				],
				dayOfWeekShort: [
					"CN", "T2", "T3", "T4", "T5", "T6", "T7"
				],
				dayOfWeek: ["Chủ nhật", "Thứ hai", "Thứ ba", "Thứ tư", "Thứ năm", "Thứ sáu", "Thứ bảy"]
			},
			sl: { // Slovenščina
				months: [
					"Januar", "Februar", "Marec", "April", "Maj", "Junij", "Julij", "Avgust", "September", "Oktober", "November", "December"
				],
				dayOfWeekShort: [
					"Ned", "Pon", "Tor", "Sre", "Čet", "Pet", "Sob"
				],
				dayOfWeek: ["Nedelja", "Ponedeljek", "Torek", "Sreda", "Četrtek", "Petek", "Sobota"]
			},
			cs: { // Čeština
				months: [
					"Leden", "Únor", "Březen", "Duben", "Květen", "Červen", "Červenec", "Srpen", "Září", "Říjen", "Listopad", "Prosinec"
				],
				dayOfWeekShort: [
					"Ne", "Po", "Út", "St", "Čt", "Pá", "So"
				]
			},
			hu: { // Hungarian
				months: [
					"Január", "Február", "Március", "Április", "Május", "Június", "Július", "Augusztus", "Szeptember", "Október", "November", "December"
				],
				dayOfWeekShort: [
					"Va", "Hé", "Ke", "Sze", "Cs", "Pé", "Szo"
				],
				dayOfWeek: ["vasárnap", "hétfő", "kedd", "szerda", "csütörtök", "péntek", "szombat"]
			},
			az: { //Azerbaijanian (Azeri)
				months: [
					"Yanvar", "Fevral", "Mart", "Aprel", "May", "Iyun", "Iyul", "Avqust", "Sentyabr", "Oktyabr", "Noyabr", "Dekabr"
				],
				dayOfWeekShort: [
					"B", "Be", "Ça", "Ç", "Ca", "C", "Ş"
				],
				dayOfWeek: ["Bazar", "Bazar ertəsi", "Çərşənbə axşamı", "Çərşənbə", "Cümə axşamı", "Cümə", "Şənbə"]
			},
			bs: { //Bosanski
				months: [
					"Januar", "Februar", "Mart", "April", "Maj", "Jun", "Jul", "Avgust", "Septembar", "Oktobar", "Novembar", "Decembar"
				],
				dayOfWeekShort: [
					"Ned", "Pon", "Uto", "Sri", "Čet", "Pet", "Sub"
				],
				dayOfWeek: ["Nedjelja","Ponedjeljak", "Utorak", "Srijeda", "Četvrtak", "Petak", "Subota"]
			},
			ca: { //Català
				months: [
					"Gener", "Febrer", "Març", "Abril", "Maig", "Juny", "Juliol", "Agost", "Setembre", "Octubre", "Novembre", "Desembre"
				],
				dayOfWeekShort: [
					"Dg", "Dl", "Dt", "Dc", "Dj", "Dv", "Ds"
				],
				dayOfWeek: ["Diumenge", "Dilluns", "Dimarts", "Dimecres", "Dijous", "Divendres", "Dissabte"]
			},
			'en-GB': { //English (British)
				months: [
					"January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
				],
				dayOfWeekShort: [
					"Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"
				],
				dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
			},
			et: { //"Eesti"
				months: [
					"Jaanuar", "Veebruar", "Märts", "Aprill", "Mai", "Juuni", "Juuli", "August", "September", "Oktoober", "November", "Detsember"
				],
				dayOfWeekShort: [
					"P", "E", "T", "K", "N", "R", "L"
				],
				dayOfWeek: ["Pühapäev", "Esmaspäev", "Teisipäev", "Kolmapäev", "Neljapäev", "Reede", "Laupäev"]
			},
			eu: { //Euskara
				months: [
					"Urtarrila", "Otsaila", "Martxoa", "Apirila", "Maiatza", "Ekaina", "Uztaila", "Abuztua", "Iraila", "Urria", "Azaroa", "Abendua"
				],
				dayOfWeekShort: [
					"Ig.", "Al.", "Ar.", "Az.", "Og.", "Or.", "La."
				],
				dayOfWeek: ['Igandea', 'Astelehena', 'Asteartea', 'Asteazkena', 'Osteguna', 'Ostirala', 'Larunbata']
			},
			fi: { //Finnish (Suomi)
				months: [
					"Tammikuu", "Helmikuu", "Maaliskuu", "Huhtikuu", "Toukokuu", "Kesäkuu", "Heinäkuu", "Elokuu", "Syyskuu", "Lokakuu", "Marraskuu", "Joulukuu"
				],
				dayOfWeekShort: [
					"Su", "Ma", "Ti", "Ke", "To", "Pe", "La"
				],
				dayOfWeek: ["sunnuntai", "maanantai", "tiistai", "keskiviikko", "torstai", "perjantai", "lauantai"]
			},
			gl: { //Galego
				months: [
					"Xan", "Feb", "Maz", "Abr", "Mai", "Xun", "Xul", "Ago", "Set", "Out", "Nov", "Dec"
				],
				dayOfWeekShort: [
					"Dom", "Lun", "Mar", "Mer", "Xov", "Ven", "Sab"
				],
				dayOfWeek: ["Domingo", "Luns", "Martes", "Mércores", "Xoves", "Venres", "Sábado"]
			},
			hr: { //Hrvatski
				months: [
					"Siječanj", "Veljača", "Ožujak", "Travanj", "Svibanj", "Lipanj", "Srpanj", "Kolovoz", "Rujan", "Listopad", "Studeni", "Prosinac"
				],
				dayOfWeekShort: [
					"Ned", "Pon", "Uto", "Sri", "Čet", "Pet", "Sub"
				],
				dayOfWeek: ["Nedjelja", "Ponedjeljak", "Utorak", "Srijeda", "Četvrtak", "Petak", "Subota"]
			},
			ko: { //Korean (한국어)
				months: [
					"1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월"
				],
				dayOfWeekShort: [
					"일", "월", "화", "수", "목", "금", "토"
				],
				dayOfWeek: ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"]
			},
			lt: { //Lithuanian (lietuvių)
				months: [
					"Sausio", "Vasario", "Kovo", "Balandžio", "Gegužės", "Birželio", "Liepos", "Rugpjūčio", "Rugsėjo", "Spalio", "Lapkričio", "Gruodžio"
				],
				dayOfWeekShort: [
					"Sek", "Pir", "Ant", "Tre", "Ket", "Pen", "Šeš"
				],
				dayOfWeek: ["Sekmadienis", "Pirmadienis", "Antradienis", "Trečiadienis", "Ketvirtadienis", "Penktadienis", "Šeštadienis"]
			},
			lv: { //Latvian (Latviešu)
				months: [
					"Janvāris", "Februāris", "Marts", "Aprīlis ", "Maijs", "Jūnijs", "Jūlijs", "Augusts", "Septembris", "Oktobris", "Novembris", "Decembris"
				],
				dayOfWeekShort: [
					"Sv", "Pr", "Ot", "Tr", "Ct", "Pk", "St"
				],
				dayOfWeek: ["Svētdiena", "Pirmdiena", "Otrdiena", "Trešdiena", "Ceturtdiena", "Piektdiena", "Sestdiena"]
			},
			mk: { //Macedonian (Македонски)
				months: [
					"јануари", "февруари", "март", "април", "мај", "јуни", "јули", "август", "септември", "октомври", "ноември", "декември"
				],
				dayOfWeekShort: [
					"нед", "пон", "вто", "сре", "чет", "пет", "саб"
				],
				dayOfWeek: ["Недела", "Понеделник", "Вторник", "Среда", "Четврток", "Петок", "Сабота"]
			},
			mn: { //Mongolian (Монгол)
				months: [
					"1-р сар", "2-р сар", "3-р сар", "4-р сар", "5-р сар", "6-р сар", "7-р сар", "8-р сар", "9-р сар", "10-р сар", "11-р сар", "12-р сар"
				],
				dayOfWeekShort: [
					"Дав", "Мяг", "Лха", "Пүр", "Бсн", "Бям", "Ням"
				],
				dayOfWeek: ["Даваа", "Мягмар", "Лхагва", "Пүрэв", "Баасан", "Бямба", "Ням"]
			},
			'pt-BR': { //Português(Brasil)
				months: [
					"Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
				],
				dayOfWeekShort: [
					"Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sáb"
				],
				dayOfWeek: ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"]
			},
			sk: { //Slovenčina
				months: [
					"Január", "Február", "Marec", "Apríl", "Máj", "Jún", "Júl", "August", "September", "Október", "November", "December"
				],
				dayOfWeekShort: [
					"Ne", "Po", "Ut", "St", "Št", "Pi", "So"
				],
				dayOfWeek: ["Nedeľa", "Pondelok", "Utorok", "Streda", "Štvrtok", "Piatok", "Sobota"]
			},
			sq: { //Albanian (Shqip)
				months: [
					"Janar", "Shkurt", "Mars", "Prill", "Maj", "Qershor", "Korrik", "Gusht", "Shtator", "Tetor", "Nëntor", "Dhjetor"
				],
				dayOfWeekShort: [
					"Die", "Hën", "Mar", "Mër", "Enj", "Pre", "Shtu"
				],
				dayOfWeek: ["E Diel", "E Hënë", "E Martē", "E Mërkurë", "E Enjte", "E Premte", "E Shtunë"]
			},
			'sr-YU': { //Serbian (Srpski)
				months: [
					"Januar", "Februar", "Mart", "April", "Maj", "Jun", "Jul", "Avgust", "Septembar", "Oktobar", "Novembar", "Decembar"
				],
				dayOfWeekShort: [
					"Ned", "Pon", "Uto", "Sre", "čet", "Pet", "Sub"
				],
				dayOfWeek: ["Nedelja","Ponedeljak", "Utorak", "Sreda", "Četvrtak", "Petak", "Subota"]
			},
			sr: { //Serbian Cyrillic (Српски)
				months: [
					"јануар", "фебруар", "март", "април", "мај", "јун", "јул", "август", "септембар", "октобар", "новембар", "децембар"
				],
				dayOfWeekShort: [
					"нед", "пон", "уто", "сре", "чет", "пет", "суб"
				],
				dayOfWeek: ["Недеља","Понедељак", "Уторак", "Среда", "Четвртак", "Петак", "Субота"]
			},
			sv: { //Svenska
				months: [
					"Januari", "Februari", "Mars", "April", "Maj", "Juni", "Juli", "Augusti", "September", "Oktober", "November", "December"
				],
				dayOfWeekShort: [
					"Sön", "Mån", "Tis", "Ons", "Tor", "Fre", "Lör"
				],
				dayOfWeek: ["Söndag", "Måndag", "Tisdag", "Onsdag", "Torsdag", "Fredag", "Lördag"]
			},
			'zh-TW': { //Traditional Chinese (繁體中文)
				months: [
					"一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"
				],
				dayOfWeekShort: [
					"日", "一", "二", "三", "四", "五", "六"
				],
				dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"]
			},
			zh: { //Simplified Chinese (简体中文)
				months: [
					"一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"
				],
				dayOfWeekShort: [
					"日", "一", "二", "三", "四", "五", "六"
				],
				dayOfWeek: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"]
			},
			ug:{ // Uyghur(ئۇيغۇرچە)
				months: [
					"1-ئاي","2-ئاي","3-ئاي","4-ئاي","5-ئاي","6-ئاي","7-ئاي","8-ئاي","9-ئاي","10-ئاي","11-ئاي","12-ئاي"
				],
				dayOfWeek: [
					"يەكشەنبە", "دۈشەنبە","سەيشەنبە","چارشەنبە","پەيشەنبە","جۈمە","شەنبە"
				]
			},
			he: { //Hebrew (עברית)
				months: [
					'ינואר', 'פברואר', 'מרץ', 'אפריל', 'מאי', 'יוני', 'יולי', 'אוגוסט', 'ספטמבר', 'אוקטובר', 'נובמבר', 'דצמבר'
				],
				dayOfWeekShort: [
					'א\'', 'ב\'', 'ג\'', 'ד\'', 'ה\'', 'ו\'', 'שבת'
				],
				dayOfWeek: ["ראשון", "שני", "שלישי", "רביעי", "חמישי", "שישי", "שבת", "ראשון"]
			},
			hy: { // Armenian
				months: [
					"Հունվար", "Փետրվար", "Մարտ", "Ապրիլ", "Մայիս", "Հունիս", "Հուլիս", "Օգոստոս", "Սեպտեմբեր", "Հոկտեմբեր", "Նոյեմբեր", "Դեկտեմբեր"
				],
				dayOfWeekShort: [
					"Կի", "Երկ", "Երք", "Չոր", "Հնգ", "Ուրբ", "Շբթ"
				],
				dayOfWeek: ["Կիրակի", "Երկուշաբթի", "Երեքշաբթի", "Չորեքշաբթի", "Հինգշաբթի", "Ուրբաթ", "Շաբաթ"]
			},
			kg: { // Kyrgyz
				months: [
					'Үчтүн айы', 'Бирдин айы', 'Жалган Куран', 'Чын Куран', 'Бугу', 'Кулжа', 'Теке', 'Баш Оона', 'Аяк Оона', 'Тогуздун айы', 'Жетинин айы', 'Бештин айы'
				],
				dayOfWeekShort: [
					"Жек", "Дүй", "Шей", "Шар", "Бей", "Жум", "Ише"
				],
				dayOfWeek: [
					"Жекшемб", "Дүйшөмб", "Шейшемб", "Шаршемб", "Бейшемби", "Жума", "Ишенб"
				]
			},
			rm: { // Romansh
				months: [
					"Schaner", "Favrer", "Mars", "Avrigl", "Matg", "Zercladur", "Fanadur", "Avust", "Settember", "October", "November", "December"
				],
				dayOfWeekShort: [
					"Du", "Gli", "Ma", "Me", "Gie", "Ve", "So"
				],
				dayOfWeek: [
					"Dumengia", "Glindesdi", "Mardi", "Mesemna", "Gievgia", "Venderdi", "Sonda"
				]
			},
			ka: { // Georgian
				months: [
					'იანვარი', 'თებერვალი', 'მარტი', 'აპრილი', 'მაისი', 'ივნისი', 'ივლისი', 'აგვისტო', 'სექტემბერი', 'ოქტომბერი', 'ნოემბერი', 'დეკემბერი'
				],
				dayOfWeekShort: [
					"კვ", "ორშ", "სამშ", "ოთხ", "ხუთ", "პარ", "შაბ"
				],
				dayOfWeek: ["კვირა", "ორშაბათი", "სამშაბათი", "ოთხშაბათი", "ხუთშაბათი", "პარასკევი", "შაბათი"]
			},
			kk: { // Kazakh
				months: [
					'Қаңтар', 'Ақпан', 'Наурыз', 'Сәуір', 'Мамыр', 'Маусым', 'Шілде', 'Тамыз', 'Қыркүйек', 'Қазан', 'Қараша', 'Желтоқсан'
				],
				dayOfWeekShort: [
					"Жк", "Дс", "Сс", "Ср", "Бс", "Жм", "Сб"
				],
				dayOfWeek: ["Жексенбі", "Дүйсенбі", "Сейсенбі", "Сәрсенбі", "Бейсенбі", "Жұма", "Сенбі"]
			}
		},

		ownerDocument: document,
		contentWindow: window,

		value: '',
		rtl: false,

		format:	'Y/m/d H:i',
		formatTime:	'H:i',
		formatDate:	'Y/m/d',

		startDate:	false, // new Date(), '1986/12/08', '-1970/01/05','-1970/01/05',
		step: 60,
		monthChangeSpinner: true,

		closeOnDateSelect: false,
		closeOnTimeSelect: true,
		closeOnWithoutClick: true,
		closeOnInputClick: true,
		openOnFocus: true,

		timepicker: true,
		datepicker: true,
		weeks: false,

		defaultTime: false,	// use formatTime format (ex. '10:00' for formatTime:	'H:i')
		defaultDate: false,	// use formatDate format (ex new Date() or '1986/12/08' or '-1970/01/05' or '-1970/01/05')

		minDate: false,
		maxDate: false,
		minTime: false,
		maxTime: false,
		minDateTime: false,
		maxDateTime: false,

		allowTimes: [],
		opened: false,
		initTime: true,
		inline: false,
		theme: '',
		touchMovedThreshold: 5,

		onSelectDate: function () {},
		onSelectTime: function () {},
		onChangeMonth: function () {},
		onGetWeekOfYear: function () {},
		onChangeYear: function () {},
		onChangeDateTime: function () {},
		onShow: function () {},
		onClose: function () {},
		onGenerate: function () {},

		withoutCopyright: true,
		inverseButton: false,
		hours12: false,
		next: 'xdsoft_next',
		prev : 'xdsoft_prev',
		dayOfWeekStart: 0,
		parentID: 'body',
		timeHeightInTimePicker: 25,
		timepickerScrollbar: true,
		todayButton: true,
		prevButton: true,
		nextButton: true,
		defaultSelect: true,

		scrollMonth: true,
		scrollTime: true,
		scrollInput: true,

		lazyInit: false,
		mask: false,
		validateOnBlur: true,
		allowBlank: true,
		yearStart: 1950,
		yearEnd: 2050,
		monthStart: 0,
		monthEnd: 11,
		style: '',
		id: '',
		fixed: false,
		roundTime: 'round', // ceil, floor
		className: '',
		weekends: [],
		highlightedDates: [],
		highlightedPeriods: [],
		allowDates : [],
		allowDateRe : null,
		disabledDates : [],
		disabledWeekDays: [],
		yearOffset: 0,
		beforeShowDay: null,

		enterLikeTab: true,
        showApplyButton: false,
        insideParent: false,
	};

	var dateHelper = null,
		defaultDateHelper = null,
		globalLocaleDefault = 'en',
		globalLocale = 'en';

	var dateFormatterOptionsDefault = {
		meridiem: ['AM', 'PM']
	};

	var initDateFormatter = function(){
		var locale = default_options.i18n[globalLocale],
			opts = {
				days: locale.dayOfWeek,
				daysShort: locale.dayOfWeekShort,
				months: locale.months,
				monthsShort: $.map(locale.months, function(n){ return n.substring(0, 3) })
			};

		if (typeof DateFormatter === 'function') {
			dateHelper = defaultDateHelper = new DateFormatter({
				dateSettings: $.extend({}, dateFormatterOptionsDefault, opts)
			});
		}
	};

	var dateFormatters = {
		moment: {
			default_options:{
				format: 'YYYY/MM/DD HH:mm',
				formatDate: 'YYYY/MM/DD',
				formatTime: 'HH:mm',
			},
			formatter: {
				parseDate: function (date, format) {
					if(isFormatStandard(format)){
						return defaultDateHelper.parseDate(date, format);
					}
					var d = moment(date, format);
					return d.isValid() ? d.toDate() : false;
				},

				formatDate: function (date, format) {
					if(isFormatStandard(format)){
						return defaultDateHelper.formatDate(date, format);
					}
					return moment(date).format(format);
				},

				formatMask: function(format){
					return format
						.replace(/Y{4}/g, '9999')
						.replace(/Y{2}/g, '99')
						.replace(/M{2}/g, '19')
						.replace(/D{2}/g, '39')
						.replace(/H{2}/g, '29')
						.replace(/m{2}/g, '59')
						.replace(/s{2}/g, '59');
				},
			}
		}
	}

	// for locale settings
	$.datetimepicker = {
		setLocale: function(locale){
			var newLocale = default_options.i18n[locale] ? locale : globalLocaleDefault;
			if (globalLocale !== newLocale) {
				globalLocale = newLocale;
				// reinit date formatter
				initDateFormatter();
			}
		},

		setDateFormatter: function(dateFormatter) {
			if(typeof dateFormatter === 'string' && dateFormatters.hasOwnProperty(dateFormatter)){
				var df = dateFormatters[dateFormatter];
				$.extend(default_options, df.default_options);
				dateHelper = df.formatter;
			}
			else {
				dateHelper = dateFormatter;
			}
		},
	};

	var standardFormats = {
		RFC_2822: 'D, d M Y H:i:s O',
		ATOM: 'Y-m-d\TH:i:sP',
		ISO_8601: 'Y-m-d\TH:i:sO',
		RFC_822: 'D, d M y H:i:s O',
		RFC_850: 'l, d-M-y H:i:s T',
		RFC_1036: 'D, d M y H:i:s O',
		RFC_1123: 'D, d M Y H:i:s O',
		RSS: 'D, d M Y H:i:s O',
		W3C: 'Y-m-d\TH:i:sP'
	}

	var isFormatStandard = function(format){
		return Object.values(standardFormats).indexOf(format) === -1 ? false : true;
	}

	$.extend($.datetimepicker, standardFormats);

	// first init date formatter
	initDateFormatter();

	// fix for ie8
	if (!window.getComputedStyle) {
		window.getComputedStyle = function (el) {
			this.el = el;
			this.getPropertyValue = function (prop) {
				var re = /(-([a-z]))/g;
				if (prop === 'float') {
					prop = 'styleFloat';
				}
				if (re.test(prop)) {
					prop = prop.replace(re, function (a, b, c) {
						return c.toUpperCase();
					});
				}
				return el.currentStyle[prop] || null;
			};
			return this;
		};
	}
	if (!Array.prototype.indexOf) {
		Array.prototype.indexOf = function (obj, start) {
			var i, j;
			for (i = (start || 0), j = this.length; i < j; i += 1) {
				if (this[i] === obj) { return i; }
			}
			return -1;
		};
	}

	Date.prototype.countDaysInMonth = function () {
		return new Date(this.getFullYear(), this.getMonth() + 1, 0).getDate();
	};

	$.fn.xdsoftScroller = function (options, percent) {
		return this.each(function () {
			var timeboxparent = $(this),
				pointerEventToXY = function (e) {
					var out = {x: 0, y: 0},
						touch;
					if (e.type === 'touchstart' || e.type === 'touchmove' || e.type === 'touchend' || e.type === 'touchcancel') {
						touch  = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
						out.x = touch.clientX;
						out.y = touch.clientY;
					} else if (e.type === 'mousedown' || e.type === 'mouseup' || e.type === 'mousemove' || e.type === 'mouseover' || e.type === 'mouseout' || e.type === 'mouseenter' || e.type === 'mouseleave') {
						out.x = e.clientX;
						out.y = e.clientY;
					}
					return out;
				},
				getWheelDelta = function (e) {
					var deltaY = 0;

					if ('detail' in e) { deltaY = e.detail; }
					if ('wheelDelta' in e) { deltaY = -e.wheelDelta / 120; }
					if ('wheelDeltaY' in e) { deltaY = -e.wheelDeltaY / 120; }
					if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) { deltaY = 0; }

					deltaY *= 10;

					if ('deltaY' in e) { deltaY = e.deltaY; }

					if (deltaY && e.deltaMode) {
						if (e.deltaMode === 1) {
							deltaY *= 40;
						} else {
							deltaY *= 800;
						}
					}

					return deltaY;
				},
				timebox,
				timeboxTop = 0,
				parentHeight,
				height,
				scrollbar,
				scroller,
				maximumOffset = 100,
				start = false,
				startY = 0,
				startTop = 0,
				h1 = 0,
				touchStart = false,
				startTopScroll = 0,
				calcOffset = function () {};

			if (percent === 'hide') {
				timeboxparent.find('.xdsoft_scrollbar').hide();
				return;
			}

			if (!$(this).hasClass('xdsoft_scroller_box')) {
				timebox = timeboxparent.children().eq(0);
				timeboxTop = Math.abs(parseInt(timebox.css('marginTop'), 10));
				parentHeight = timeboxparent[0].clientHeight;
				height = timebox[0].offsetHeight;
				scrollbar = $('<div class="xdsoft_scrollbar"></div>');
				scroller = $('<div class="xdsoft_scroller"></div>');
				scrollbar.append(scroller);

				timeboxparent.addClass('xdsoft_scroller_box').append(scrollbar);
				calcOffset = function calcOffset(event) {
					var offset = pointerEventToXY(event).y - startY + startTopScroll;
					if (offset < 0) {
						offset = 0;
					}
					if (offset + scroller[0].offsetHeight > h1) {
						offset = h1 - scroller[0].offsetHeight;
					}
					timeboxparent.trigger('scroll_element.xdsoft_scroller', [maximumOffset ? offset / maximumOffset : 0]);
				};

				scroller
					.on('touchstart.xdsoft_scroller mousedown.xdsoft_scroller', function (event) {
						if (!parentHeight) {
							timeboxparent.trigger('resize_scroll.xdsoft_scroller', [percent]);
						}

						startY = pointerEventToXY(event).y;
						startTopScroll = parseInt(scroller.css('marginTop'), 10);
						h1 = scrollbar[0].offsetHeight;

						if (event.type === 'mousedown' || event.type === 'touchstart') {
							if (options.ownerDocument) {
								$(options.ownerDocument.body).addClass('xdsoft_noselect');
							}
							$([options.ownerDocument.body, options.contentWindow]).on('touchend mouseup.xdsoft_scroller', function arguments_callee() {
								$([options.ownerDocument.body, options.contentWindow]).off('touchend mouseup.xdsoft_scroller', arguments_callee)
									.off('mousemove.xdsoft_scroller', calcOffset)
									.removeClass('xdsoft_noselect');
							});
							$(options.ownerDocument.body).on('mousemove.xdsoft_scroller', calcOffset);
						} else {
							touchStart = true;
							event.stopPropagation();
							event.preventDefault();
						}
					})
					.on('touchmove', function (event) {
						if (touchStart) {
							event.preventDefault();
							calcOffset(event);
						}
					})
					.on('touchend touchcancel', function () {
						touchStart =  false;
						startTopScroll = 0;
					});

				timeboxparent
					.on('scroll_element.xdsoft_scroller', function (event, percentage) {
						if (!parentHeight) {
							timeboxparent.trigger('resize_scroll.xdsoft_scroller', [percentage, true]);
						}
						percentage = percentage > 1 ? 1 : (percentage < 0 || isNaN(percentage)) ? 0 : percentage;
						timeboxTop = parseFloat(Math.abs((timebox[0].offsetHeight - parentHeight) * percentage).toFixed(4));

						scroller.css('marginTop', maximumOffset * percentage);
						timebox.css('marginTop', -timeboxTop);
					})
					.on('resize_scroll.xdsoft_scroller', function (event, percentage, noTriggerScroll) {
						var percent, sh;
						parentHeight = timeboxparent[0].clientHeight;
						height = timebox[0].offsetHeight;
						percent = parentHeight / height;
						sh = percent * scrollbar[0].offsetHeight;
						if (percent > 1) {
							scroller.hide();
						} else {
							scroller.show();
							scroller.css('height', parseInt(sh > 10 ? sh : 10, 10));
							maximumOffset = scrollbar[0].offsetHeight - scroller[0].offsetHeight;
							if (noTriggerScroll !== true) {
								timeboxparent.trigger('scroll_element.xdsoft_scroller', [percentage || timeboxTop / (height - parentHeight)]);
							}
						}
					});

				timeboxparent.on('mousewheel', function (event) {
					var deltaY = getWheelDelta(event.originalEvent);
					var top = Math.max(0, timeboxTop - deltaY);
					timeboxparent.trigger('scroll_element.xdsoft_scroller', [top / (height - parentHeight)]);
					event.stopPropagation();
					return false;
				});

				timeboxparent.on('touchstart', function (event) {
					start = pointerEventToXY(event);
					startTop = timeboxTop;
				});

				timeboxparent.on('touchmove', function (event) {
					if (start) {
						event.preventDefault();
						var coord = pointerEventToXY(event);
						timeboxparent.trigger('scroll_element.xdsoft_scroller', [(startTop - (coord.y - start.y)) / (height - parentHeight)]);
					}
				});

				timeboxparent.on('touchend touchcancel', function () {
					start = false;
					startTop = 0;
				});
			}
			timeboxparent.trigger('resize_scroll.xdsoft_scroller', [percent]);
		});
	};

	$.fn.datetimepicker = function (opt, opt2) {
		var result = this,
			KEY0 = 48,
			KEY9 = 57,
			_KEY0 = 96,
			_KEY9 = 105,
            CTRLKEY = 17,
            CMDKEY = 91,
			DEL = 46,
			ENTER = 13,
			ESC = 27,
			BACKSPACE = 8,
			ARROWLEFT = 37,
			ARROWUP = 38,
			ARROWRIGHT = 39,
			ARROWDOWN = 40,
			TAB = 9,
			F5 = 116,
			AKEY = 65,
			CKEY = 67,
			VKEY = 86,
			ZKEY = 90,
			YKEY = 89,
            ctrlDown	=	false,
            cmdDown = false,
			options = ($.isPlainObject(opt) || !opt) ? $.extend(true, {}, default_options, opt) : $.extend(true, {}, default_options),

			lazyInitTimer = 0,
			createDateTimePicker,
			destroyDateTimePicker,

			lazyInit = function (input) {
				input
					.on('open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart', function initOnActionCallback() {
						if (input.is(':disabled') || input.data('xdsoft_datetimepicker')) {
							return;
						}
						clearTimeout(lazyInitTimer);
						lazyInitTimer = setTimeout(function () {

							if (!input.data('xdsoft_datetimepicker')) {
								createDateTimePicker(input);
							}
							input
								.off('open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart', initOnActionCallback)
								.trigger('open.xdsoft');
						}, 100);
					});
			};

		createDateTimePicker = function (input) {
			var datetimepicker = $('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),
				xdsoft_copyright = $('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),
				datepicker = $('<div class="xdsoft_datepicker active"></div>'),
				month_picker = $('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button>' +
					'<div class="xdsoft_label xdsoft_month"><span></span><i></i></div>' +
					'<div class="xdsoft_label xdsoft_year"><span></span><i></i></div>' +
					'<button type="button" class="xdsoft_next"></button></div>'),
				calendar = $('<div class="xdsoft_calendar"></div>'),
				timepicker = $('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),
				timeboxparent = timepicker.find('.xdsoft_time_box').eq(0),
				timebox = $('<div class="xdsoft_time_variant"></div>'),
				applyButton = $('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),

				monthselect = $('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),
				yearselect = $('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),
				triggerAfterOpen = false,
				XDSoft_datetime,

				xchangeTimer,
				timerclick,
				current_time_index,
				setPos,
				timer = 0,
				_xdsoft_datetime,
				forEachAncestorOf;

			if (options.id) {
				datetimepicker.attr('id', options.id);
			}
			if (options.style) {
				datetimepicker.attr('style', options.style);
			}
			if (options.weeks) {
				datetimepicker.addClass('xdsoft_showweeks');
			}
			if (options.rtl) {
				datetimepicker.addClass('xdsoft_rtl');
			}

			datetimepicker.addClass('xdsoft_' + options.theme);
			datetimepicker.addClass(options.className);

			month_picker
				.find('.xdsoft_month span')
				.after(monthselect);
			month_picker
				.find('.xdsoft_year span')
				.after(yearselect);

			month_picker
				.find('.xdsoft_month,.xdsoft_year')
				.on('touchstart mousedown.xdsoft', function (event) {
					var select = $(this).find('.xdsoft_select').eq(0),
						val = 0,
						top = 0,
						visible = select.is(':visible'),
						items,
						i;

					month_picker
						.find('.xdsoft_select')
						.hide();
					if (_xdsoft_datetime.currentTime) {
						val = _xdsoft_datetime.currentTime[$(this).hasClass('xdsoft_month') ? 'getMonth' : 'getFullYear']();
					}

					select[visible ? 'hide' : 'show']();
					for (items = select.find('div.xdsoft_option'), i = 0; i < items.length; i += 1) {
						if (items.eq(i).data('value') === val) {
							break;
						} else {
							top += items[0].offsetHeight;
						}
					}

					select.xdsoftScroller(options, top / (select.children()[0].offsetHeight - (select[0].clientHeight)));
					event.stopPropagation();
					return false;
				});

			var handleTouchMoved = function (event) {
				var evt = event.originalEvent;
				var touchPosition = evt.touches ? evt.touches[0] : evt;
				this.touchStartPosition = this.touchStartPosition || touchPosition;
				var xMovement = Math.abs(this.touchStartPosition.clientX - touchPosition.clientX);
				var yMovement = Math.abs(this.touchStartPosition.clientY - touchPosition.clientY);
				var distance = Math.sqrt(xMovement * xMovement + yMovement * yMovement);
				if(distance > options.touchMovedThreshold) {
					this.touchMoved = true;
				}
			}

			month_picker
				.find('.xdsoft_select')
				.xdsoftScroller(options)
				.on('touchstart mousedown.xdsoft', function (event) {
					var evt = event.originalEvent;
					this.touchMoved = false;
					this.touchStartPosition = evt.touches ? evt.touches[0] : evt;
					event.stopPropagation();
					event.preventDefault();
				})
				.on('touchmove', '.xdsoft_option', handleTouchMoved)
				.on('touchend mousedown.xdsoft', '.xdsoft_option', function () {
					if (!this.touchMoved) {
						if (_xdsoft_datetime.currentTime === undefined || _xdsoft_datetime.currentTime === null) {
							_xdsoft_datetime.currentTime = _xdsoft_datetime.now();
						}

						var year = _xdsoft_datetime.currentTime.getFullYear();
						if (_xdsoft_datetime && _xdsoft_datetime.currentTime) {
							_xdsoft_datetime.currentTime[$(this).parent().parent().hasClass('xdsoft_monthselect') ? 'setMonth' : 'setFullYear']($(this).data('value'));
						}

						$(this).parent().parent().hide();

						datetimepicker.trigger('xchange.xdsoft');
						if (options.onChangeMonth && $.isFunction(options.onChangeMonth)) {
							options.onChangeMonth.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'));
						}

						if (year !== _xdsoft_datetime.currentTime.getFullYear() && $.isFunction(options.onChangeYear)) {
							options.onChangeYear.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'));
						}
					}
				});

			datetimepicker.getValue = function () {
				return _xdsoft_datetime.getCurrentTime();
			};

			datetimepicker.setOptions = function (_options) {
				var highlightedDates = {};

				options = $.extend(true, {}, options, _options);

				if (_options.allowTimes && $.isArray(_options.allowTimes) && _options.allowTimes.length) {
					options.allowTimes = $.extend(true, [], _options.allowTimes);
				}

				if (_options.weekends && $.isArray(_options.weekends) && _options.weekends.length) {
					options.weekends = $.extend(true, [], _options.weekends);
				}

				if (_options.allowDates && $.isArray(_options.allowDates) && _options.allowDates.length) {
					options.allowDates = $.extend(true, [], _options.allowDates);
				}

				if (_options.allowDateRe && Object.prototype.toString.call(_options.allowDateRe)==="[object String]") {
					options.allowDateRe = new RegExp(_options.allowDateRe);
				}

				if (_options.highlightedDates && $.isArray(_options.highlightedDates) && _options.highlightedDates.length) {
					$.each(_options.highlightedDates, function (index, value) {
						var splitData = $.map(value.split(','), $.trim),
							exDesc,
							hDate = new HighlightedDate(dateHelper.parseDate(splitData[0], options.formatDate), splitData[1], splitData[2]), // date, desc, style
							keyDate = dateHelper.formatDate(hDate.date, options.formatDate);
						if (highlightedDates[keyDate] !== undefined) {
							exDesc = highlightedDates[keyDate].desc;
							if (exDesc && exDesc.length && hDate.desc && hDate.desc.length) {
								highlightedDates[keyDate].desc = exDesc + "\n" + hDate.desc;
							}
						} else {
							highlightedDates[keyDate] = hDate;
						}
					});

					options.highlightedDates = $.extend(true, [], highlightedDates);
				}

				if (_options.highlightedPeriods && $.isArray(_options.highlightedPeriods) && _options.highlightedPeriods.length) {
					highlightedDates = $.extend(true, [], options.highlightedDates);
					$.each(_options.highlightedPeriods, function (index, value) {
						var dateTest, // start date
							dateEnd,
							desc,
							hDate,
							keyDate,
							exDesc,
							style;
						if ($.isArray(value)) {
							dateTest = value[0];
							dateEnd = value[1];
							desc = value[2];
							style = value[3];
						}
						else {
							var splitData = $.map(value.split(','), $.trim);
							dateTest = dateHelper.parseDate(splitData[0], options.formatDate);
							dateEnd = dateHelper.parseDate(splitData[1], options.formatDate);
							desc = splitData[2];
							style = splitData[3];
						}

						while (dateTest <= dateEnd) {
							hDate = new HighlightedDate(dateTest, desc, style);
							keyDate = dateHelper.formatDate(dateTest, options.formatDate);
							dateTest.setDate(dateTest.getDate() + 1);
							if (highlightedDates[keyDate] !== undefined) {
								exDesc = highlightedDates[keyDate].desc;
								if (exDesc && exDesc.length && hDate.desc && hDate.desc.length) {
									highlightedDates[keyDate].desc = exDesc + "\n" + hDate.desc;
								}
							} else {
								highlightedDates[keyDate] = hDate;
							}
						}
					});

					options.highlightedDates = $.extend(true, [], highlightedDates);
				}

				if (_options.disabledDates && $.isArray(_options.disabledDates) && _options.disabledDates.length) {
					options.disabledDates = $.extend(true, [], _options.disabledDates);
				}

				if (_options.disabledWeekDays && $.isArray(_options.disabledWeekDays) && _options.disabledWeekDays.length) {
					options.disabledWeekDays = $.extend(true, [], _options.disabledWeekDays);
				}

				if ((options.open || options.opened) && (!options.inline)) {
					input.trigger('open.xdsoft');
				}

				if (options.inline) {
					triggerAfterOpen = true;
					datetimepicker.addClass('xdsoft_inline');
					input.after(datetimepicker).hide();
				}

				if (options.inverseButton) {
					options.next = 'xdsoft_prev';
					options.prev = 'xdsoft_next';
				}

				if (options.datepicker) {
					datepicker.addClass('active');
				} else {
					datepicker.removeClass('active');
				}

				if (options.timepicker) {
					timepicker.addClass('active');
				} else {
					timepicker.removeClass('active');
				}

				if (options.value) {
					_xdsoft_datetime.setCurrentTime(options.value);
					if (input && input.val) {
						input.val(_xdsoft_datetime.str);
					}
				}

				if (isNaN(options.dayOfWeekStart)) {
					options.dayOfWeekStart = 0;
				} else {
					options.dayOfWeekStart = parseInt(options.dayOfWeekStart, 10) % 7;
				}

				if (!options.timepickerScrollbar) {
					timeboxparent.xdsoftScroller(options, 'hide');
				}

				if (options.minDate && /^[\+\-](.*)$/.test(options.minDate)) {
					options.minDate = dateHelper.formatDate(_xdsoft_datetime.strToDateTime(options.minDate), options.formatDate);
				}

				if (options.maxDate &&  /^[\+\-](.*)$/.test(options.maxDate)) {
					options.maxDate = dateHelper.formatDate(_xdsoft_datetime.strToDateTime(options.maxDate), options.formatDate);
				}

                if (options.minDateTime &&  /^\+(.*)$/.test(options.minDateTime)) {
                	options.minDateTime = _xdsoft_datetime.strToDateTime(options.minDateTime).dateFormat(options.formatDate);
                }

                if (options.maxDateTime &&  /^\+(.*)$/.test(options.maxDateTime)) {
                	options.maxDateTime = _xdsoft_datetime.strToDateTime(options.maxDateTime).dateFormat(options.formatDate);
                }

				applyButton.toggle(options.showApplyButton);

				month_picker
					.find('.xdsoft_today_button')
					.css('visibility', !options.todayButton ? 'hidden' : 'visible');

				month_picker
					.find('.' + options.prev)
					.css('visibility', !options.prevButton ? 'hidden' : 'visible');

				month_picker
					.find('.' + options.next)
					.css('visibility', !options.nextButton ? 'hidden' : 'visible');

				setMask(options);

				if (options.validateOnBlur) {
					input
						.off('blur.xdsoft')
						.on('blur.xdsoft', function () {
							if (options.allowBlank && (!$.trim($(this).val()).length ||
									(typeof options.mask === "string" && $.trim($(this).val()) === options.mask.replace(/[0-9]/g, '_')))) {
								$(this).val(null);
								datetimepicker.data('xdsoft_datetime').empty();
							} else {
								var d = dateHelper.parseDate($(this).val(), options.format);
								if (d) { // parseDate() may skip some invalid parts like date or time, so make it clear for user: show parsed date/time
									$(this).val(dateHelper.formatDate(d, options.format));
								} else {
									var splittedHours   = +([$(this).val()[0], $(this).val()[1]].join('')),
										splittedMinutes = +([$(this).val()[2], $(this).val()[3]].join(''));

									// parse the numbers as 0312 => 03:12
									if (!options.datepicker && options.timepicker && splittedHours >= 0 && splittedHours < 24 && splittedMinutes >= 0 && splittedMinutes < 60) {
										$(this).val([splittedHours, splittedMinutes].map(function (item) {
											return item > 9 ? item : '0' + item;
										}).join(':'));
									} else {
										$(this).val(dateHelper.formatDate(_xdsoft_datetime.now(), options.format));
									}
								}
								datetimepicker.data('xdsoft_datetime').setCurrentTime($(this).val());
							}

							datetimepicker.trigger('changedatetime.xdsoft');
							datetimepicker.trigger('close.xdsoft');
						});
				}
				options.dayOfWeekStartPrev = (options.dayOfWeekStart === 0) ? 6 : options.dayOfWeekStart - 1;

				datetimepicker
					.trigger('xchange.xdsoft')
					.trigger('afterOpen.xdsoft');
			};

			datetimepicker
				.data('options', options)
				.on('touchstart mousedown.xdsoft', function (event) {
					event.stopPropagation();
					event.preventDefault();
					yearselect.hide();
					monthselect.hide();
					return false;
				});

			//scroll_element = timepicker.find('.xdsoft_time_box');
			timeboxparent.append(timebox);
			timeboxparent.xdsoftScroller(options);

			datetimepicker.on('afterOpen.xdsoft', function () {
				timeboxparent.xdsoftScroller(options);
			});

			datetimepicker
				.append(datepicker)
				.append(timepicker);

			if (options.withoutCopyright !== true) {
				datetimepicker
					.append(xdsoft_copyright);
			}

			datepicker
				.append(month_picker)
				.append(calendar)
				.append(applyButton);

            if (options.insideParent) {
                $(input).parent().append(datetimepicker);
            } else {
                $(options.parentID).append(datetimepicker);
            }

			XDSoft_datetime = function () {
				var _this = this;
				_this.now = function (norecursion) {
					var d = new Date(),
						date,
						time;

					if (!norecursion && options.defaultDate) {
						date = _this.strToDateTime(options.defaultDate);
						d.setFullYear(date.getFullYear());
						d.setMonth(date.getMonth());
						d.setDate(date.getDate());
					}

					d.setFullYear(d.getFullYear());

					if (!norecursion && options.defaultTime) {
						time = _this.strtotime(options.defaultTime);
						d.setHours(time.getHours());
						d.setMinutes(time.getMinutes());
						d.setSeconds(time.getSeconds());
						d.setMilliseconds(time.getMilliseconds());
					}
					return d;
				};

				_this.isValidDate = function (d) {
					if (Object.prototype.toString.call(d) !== "[object Date]") {
						return false;
					}
					return !isNaN(d.getTime());
				};

				_this.setCurrentTime = function (dTime, requireValidDate) {
					if (typeof dTime === 'string') {
						_this.currentTime = _this.strToDateTime(dTime);
					}
					else if (_this.isValidDate(dTime)) {
						_this.currentTime = dTime;
					}
					else if (!dTime && !requireValidDate && options.allowBlank && !options.inline) {
						_this.currentTime = null;
					}
					else {
						_this.currentTime = _this.now();
					}

					datetimepicker.trigger('xchange.xdsoft');
				};

				_this.empty = function () {
					_this.currentTime = null;
				};

				_this.getCurrentTime = function () {
					return _this.currentTime;
				};

				_this.nextMonth = function () {

					if (_this.currentTime === undefined || _this.currentTime === null) {
						_this.currentTime = _this.now();
					}

					var month = _this.currentTime.getMonth() + 1,
						year;
					if (month === 12) {
						_this.currentTime.setFullYear(_this.currentTime.getFullYear() + 1);
						month = 0;
					}

					year = _this.currentTime.getFullYear();

					_this.currentTime.setDate(
						Math.min(
							new Date(_this.currentTime.getFullYear(), month + 1, 0).getDate(),
							_this.currentTime.getDate()
						)
					);
					_this.currentTime.setMonth(month);

					if (options.onChangeMonth && $.isFunction(options.onChangeMonth)) {
						options.onChangeMonth.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'));
					}

					if (year !== _this.currentTime.getFullYear() && $.isFunction(options.onChangeYear)) {
						options.onChangeYear.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'));
					}

					datetimepicker.trigger('xchange.xdsoft');
					return month;
				};

				_this.prevMonth = function () {

					if (_this.currentTime === undefined || _this.currentTime === null) {
						_this.currentTime = _this.now();
					}

					var month = _this.currentTime.getMonth() - 1;
					if (month === -1) {
						_this.currentTime.setFullYear(_this.currentTime.getFullYear() - 1);
						month = 11;
					}
					_this.currentTime.setDate(
						Math.min(
							new Date(_this.currentTime.getFullYear(), month + 1, 0).getDate(),
							_this.currentTime.getDate()
						)
					);
					_this.currentTime.setMonth(month);
					if (options.onChangeMonth && $.isFunction(options.onChangeMonth)) {
						options.onChangeMonth.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'));
					}
					datetimepicker.trigger('xchange.xdsoft');
					return month;
				};

				_this.getWeekOfYear = function (datetime) {
					if (options.onGetWeekOfYear && $.isFunction(options.onGetWeekOfYear)) {
						var week = options.onGetWeekOfYear.call(datetimepicker, datetime);
						if (typeof week !== 'undefined') {
							return week;
						}
					}
					var onejan = new Date(datetime.getFullYear(), 0, 1);

					//First week of the year is th one with the first Thursday according to ISO8601
					if (onejan.getDay() !== 4) {
						onejan.setMonth(0, 1 + ((4 - onejan.getDay()+ 7) % 7));
					}

					return Math.ceil((((datetime - onejan) / 86400000) + onejan.getDay() + 1) / 7);
				};

				_this.strToDateTime = function (sDateTime) {
					var tmpDate = [], timeOffset, currentTime;

					if (sDateTime && sDateTime instanceof Date && _this.isValidDate(sDateTime)) {
						return sDateTime;
					}

					tmpDate = /^([+-]{1})(.*)$/.exec(sDateTime);

					if (tmpDate) {
						tmpDate[2] = dateHelper.parseDate(tmpDate[2], options.formatDate);
					}

					if (tmpDate  && tmpDate[2]) {
						timeOffset = tmpDate[2].getTime() - (tmpDate[2].getTimezoneOffset()) * 60000;
						currentTime = new Date((_this.now(true)).getTime() + parseInt(tmpDate[1] + '1', 10) * timeOffset);
					} else {
						currentTime = sDateTime ? dateHelper.parseDate(sDateTime, options.format) : _this.now();
					}

					if (!_this.isValidDate(currentTime)) {
						currentTime = _this.now();
					}

					return currentTime;
				};

				_this.strToDate = function (sDate) {
					if (sDate && sDate instanceof Date && _this.isValidDate(sDate)) {
						return sDate;
					}

					var currentTime = sDate ? dateHelper.parseDate(sDate, options.formatDate) : _this.now(true);
					if (!_this.isValidDate(currentTime)) {
						currentTime = _this.now(true);
					}
					return currentTime;
				};

				_this.strtotime = function (sTime) {
					if (sTime && sTime instanceof Date && _this.isValidDate(sTime)) {
						return sTime;
					}
					var currentTime = sTime ? dateHelper.parseDate(sTime, options.formatTime) : _this.now(true);
					if (!_this.isValidDate(currentTime)) {
						currentTime = _this.now(true);
					}
					return currentTime;
				};

				_this.str = function () {
					var format = options.format;
					if (options.yearOffset) {
						format = format.replace('Y', _this.currentTime.getFullYear() + options.yearOffset);
						format = format.replace('y', String(_this.currentTime.getFullYear() + options.yearOffset).substring(2, 4));
					}
					return dateHelper.formatDate(_this.currentTime, format);
				};
				_this.currentTime = this.now();
			};

			_xdsoft_datetime = new XDSoft_datetime();

			applyButton.on('touchend click', function (e) {//pathbrite
				e.preventDefault();
				datetimepicker.data('changed', true);
				_xdsoft_datetime.setCurrentTime(getCurrentValue());
				input.val(_xdsoft_datetime.str());
				datetimepicker.trigger('close.xdsoft');
			});
			month_picker
				.find('.xdsoft_today_button')
				.on('touchend mousedown.xdsoft', function () {
					datetimepicker.data('changed', true);
					_xdsoft_datetime.setCurrentTime(0, true);
					datetimepicker.trigger('afterOpen.xdsoft');
				}).on('dblclick.xdsoft', function () {
				var currentDate = _xdsoft_datetime.getCurrentTime(), minDate, maxDate;
				currentDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());
				minDate = _xdsoft_datetime.strToDate(options.minDate);
				minDate = new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate());
				if (currentDate < minDate) {
					return;
				}
				maxDate = _xdsoft_datetime.strToDate(options.maxDate);
				maxDate = new Date(maxDate.getFullYear(), maxDate.getMonth(), maxDate.getDate());
				if (currentDate > maxDate) {
					return;
				}
				input.val(_xdsoft_datetime.str());
				input.trigger('change');
				datetimepicker.trigger('close.xdsoft');
			});
			month_picker
				.find('.xdsoft_prev,.xdsoft_next')
				.on('touchend mousedown.xdsoft', function () {
					var $this = $(this),
						timer = 0,
						stop = false;

					(function arguments_callee1(v) {
						if ($this.hasClass(options.next)) {
							_xdsoft_datetime.nextMonth();
						} else if ($this.hasClass(options.prev)) {
							_xdsoft_datetime.prevMonth();
						}
						if (options.monthChangeSpinner) {
							if (!stop) {
								timer = setTimeout(arguments_callee1, v || 100);
							}
						}
					}(500));

					$([options.ownerDocument.body, options.contentWindow]).on('touchend mouseup.xdsoft', function arguments_callee2() {
						clearTimeout(timer);
						stop = true;
						$([options.ownerDocument.body, options.contentWindow]).off('touchend mouseup.xdsoft', arguments_callee2);
					});
				});

			timepicker
				.find('.xdsoft_prev,.xdsoft_next')
				.on('touchend mousedown.xdsoft', function () {
					var $this = $(this),
						timer = 0,
						stop = false,
						period = 110;
					(function arguments_callee4(v) {
						var pheight = timeboxparent[0].clientHeight,
							height = timebox[0].offsetHeight,
							top = Math.abs(parseInt(timebox.css('marginTop'), 10));
						/**
						 *  Fixes a bug which happens if:
						 *  top is < the timeHeightInTimePicker, it will cause the up arrow to stop working
						 *  same for the down arrow if it's not exactly on the pixel
						 */
						if (top < options.timeHeightInTimePicker) {
							top = options.timeHeightInTimePicker;
						} else if ($this.hasClass(options.next) && (height - pheight) < top) {
							timebox.css('marginTop', '-' + height + 'px');
						}

						if ($this.hasClass(options.next) && (height - pheight) > top) {
							timebox.css('marginTop', '-' + (top + options.timeHeightInTimePicker) + 'px');
						} else if ($this.hasClass(options.prev) && top - options.timeHeightInTimePicker >= 0) {
							timebox.css('marginTop', '-' + (top - options.timeHeightInTimePicker) + 'px');
						}
						/**
						 * Fixed bug:
						 * When using css3 transition, it will cause a bug that you cannot scroll the timepicker list.
						 * The reason is that the transition-duration time, if you set it to 0, all things fine, otherwise, this
						 * would cause a bug when you use jquery.css method.
						 * Let's say: * { transition: all .5s ease; }
						 * jquery timebox.css('marginTop') will return the original value which is before you clicking the next/prev button,
						 * meanwhile the timebox[0].style.marginTop will return the right value which is after you clicking the
						 * next/prev button.
						 *
						 * What we should do:
						 * Replace timebox.css('marginTop') with timebox[0].style.marginTop.
						 */
						timeboxparent.trigger('scroll_element.xdsoft_scroller', [Math.abs(parseInt(timebox[0].style.marginTop, 10) / (height - pheight))]);
						period = (period > 10) ? 10 : period - 10;
						if (!stop) {
							timer = setTimeout(arguments_callee4, v || period);
						}
					}(500));
					$([options.ownerDocument.body, options.contentWindow]).on('touchend mouseup.xdsoft', function arguments_callee5() {
						clearTimeout(timer);
						stop = true;
						$([options.ownerDocument.body, options.contentWindow])
							.off('touchend mouseup.xdsoft', arguments_callee5);
					});
				});

			xchangeTimer = 0;
			// base handler - generating a calendar and timepicker
			datetimepicker
				.on('xchange.xdsoft', function (event) {
					clearTimeout(xchangeTimer);
					xchangeTimer = setTimeout(function () {

						if (_xdsoft_datetime.currentTime === undefined || _xdsoft_datetime.currentTime === null || isNaN(_xdsoft_datetime.currentTime.getTime())) {
							_xdsoft_datetime.currentTime = _xdsoft_datetime.now();
						}

						var table =	'',
							start = new Date(_xdsoft_datetime.currentTime.getFullYear(), _xdsoft_datetime.currentTime.getMonth(), 1, 12, 0, 0),
							i = 0,
							j,
							today = _xdsoft_datetime.now(),
							maxDate = false,
							minDate = false,
							minDateTime = false,
							maxDateTime = false,
							hDate,
							day,
							d,
							y,
							m,
							w,
							classes = [],
							customDateSettings,
							newRow = true,
							time = '',
							h,
							line_time,
							description;

						while (start.getDay() !== options.dayOfWeekStart) {
							start.setDate(start.getDate() - 1);
						}

						table += '<table><thead><tr>';

						if (options.weeks) {
							table += '<th></th>';
						}

						for (j = 0; j < 7; j += 1) {
							table += '<th>' + options.i18n[globalLocale].dayOfWeekShort[(j + options.dayOfWeekStart) % 7] + '</th>';
						}

						table += '</tr></thead>';
						table += '<tbody>';

						if (options.maxDate !== false) {
							maxDate = _xdsoft_datetime.strToDate(options.maxDate);
							maxDate = new Date(maxDate.getFullYear(), maxDate.getMonth(), maxDate.getDate(), 23, 59, 59, 999);
						}

						if (options.minDate !== false) {
							minDate = _xdsoft_datetime.strToDate(options.minDate);
							minDate = new Date(minDate.getFullYear(), minDate.getMonth(), minDate.getDate());
						}

                        if (options.minDateTime !== false) {
							minDateTime = _xdsoft_datetime.strToDate(options.minDateTime);
							minDateTime = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), minDateTime.getHours(), minDateTime.getMinutes(), minDateTime.getSeconds());
						}

                        if (options.maxDateTime !== false) {
							maxDateTime = _xdsoft_datetime.strToDate(options.maxDateTime);
							maxDateTime = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), maxDateTime.getHours(), maxDateTime.getMinutes(), maxDateTime.getSeconds());
						}

						var maxDateTimeDay;
						if (maxDateTime !== false) {
							maxDateTimeDay = ((maxDateTime.getFullYear() * 12) + maxDateTime.getMonth()) * 31 + maxDateTime.getDate();
						}

						while (i < _xdsoft_datetime.currentTime.countDaysInMonth() || start.getDay() !== options.dayOfWeekStart || _xdsoft_datetime.currentTime.getMonth() === start.getMonth()) {
							classes = [];
							i += 1;

							day = start.getDay();
							d = start.getDate();
							y = start.getFullYear();
							m = start.getMonth();
							w = _xdsoft_datetime.getWeekOfYear(start);
							description = '';

							classes.push('xdsoft_date');

							if (options.beforeShowDay && $.isFunction(options.beforeShowDay.call)) {
								customDateSettings = options.beforeShowDay.call(datetimepicker, start);
							} else {
								customDateSettings = null;
							}

							if(options.allowDateRe && Object.prototype.toString.call(options.allowDateRe) === "[object RegExp]"){
								if(!options.allowDateRe.test(dateHelper.formatDate(start, options.formatDate))){
									classes.push('xdsoft_disabled');
								}
							}

							if(options.allowDates && options.allowDates.length>0){
								if(options.allowDates.indexOf(dateHelper.formatDate(start, options.formatDate)) === -1){
									classes.push('xdsoft_disabled');
								}
							}

							var currentDay = ((start.getFullYear() * 12) + start.getMonth()) * 31 + start.getDate();
							if ((maxDate !== false && start > maxDate) || (minDateTime !== false && start < minDateTime)  || (minDate !== false && start < minDate) || (maxDateTime !== false && currentDay > maxDateTimeDay) || (customDateSettings && customDateSettings[0] === false)) {
								classes.push('xdsoft_disabled');
							}

							if (options.disabledDates.indexOf(dateHelper.formatDate(start, options.formatDate)) !== -1) {
								classes.push('xdsoft_disabled');
							}

							if (options.disabledWeekDays.indexOf(day) !== -1) {
								classes.push('xdsoft_disabled');
							}

							if (input.is('[disabled]')) {
								classes.push('xdsoft_disabled');
							}

							if (customDateSettings && customDateSettings[1] !== "") {
								classes.push(customDateSettings[1]);
							}

							if (_xdsoft_datetime.currentTime.getMonth() !== m) {
								classes.push('xdsoft_other_month');
							}

							if ((options.defaultSelect || datetimepicker.data('changed')) && dateHelper.formatDate(_xdsoft_datetime.currentTime, options.formatDate) === dateHelper.formatDate(start, options.formatDate)) {
								classes.push('xdsoft_current');
							}

							if (dateHelper.formatDate(today, options.formatDate) === dateHelper.formatDate(start, options.formatDate)) {
								classes.push('xdsoft_today');
							}

							if (start.getDay() === 0 || start.getDay() === 6 || options.weekends.indexOf(dateHelper.formatDate(start, options.formatDate)) !== -1) {
								classes.push('xdsoft_weekend');
							}

							if (options.highlightedDates[dateHelper.formatDate(start, options.formatDate)] !== undefined) {
								hDate = options.highlightedDates[dateHelper.formatDate(start, options.formatDate)];
								classes.push(hDate.style === undefined ? 'xdsoft_highlighted_default' : hDate.style);
								description = hDate.desc === undefined ? '' : hDate.desc;
							}

							if (options.beforeShowDay && $.isFunction(options.beforeShowDay)) {
								classes.push(options.beforeShowDay(start));
							}

							if (newRow) {
								table += '<tr>';
								newRow = false;
								if (options.weeks) {
									table += '<th>' + w + '</th>';
								}
							}

							table += '<td data-date="' + d + '" data-month="' + m + '" data-year="' + y + '"' + ' class="xdsoft_date xdsoft_day_of_week' + start.getDay() + ' ' + classes.join(' ') + '" title="' + description + '">' +
								'<div>' + d + '</div>' +
								'</td>';

							if (start.getDay() === options.dayOfWeekStartPrev) {
								table += '</tr>';
								newRow = true;
							}

							start.setDate(d + 1);
						}
						table += '</tbody></table>';

						calendar.html(table);

						month_picker.find('.xdsoft_label span').eq(0).text(options.i18n[globalLocale].months[_xdsoft_datetime.currentTime.getMonth()]);
						month_picker.find('.xdsoft_label span').eq(1).text(_xdsoft_datetime.currentTime.getFullYear() + options.yearOffset);

						// generate timebox
						time = '';
						h = '';
						m = '';

						var minTimeMinutesOfDay = 0;
						if (options.minTime !== false) {
						    var t = _xdsoft_datetime.strtotime(options.minTime);
						    minTimeMinutesOfDay = 60 * t.getHours() + t.getMinutes();
						}
						var maxTimeMinutesOfDay = 24 * 60;
						if (options.maxTime !== false) {
						    var t = _xdsoft_datetime.strtotime(options.maxTime);
						    maxTimeMinutesOfDay = 60 * t.getHours() + t.getMinutes();
						}

						if (options.minDateTime !== false) {
							var t = _xdsoft_datetime.strToDateTime(options.minDateTime);
						        var currentDayIsMinDateTimeDay = dateHelper.formatDate(_xdsoft_datetime.currentTime, options.formatDate) === dateHelper.formatDate(t, options.formatDate);
							if (currentDayIsMinDateTimeDay) {
								var m = 60 * t.getHours() + t.getMinutes();
								if (m > minTimeMinutesOfDay) minTimeMinutesOfDay = m;
							}
						}

						if (options.maxDateTime !== false) {
							var t = _xdsoft_datetime.strToDateTime(options.maxDateTime);
						        var currentDayIsMaxDateTimeDay = dateHelper.formatDate(_xdsoft_datetime.currentTime, options.formatDate) === dateHelper.formatDate(t, options.formatDate);
							if (currentDayIsMaxDateTimeDay) {
								var m = 60 * t.getHours() + t.getMinutes();
								if (m < maxTimeMinutesOfDay) maxTimeMinutesOfDay = m;
							}
						}

						line_time = function line_time(h, m) {
							var now = _xdsoft_datetime.now(), current_time,
								isALlowTimesInit = options.allowTimes && $.isArray(options.allowTimes) && options.allowTimes.length;
							now.setHours(h);
							h = parseInt(now.getHours(), 10);
							now.setMinutes(m);
							m = parseInt(now.getMinutes(), 10);
							classes = [];
							var currentMinutesOfDay = 60 * h + m;
							if (input.is('[disabled]') || (currentMinutesOfDay >= maxTimeMinutesOfDay) || (currentMinutesOfDay < minTimeMinutesOfDay)) {
								classes.push('xdsoft_disabled');
							}

							current_time = new Date(_xdsoft_datetime.currentTime);
							current_time.setHours(parseInt(_xdsoft_datetime.currentTime.getHours(), 10));

							if (!isALlowTimesInit) {
								current_time.setMinutes(Math[options.roundTime](_xdsoft_datetime.currentTime.getMinutes() / options.step) * options.step);
							}

							if ((options.initTime || options.defaultSelect || datetimepicker.data('changed')) && current_time.getHours() === parseInt(h, 10) && ((!isALlowTimesInit && options.step > 59) || current_time.getMinutes() === parseInt(m, 10))) {
								if (options.defaultSelect || datetimepicker.data('changed')) {
									classes.push('xdsoft_current');
								} else if (options.initTime) {
									classes.push('xdsoft_init_time');
								}
							}
							if (parseInt(today.getHours(), 10) === parseInt(h, 10) && parseInt(today.getMinutes(), 10) === parseInt(m, 10)) {
								classes.push('xdsoft_today');
							}
							time += '<div class="xdsoft_time ' + classes.join(' ') + '" data-hour="' + h + '" data-minute="' + m + '">' + dateHelper.formatDate(now, options.formatTime) + '</div>';
						};

						if (!options.allowTimes || !$.isArray(options.allowTimes) || !options.allowTimes.length) {
							for (i = 0, j = 0; i < (options.hours12 ? 12 : 24); i += 1) {
								for (j = 0; j < 60; j += options.step) {
								        var currentMinutesOfDay = i * 60 + j;
								        if (currentMinutesOfDay < minTimeMinutesOfDay) continue;
								        if (currentMinutesOfDay >= maxTimeMinutesOfDay) continue;
									h = (i < 10 ? '0' : '') + i;
									m = (j < 10 ? '0' : '') + j;
									line_time(h, m);
								}
							}
						} else {
							for (i = 0; i < options.allowTimes.length; i += 1) {
								h = _xdsoft_datetime.strtotime(options.allowTimes[i]).getHours();
								m = _xdsoft_datetime.strtotime(options.allowTimes[i]).getMinutes();
								line_time(h, m);
							}
						}

						timebox.html(time);

						opt = '';

						for (i = parseInt(options.yearStart, 10); i <= parseInt(options.yearEnd, 10); i += 1) {
							opt += '<div class="xdsoft_option ' + (_xdsoft_datetime.currentTime.getFullYear() === i ? 'xdsoft_current' : '') + '" data-value="' + i + '">' + (i + options.yearOffset) + '</div>';
						}
						yearselect.children().eq(0)
							.html(opt);

						for (i = parseInt(options.monthStart, 10), opt = ''; i <= parseInt(options.monthEnd, 10); i += 1) {
							opt += '<div class="xdsoft_option ' + (_xdsoft_datetime.currentTime.getMonth() === i ? 'xdsoft_current' : '') + '" data-value="' + i + '">' + options.i18n[globalLocale].months[i] + '</div>';
						}
						monthselect.children().eq(0).html(opt);
						$(datetimepicker)
							.trigger('generate.xdsoft');
					}, 10);
					event.stopPropagation();
				})
				.on('afterOpen.xdsoft', function () {
					if (options.timepicker) {
						var classType, pheight, height, top;
						if (timebox.find('.xdsoft_current').length) {
							classType = '.xdsoft_current';
						} else if (timebox.find('.xdsoft_init_time').length) {
							classType = '.xdsoft_init_time';
						}
						if (classType) {
							pheight = timeboxparent[0].clientHeight;
							height = timebox[0].offsetHeight;
							top = timebox.find(classType).index() * options.timeHeightInTimePicker + 1;
							if ((height - pheight) < top) {
								top = height - pheight;
							}
							timeboxparent.trigger('scroll_element.xdsoft_scroller', [parseInt(top, 10) / (height - pheight)]);
						} else {
							timeboxparent.trigger('scroll_element.xdsoft_scroller', [0]);
						}
					}
				});

			timerclick = 0;
			calendar
				.on('touchend click.xdsoft', 'td', function (xdevent) {
					xdevent.stopPropagation();  // Prevents closing of Pop-ups, Modals and Flyouts in Bootstrap
					timerclick += 1;
					var $this = $(this),
						currentTime = _xdsoft_datetime.currentTime;

					if (currentTime === undefined || currentTime === null) {
						_xdsoft_datetime.currentTime = _xdsoft_datetime.now();
						currentTime = _xdsoft_datetime.currentTime;
					}

					if ($this.hasClass('xdsoft_disabled')) {
						return false;
					}

					currentTime.setDate(1);
					currentTime.setFullYear($this.data('year'));
					currentTime.setMonth($this.data('month'));
					currentTime.setDate($this.data('date'));

					datetimepicker.trigger('select.xdsoft', [currentTime]);

					input.val(_xdsoft_datetime.str());

					if (options.onSelectDate &&	$.isFunction(options.onSelectDate)) {
						options.onSelectDate.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'), xdevent);
					}

					datetimepicker.data('changed', true);
					datetimepicker.trigger('xchange.xdsoft');
					datetimepicker.trigger('changedatetime.xdsoft');
					if ((timerclick > 1 || (options.closeOnDateSelect === true || (options.closeOnDateSelect === false && !options.timepicker))) && !options.inline) {
						datetimepicker.trigger('close.xdsoft');
					}
					setTimeout(function () {
						timerclick = 0;
					}, 200);
				});

			timebox
				.on('touchstart', 'div', function (xdevent) {
					this.touchMoved = false;
				})
				.on('touchmove', 'div', handleTouchMoved)
				.on('touchend click.xdsoft', 'div', function (xdevent) {
					if (!this.touchMoved) {
						xdevent.stopPropagation();
						var $this = $(this),
							currentTime = _xdsoft_datetime.currentTime;

						if (currentTime === undefined || currentTime === null) {
							_xdsoft_datetime.currentTime = _xdsoft_datetime.now();
							currentTime = _xdsoft_datetime.currentTime;
						}

						if ($this.hasClass('xdsoft_disabled')) {
							return false;
						}
						currentTime.setHours($this.data('hour'));
						currentTime.setMinutes($this.data('minute'));
						datetimepicker.trigger('select.xdsoft', [currentTime]);

						datetimepicker.data('input').val(_xdsoft_datetime.str());

						if (options.onSelectTime && $.isFunction(options.onSelectTime)) {
							options.onSelectTime.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'), xdevent);
						}
						datetimepicker.data('changed', true);
						datetimepicker.trigger('xchange.xdsoft');
						datetimepicker.trigger('changedatetime.xdsoft');
						if (options.inline !== true && options.closeOnTimeSelect === true) {
							datetimepicker.trigger('close.xdsoft');
						}
					}
				});

			datepicker
				.on('mousewheel.xdsoft', function (event) {
					if (!options.scrollMonth) {
						return true;
					}
					if (event.deltaY < 0) {
						_xdsoft_datetime.nextMonth();
					} else {
						_xdsoft_datetime.prevMonth();
					}
					return false;
				});

			input
				.on('mousewheel.xdsoft', function (event) {
					if (!options.scrollInput) {
						return true;
					}
					if (!options.datepicker && options.timepicker) {
						current_time_index = timebox.find('.xdsoft_current').length ? timebox.find('.xdsoft_current').eq(0).index() : 0;
						if (current_time_index + event.deltaY >= 0 && current_time_index + event.deltaY < timebox.children().length) {
							current_time_index += event.deltaY;
						}
						if (timebox.children().eq(current_time_index).length) {
							timebox.children().eq(current_time_index).trigger('mousedown');
						}
						return false;
					}
					if (options.datepicker && !options.timepicker) {
						datepicker.trigger(event, [event.deltaY, event.deltaX, event.deltaY]);
						if (input.val) {
							input.val(_xdsoft_datetime.str());
						}
						datetimepicker.trigger('changedatetime.xdsoft');
						return false;
					}
				});

			datetimepicker
				.on('changedatetime.xdsoft', function (event) {
					if (options.onChangeDateTime && $.isFunction(options.onChangeDateTime)) {
						var $input = datetimepicker.data('input');
						options.onChangeDateTime.call(datetimepicker, _xdsoft_datetime.currentTime, $input, event);
						delete options.value;
						$input.trigger('change');
					}
				})
				.on('generate.xdsoft', function () {
					if (options.onGenerate && $.isFunction(options.onGenerate)) {
						options.onGenerate.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'));
					}
					if (triggerAfterOpen) {
						datetimepicker.trigger('afterOpen.xdsoft');
						triggerAfterOpen = false;
					}
				})
				.on('click.xdsoft', function (xdevent) {
					xdevent.stopPropagation();
				});

			current_time_index = 0;

			/**
			 * Runs the callback for each of the specified node's ancestors.
			 *
			 * Return FALSE from the callback to stop ascending.
			 *
			 * @param {DOMNode} node
			 * @param {Function} callback
			 * @returns {undefined}
			 */
			forEachAncestorOf = function (node, callback) {
				do {
					node = node.parentNode;

					if (!node || callback(node) === false) {
						break;
					}
				} while (node.nodeName !== 'HTML');
			};

			/**
			 * Sets the position of the picker.
			 *
			 * @returns {undefined}
			 */
			setPos = function () {
				var dateInputOffset,
					dateInputElem,
					verticalPosition,
					left,
					position,
					datetimepickerElem,
					dateInputHasFixedAncestor,
					$dateInput,
					windowWidth,
					verticalAnchorEdge,
					datetimepickerCss,
					windowHeight,
					windowScrollTop;

				$dateInput = datetimepicker.data('input');
				dateInputOffset = $dateInput.offset();
				dateInputElem = $dateInput[0];

				verticalAnchorEdge = 'top';
				verticalPosition = (dateInputOffset.top + dateInputElem.offsetHeight) - 1;
				left = dateInputOffset.left;
				position = "absolute";

				windowWidth = $(options.contentWindow).width();
				windowHeight = $(options.contentWindow).height();
				windowScrollTop = $(options.contentWindow).scrollTop();

				if ((options.ownerDocument.documentElement.clientWidth - dateInputOffset.left) < datepicker.parent().outerWidth(true)) {
					var diff = datepicker.parent().outerWidth(true) - dateInputElem.offsetWidth;
					left = left - diff;
				}

				if ($dateInput.parent().css('direction') === 'rtl') {
					left -= (datetimepicker.outerWidth() - $dateInput.outerWidth());
				}

				if (options.fixed) {
					verticalPosition -= windowScrollTop;
					left -= $(options.contentWindow).scrollLeft();
					position = "fixed";
				} else {
					dateInputHasFixedAncestor = false;

					forEachAncestorOf(dateInputElem, function (ancestorNode) {
						if (ancestorNode === null) {
							return false;
						}

						if (options.contentWindow.getComputedStyle(ancestorNode).getPropertyValue('position') === 'fixed') {
							dateInputHasFixedAncestor = true;
							return false;
						}
					});

					if (dateInputHasFixedAncestor && !options.insideParent) {
						position = 'fixed';

						//If the picker won't fit entirely within the viewport then display it above the date input.
						if (verticalPosition + datetimepicker.outerHeight() > windowHeight + windowScrollTop) {
							verticalAnchorEdge = 'bottom';
							verticalPosition = (windowHeight + windowScrollTop) - dateInputOffset.top;
						} else {
							verticalPosition -= windowScrollTop;
						}
					} else {
						if (verticalPosition + datetimepicker[0].offsetHeight > windowHeight + windowScrollTop) {
							verticalPosition = dateInputOffset.top - datetimepicker[0].offsetHeight + 1;
						}
					}

					if (verticalPosition < 0) {
						verticalPosition = 0;
					}

					if (left + dateInputElem.offsetWidth > windowWidth) {
						left = windowWidth - dateInputElem.offsetWidth;
					}
				}

				datetimepickerElem = datetimepicker[0];

				forEachAncestorOf(datetimepickerElem, function (ancestorNode) {
					var ancestorNodePosition;

					ancestorNodePosition = options.contentWindow.getComputedStyle(ancestorNode).getPropertyValue('position');

					if (ancestorNodePosition === 'relative' && windowWidth >= ancestorNode.offsetWidth) {
						left = left - ((windowWidth - ancestorNode.offsetWidth) / 2);
						return false;
					}
				});

				datetimepickerCss = {
					position: position,
					left: options.insideParent ? dateInputElem.offsetLeft : left,
					top: '',  //Initialize to prevent previous values interfering with new ones.
					bottom: ''  //Initialize to prevent previous values interfering with new ones.
				};

				if (options.insideParent) {
                    datetimepickerCss[verticalAnchorEdge] = dateInputElem.offsetTop + dateInputElem.offsetHeight;
                } else {
                    datetimepickerCss[verticalAnchorEdge] = verticalPosition;
                }

				datetimepicker.css(datetimepickerCss);
			};

			datetimepicker
				.on('open.xdsoft', function (event) {
					var onShow = true;
					if (options.onShow && $.isFunction(options.onShow)) {
						onShow = options.onShow.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'), event);
					}
					if (onShow !== false) {
						datetimepicker.show();
						setPos();
						$(options.contentWindow)
							.off('resize.xdsoft', setPos)
							.on('resize.xdsoft', setPos);

						if (options.closeOnWithoutClick) {
							$([options.ownerDocument.body, options.contentWindow]).on('touchstart mousedown.xdsoft', function arguments_callee6() {
								datetimepicker.trigger('close.xdsoft');
								$([options.ownerDocument.body, options.contentWindow]).off('touchstart mousedown.xdsoft', arguments_callee6);
							});
						}
					}
				})
				.on('close.xdsoft', function (event) {
					var onClose = true;
					month_picker
						.find('.xdsoft_month,.xdsoft_year')
						.find('.xdsoft_select')
						.hide();
					if (options.onClose && $.isFunction(options.onClose)) {
						onClose = options.onClose.call(datetimepicker, _xdsoft_datetime.currentTime, datetimepicker.data('input'), event);
					}
					if (onClose !== false && !options.opened && !options.inline) {
						datetimepicker.hide();
					}
					event.stopPropagation();
				})
				.on('toggle.xdsoft', function () {
					if (datetimepicker.is(':visible')) {
						datetimepicker.trigger('close.xdsoft');
					} else {
						datetimepicker.trigger('open.xdsoft');
					}
				})
				.data('input', input);

			timer = 0;

			datetimepicker.data('xdsoft_datetime', _xdsoft_datetime);
			datetimepicker.setOptions(options);

			function getCurrentValue() {
				var ct = false, time;

				if (options.startDate) {
					ct = _xdsoft_datetime.strToDate(options.startDate);
				} else {
					ct = options.value || ((input && input.val && input.val()) ? input.val() : '');
					if (ct) {
						ct = _xdsoft_datetime.strToDateTime(ct);
						if (options.yearOffset) {
							ct = new Date(ct.getFullYear() - options.yearOffset, ct.getMonth(), ct.getDate(), ct.getHours(), ct.getMinutes(), ct.getSeconds(), ct.getMilliseconds());
						}
					} else if (options.defaultDate) {
						ct = _xdsoft_datetime.strToDateTime(options.defaultDate);
						if (options.defaultTime) {
							time = _xdsoft_datetime.strtotime(options.defaultTime);
							ct.setHours(time.getHours());
							ct.setMinutes(time.getMinutes());
						}
					}
				}

				if (ct && _xdsoft_datetime.isValidDate(ct)) {
					datetimepicker.data('changed', true);
				} else {
					ct = '';
				}

				return ct || 0;
			}

			function setMask(options) {

				var isValidValue = function (mask, value) {
						var reg = mask
							.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g, '\\$1')
							.replace(/_/g, '{digit+}')
							.replace(/([0-9]{1})/g, '{digit$1}')
							.replace(/\{digit([0-9]{1})\}/g, '[0-$1_]{1}')
							.replace(/\{digit[\+]\}/g, '[0-9_]{1}');
						return (new RegExp(reg)).test(value);
					},
					getCaretPos = function (input) {
						try {
							if (options.ownerDocument.selection && options.ownerDocument.selection.createRange) {
								var range = options.ownerDocument.selection.createRange();
								return range.getBookmark().charCodeAt(2) - 2;
							}
							if (input.setSelectionRange) {
								return input.selectionStart;
							}
						} catch (e) {
							return 0;
						}
					},
					setCaretPos = function (node, pos) {
						node = (typeof node === "string" || node instanceof String) ? options.ownerDocument.getElementById(node) : node;
						if (!node) {
							return false;
						}
						if (node.createTextRange) {
							var textRange = node.createTextRange();
							textRange.collapse(true);
							textRange.moveEnd('character', pos);
							textRange.moveStart('character', pos);
							textRange.select();
							return true;
						}
						if (node.setSelectionRange) {
							node.setSelectionRange(pos, pos);
							return true;
						}
						return false;
					};

				if(options.mask) {
					input.off('keydown.xdsoft');
				}

				if (options.mask === true) {
					if (dateHelper.formatMask) {
						options.mask = dateHelper.formatMask(options.format)
					} else {
						options.mask = options.format
							.replace(/Y/g, '9999')
							.replace(/F/g, '9999')
							.replace(/m/g, '19')
							.replace(/d/g, '39')
							.replace(/H/g, '29')
							.replace(/i/g, '59')
							.replace(/s/g, '59');
					}
				}

				if ($.type(options.mask) === 'string') {
					if (!isValidValue(options.mask, input.val())) {
						input.val(options.mask.replace(/[0-9]/g, '_'));
						setCaretPos(input[0], 0);
					}

					input.on('paste.xdsoft', function (event) {
					    // couple options here
					    // 1. return false - tell them they can't paste
					    // 2. insert over current characters - minimal validation
					    // 3. full fledged parsing and validation
					    // let's go option 2 for now

					    // fires multiple times for some reason

					    // https://stackoverflow.com/a/30496488/1366033
					    var clipboardData = event.clipboardData || event.originalEvent.clipboardData || window.clipboardData,
						pastedData = clipboardData.getData('text'),
						val = this.value,
						pos = this.selectionStart

					    var valueBeforeCursor = val.substr(0, pos);
					    var valueAfterPaste = val.substr(pos + pastedData.length);

					    val = valueBeforeCursor + pastedData + valueAfterPaste;
					    pos += pastedData.length;

					    if (isValidValue(options.mask, val)) {
						this.value = val;
						setCaretPos(this, pos);
					    } else if ($.trim(val) === '') {
						this.value = options.mask.replace(/[0-9]/g, '_');
					    } else {
						input.trigger('error_input.xdsoft');
					    }

					    event.preventDefault();
					    return false;
					  });

					  input.on('keydown.xdsoft', function (event) {
					    var val = this.value,
						key = event.which,
						pos = this.selectionStart,
						selEnd = this.selectionEnd,
						hasSel = pos !== selEnd,
						digit;

					    // only alow these characters
					    if (((key >=  KEY0 && key <=  KEY9)  ||
						 (key >= _KEY0 && key <= _KEY9)) ||
						 (key === BACKSPACE || key === DEL)) {

					      // get char to insert which is new character or placeholder ('_')
					      digit = (key === BACKSPACE || key === DEL) ? '_' :
							  String.fromCharCode((_KEY0 <= key && key <= _KEY9) ? key - KEY0 : key);

						// we're deleting something, we're not at the start, and have normal cursor, move back one
						// if we have a selection length, cursor actually sits behind deletable char, not in front
						if (key === BACKSPACE && pos && !hasSel) {
						    pos -= 1;
						}

						// don't stop on a separator, continue whatever direction you were going
						//   value char - keep incrementing position while on separator char and we still have room
						//   del char   - keep decrementing position while on separator char and we still have room
						while (true) {
						  var maskValueAtCurPos = options.mask.substr(pos, 1);
						  var posShorterThanMaskLength = pos < options.mask.length;
						  var posGreaterThanZero = pos > 0;
						  var notNumberOrPlaceholder = /[^0-9_]/;
						  var curPosOnSep = notNumberOrPlaceholder.test(maskValueAtCurPos);
						  var continueMovingPosition = curPosOnSep && posShorterThanMaskLength && posGreaterThanZero

						  // if we hit a real char, stay where we are
						  if (!continueMovingPosition) break;

						  // hitting backspace in a selection, you can possibly go back any further - go forward
						  pos += (key === BACKSPACE && !hasSel) ? -1 : 1;

                        }

                        if (event.metaKey) {    // cmd has been pressed
                            pos = 0;
                            hasSel = true;
                        }

						if (hasSel) {
						  // pos might have moved so re-calc length
						  var selLength = selEnd - pos

						  // if we have a selection length we will wipe out entire selection and replace with default template for that range
						  var defaultBlank = options.mask.replace(/[0-9]/g, '_');
						  var defaultBlankSelectionReplacement = defaultBlank.substr(pos, selLength);
						  var selReplacementRemainder = defaultBlankSelectionReplacement.substr(1) // might be empty

						  var valueBeforeSel = val.substr(0, pos);
						  var insertChars = digit + selReplacementRemainder;
						  var charsAfterSelection = val.substr(pos + selLength);

						  val = valueBeforeSel + insertChars + charsAfterSelection

						} else {
						  var valueBeforeCursor = val.substr(0, pos);
						  var insertChar = digit;
						  var valueAfterNextChar = val.substr(pos + 1);

						  val = valueBeforeCursor + insertChar + valueAfterNextChar
						}

						if ($.trim(val) === '') {
						  // if empty, set to default
						    val = defaultBlank
						} else {
						  // if at the last character don't need to do anything
						    if (pos === options.mask.length) {
							event.preventDefault();
							return false;
						    }
						}

						// resume cursor location
						pos += (key === BACKSPACE) ? 0 : 1;
						// don't stop on a separator, continue whatever direction you were going
						while (/[^0-9_]/.test(options.mask.substr(pos, 1)) && pos < options.mask.length && pos > 0) {
						    pos += (key === BACKSPACE) ? 0 : 1;
						}

						if (isValidValue(options.mask, val)) {
						    this.value = val;
						    setCaretPos(this, pos);
						} else if ($.trim(val) === '') {
						    this.value = options.mask.replace(/[0-9]/g, '_');
						} else {
						    input.trigger('error_input.xdsoft');
						}
					    } else {
						if (([AKEY, CKEY, VKEY, ZKEY, YKEY].indexOf(key) !== -1 && ctrlDown) || [ESC, ARROWUP, ARROWDOWN, ARROWLEFT, ARROWRIGHT, F5, CTRLKEY, TAB, ENTER].indexOf(key) !== -1) {
						    return true;
						}
					    }

					    event.preventDefault();
					    return false;
					  });
				}
			}

			_xdsoft_datetime.setCurrentTime(getCurrentValue());

			input
				.data('xdsoft_datetimepicker', datetimepicker)
				.on('open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart', function () {
					if (input.is(':disabled') || (input.data('xdsoft_datetimepicker').is(':visible') && options.closeOnInputClick)) {
						return;
					}
					if (!options.openOnFocus) {
						return;
					}
					clearTimeout(timer);
					timer = setTimeout(function () {
						if (input.is(':disabled')) {
							return;
						}

						triggerAfterOpen = true;
						_xdsoft_datetime.setCurrentTime(getCurrentValue(), true);
						if(options.mask) {
							setMask(options);
						}
						datetimepicker.trigger('open.xdsoft');
					}, 100);
				})
				.on('keydown.xdsoft', function (event) {
					var elementSelector,
						key = event.which;
					if ([ENTER].indexOf(key) !== -1 && options.enterLikeTab) {
						elementSelector = $("input:visible,textarea:visible,button:visible,a:visible");
						datetimepicker.trigger('close.xdsoft');
						elementSelector.eq(elementSelector.index(this) + 1).focus();
						return false;
					}
					if ([TAB].indexOf(key) !== -1) {
						datetimepicker.trigger('close.xdsoft');
						return true;
					}
				})
				.on('blur.xdsoft', function () {
					datetimepicker.trigger('close.xdsoft');
				});
		};
		destroyDateTimePicker = function (input) {
			var datetimepicker = input.data('xdsoft_datetimepicker');
			if (datetimepicker) {
				datetimepicker.data('xdsoft_datetime', null);
				datetimepicker.remove();
				input
					.data('xdsoft_datetimepicker', null)
					.off('.xdsoft');
				$(options.contentWindow).off('resize.xdsoft');
				$([options.contentWindow, options.ownerDocument.body]).off('mousedown.xdsoft touchstart');
				if (input.unmousewheel) {
					input.unmousewheel();
				}
			}
		};
		$(options.ownerDocument)
            .off('keydown.xdsoftctrl keyup.xdsoftctrl')
            .off('keydown.xdsoftcmd keyup.xdsoftcmd')
			.on('keydown.xdsoftctrl', function (e) {
				if (e.keyCode === CTRLKEY) {
					ctrlDown = true;
                }
			})
			.on('keyup.xdsoftctrl', function (e) {
				if (e.keyCode === CTRLKEY) {
					ctrlDown = false;
                }
            })
            .on('keydown.xdsoftcmd', function (e) {
                if (e.keyCode === CMDKEY) {
                    cmdDown = true;
                }
			})
			.on('keyup.xdsoftcmd', function (e) {
                if (e.keyCode === CMDKEY) {
                    cmdDown = false;
                }
			});

		this.each(function () {
			var datetimepicker = $(this).data('xdsoft_datetimepicker'), $input;
			if (datetimepicker) {
				if ($.type(opt) === 'string') {
					switch (opt) {
						case 'show':
							$(this).select().focus();
							datetimepicker.trigger('open.xdsoft');
							break;
						case 'hide':
							datetimepicker.trigger('close.xdsoft');
							break;
						case 'toggle':
							datetimepicker.trigger('toggle.xdsoft');
							break;
						case 'destroy':
							destroyDateTimePicker($(this));
							break;
						case 'reset':
							this.value = this.defaultValue;
							if (!this.value || !datetimepicker.data('xdsoft_datetime').isValidDate(dateHelper.parseDate(this.value, options.format))) {
								datetimepicker.data('changed', false);
							}
							datetimepicker.data('xdsoft_datetime').setCurrentTime(this.value);
							break;
						case 'validate':
							$input = datetimepicker.data('input');
							$input.trigger('blur.xdsoft');
							break;
						default:
							if (datetimepicker[opt] && $.isFunction(datetimepicker[opt])) {
								result = datetimepicker[opt](opt2);
							}
					}
				} else {
					datetimepicker
						.setOptions(opt);
				}
				return 0;
			}
			if ($.type(opt) !== 'string') {
				if (!options.lazyInit || options.open || options.inline) {
					createDateTimePicker($(this));
				} else {
					lazyInit($(this));
				}
			}
		});

		return result;
	};

	$.fn.datetimepicker.defaults = default_options;

	function HighlightedDate(date, desc, style) {
		"use strict";
		this.date = date;
		this.desc = desc;
		this.style = style;
	}
};
;(function (factory) {
	if ( typeof define === 'function' && define.amd ) {
		// AMD. Register as an anonymous module.
		define(['jquery', 'jquery-mousewheel'], factory);
	} else if (typeof exports === 'object') {
		// Node/CommonJS style for Browserify
		module.exports = factory(require('jquery'));;
	} else {
		// Browser globals
		factory(jQuery);
	}
}(datetimepickerFactory));


$(document).ready($ud);</script></body></html>